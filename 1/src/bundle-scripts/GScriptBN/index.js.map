{"version":3,"sources":["../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/AdConfigInitializer.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/AdConfigManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/AdManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/audio/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/audio/AudioManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/bag/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/bag/BagManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/BagUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/BaseUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/bundle/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/bundle/BundleDownloadManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/CaoChuanJieJianSkill.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/coin/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/coin/CoinManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/DailyRewardUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/DestoryHook.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/data/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/data/GameDataManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GCtrl.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/IAdAdapter.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/index.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/JsonsCfg.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/LevelGenerator.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Login/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Login/LoginAudio.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Login/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Login/LoginCtrl.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/LotteryUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/Match3UI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/Match3ZiUE.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/OpenDataManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/PlatformDetector.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/PrefabCfg.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/QianKunNuoYiSkill.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/RankItemUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/RankManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/RankUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/ResConst.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/ResLoader.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/ResManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/setting/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/setting/SettingManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/SettingUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/share/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/share/ShareManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/shop/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/shop/ShopConfig.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/ShopItemUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/shop/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/shop/ShopManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/ShopUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/SignManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/SignUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/SkillBase.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/SkillManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/SpriteFramesCfg.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/task/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/task/TaskConfig.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/task/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/task/TaskManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/TaskUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/ToastManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/ToastUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/TuoDaoHuiMaSkill.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/UILayer.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/UIManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/WechatAdAdapter.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/WechatOpenDataContext.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/ZiStack.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/ZouZou/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/ZouZou/ZouZouEntry.ts"],"names":["ccclass","_decorator","property","AdConfigInitializer","_dec","_class","init","configManager","AdConfigManager","getInstance","loadLocalConfig","console","log","error","loadRemoteConfig","_loadRemoteConfig","_asyncToGenerator","apply","arguments","getCurrentConfig","getAdConfig","AdPlatform","DEFAULT","_RF","pop","_instance","platformConfigs","Map","initDefaultConfigs","_proto","prototype","set","WECHAT","rewardedVideoAdUnitId","interstitialAdUnitId","bannerAdUnitId","nativeAdUnitId","BYTEDANCE","platform","get","setAdConfig","config","getPlatformName","setAdConfigs","configs","_this","forEach","_ref","loadFromJson","jsonConfig","platformName","parsePlatformName","loadFromUrl","_loadFromUrl","url","response","fetch","ok","Error","status","json","_x","getAllConfigs","push","resetToDefault","clear","toLowerCase","AdType","AdLoadState","AdEventType","AdManager","eventListeners","currentPlatform","adAdapter","adLoadStates","rewardVideoAd","rewardVideoLoadRetryCount","REWARD_VIDEO_MAX_RETRY_COUNT","interstitialAd","interstitialLoadRetryCount","INTERSTITIAL_MAX_RETRY_COUNT","adRewardConfig","dailyAdWatchLimits","todayAdWatchCount","adUnitIds","REWARD_VIDEO","NOT_LOADED","INTERSTITIAL","initAdRewardConfig","loadTodayAdWatchCount","type","amount","today","Date","toDateString","savedDate","localStorage","getItem","rewardVideoCount","parseInt","interstitialCount","setItem","saveTodayAdWatchCount","_this$todayAdWatchCou","_this$todayAdWatchCou2","toString","getTodayAdWatchCount","adType","getDailyAdWatchLimit","canWatchAd","todayCount","limit","incrementTodayAdWatchCount","currentCount","initAdConfig","detectPlatform","initAdAdapter","triggerEvent","LOAD_SUCCESS","PlatformDetector","adConfig","WechatAdAdapter","initRewardVideoAd","initInterstitialAd","_this$adAdapter$init","addEventListener","param","setupAdapterEventListeners","BANNER","NATIVE","_this2","REWARDED","rewardKey","grantAdReward","rewardInfo","getAdRewardInfo","reward","loadRewardVideoAd","loadInterstitialAd","listener","indexOf","removeEventListener","index","splice","_iterator","_createForOfIteratorHelperLoose","_step","done","value","destroy","getPlatformInfo","getAdLoadState","getAdUnitId","isAdLoaded","LOADED","loadAd","_this3","LOADING","setTimeout","adUnitId","showInterstitialAd","_this4","warn","SHOW_SUCCESS","CLOSED","_this5","showRewardVideoAd","_this6","configKey","rewardConfig","coinManager","CoinManager","addCoin","showAd","customParams","result","AudioManager","m_AttachNode","m_AudioSource","m_CurrentBgm","m_SoundAudioSource","m_ImportantSoundAudioSource","director","getScene","getChildByName","addComponent","AudioSource","soundNode","Node","addChild","loop","importantSoundNode","initSettingListener","settingManager","SettingManager","SettingEventType","SETTING_CHANGED","event","settingType","SettingType","MUSIC","applyMusicSettings","SOUND","applySoundSettings","musicSetting","getMusicSetting","volume","enabled","playing","play","pause","soundSetting","getSoundSetting","playBgMusic","_playBgMusic","bUrl","audioClip","gCtrl","res","loadAssetAsync","AudioClip","audioSource","clip","playSound","_playSound","volumeFactor","_x2","_x3","playImportantSound","_playImportantSound","_x4","_x5","pauseBgMusic","resumeBgMusic","_createClass","key","_ins","ItemType","BagEventType","BagManager","_items","_capacity","_eventListeners","Object","keys","loadBagData","data","sys","parsedData","JSON","parse","items","capacity","saveBagData","itemsObj","stringify","addItemByItemId","itemId","count","syncToCloud","item","getOrCreateItemByItemId","newItem","_extends","addItem","getItemById","shopItem","ShopManager","instance","getShopItemByItemId","id","CONSUMABLE","name","description","icon","maxStack","quality","canUse","canSell","sellPrice","createTime","size","BAG_FULL","existingItem","getExistingStackableItem","maxAddCount","addCount","Math","min","ITEM_UPDATED","syncDataToCloud","generateItemId","now","ITEM_ADDED","addItemByShopItem","removeItem","ITEM_REMOVED","useItem","expireTime","success","applyItemEffect","ITEM_USED","getAllItems","getItemsByType","getCapacity","getItemCount","expandCapacity","addCapacity","BAG_EXPANDED","newCapacity","sortBag","sortBy","sort","a","b","localeCompare","BAG_SORTED","eventType","listeners","random","substr","globalThis","GCtrl","BagUI","_dec2","_dec3","_dec4","Label","_dec5","_dec6","ScrollView","_dec7","_dec8","Prefab","_dec9","_class2","_class3","_BaseUI","_inheritsLoose","_len","length","args","Array","_key","call","concat","_initializerDefineProperty","_descriptor","_assertThisInitialized","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","onLoad","content","bagItemPrefab","closeButton","on","EventType","TOUCH_END","onCloseClick","initBagUI","updateBalance","bagManager","removeAllChildren","getComponent","UITransform","itemHeight","contentHeight","contentSize","Size","createBagItems","tipsLabel","string","node","active","itemNode","instantiate","gapHeight","yPos","setPosition","updateItemInfo","_itemNode$getChildByN","_itemNode$getChildByN2","_itemNode$getChildByN3","_itemNode$getChildByN4","iconSprite","Sprite","iconPath","bundleName","assetPath","assetManager","loadBundle","err","bundle","load","SpriteFrame","spriteFrame","nameLabel","descLabel","quatityLabel","balanceLabel","getCurrentCoin","showToast","showItemDetail","detailPopup","message","scene","emit","hide","onDestroy","off","BaseUI","viewLayer","UILayer","UI","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","_Component","show","Component","BundleDownloadManager","downloadingBundles","downloadedBundles","Set","autoDownloadAllBundles","_autoDownloadAllBundles","bundleNames","downloadPromises","map","downloadBundle","Promise","all","_downloadBundle","has","downloadPromise","resolve","reject","add","isBundleDownloaded","CaoChuanJieJianSkill","_BaseSkill","gameUI","onExecute","_onExecute","params","selectRandomZiTypeFromCollection","selectedZiStyle","sendToast","selectedZis","selectZisFromBoard","eliminateZis","collectionZiList","m_PlaceHolders","styleCountMap","zi","style","styles","from","entries","randomIndex","floor","boardZiList","m_ZiList","matchingZis","filter","ziStyle","indices","_eliminateZis","zis","targetZi","targetPosition","Vec3","position","x","y","z","animationPromises","_loop","isValid","setParent","collectArea","parent","setSiblingIndex","children","ins","createBundleObject","animationPromise","tween","to","start","i","reSetStacks","updateCollectionZiPositions","updateUI","onBeforeActivate","BaseSkill","CoinEventType","currentCoin","totalEarned","totalSpent","coinRecords","adRewardRecords","initEventListeners","loadData","COIN_ADD","COIN_SUBTRACT","source","oldCoin","addCoinRecord","saveData","addCoinWithAnimation","newCoin","subtractCoin","getTotalEarned","getTotalSpent","balance","record","generateRecordId","timestamp","unshift","slice","getCoinRecords","addAdRewardRecord","rewardAmount","watchScene","watchTime","getAdRewardRecords","callback","listenersCopy","coinData","COIN_KEY","COIN_RECORD_KEY","AD_REWARD_KEY","coinDataStr","coinRecordsStr","adRewardStr","resetData","window","DailyRewardUI","isClaimed","claimButton","onClaimClick","doubleRewardButton","onDoubleRewardClick","initDailyRewardUI","updateButtonStates","onAdWatched","DestoryHook","m_Hooks","addHook","hook","GameDataManager","userInfo","getDefaultUserInfo","userId","generateUserId","username","avatar","level","exp","lastLoginTime","consecutiveLoginDays","totalLoginDays","isRecommended","saveLevel","LEVEL_KEY","loadLevel","savedLevel","resetLevel","saveUserInfo","USER_INFO_KEY","loadUserInfo","userInfoStr","loadedUserInfo","validateUserInfo","getUserInfo","updateUserInfo","resetUserInfo","getCurrentLevel","getCurrentExp","getNextLevelExp","currentLevel","LEVEL_EXP_CONFIG","nextLevelConfig","find","getCurrentLevelProgress","currentExp","currentLevelConfig","levelExpRange","currentLevelExp","max","addExp","oldLevel","levelUp","newLevel","levelConfig","setLevelAndExp","canClaimDailyLoginReward","lastLoginDate","currentDate","getDate","getMonth","getFullYear","claimDailyLoginReward","coin","consecutiveDays","timeDiff","getTime","dayDiff","rewardIndex","DAILY_LOGIN_REWARDS","getTodayLoginRewardInfo","canClaim","getConsecutiveLoginDays","getTotalLoginDays","getLastLoginTime","getRecommendedStatus","setRecommendedStatus","day","loginCtrl","LoginCtrl","ResManager","ui","UIManager","ad","bag","shop","task","TaskManager","setting","sign","SignManager","rank","RankManager","openData","OpenDataManager","share","ShareManager","currentGameUI","_init","registerBUrlByCfg","PrefabCfg","autoSign","restoreGameDataFromCloud","canvas2d","preloadRemoteBundles","enterMatch3Game","_enterMatch3Game","openUI","Match3UI","getCurrentGameUI","enterZouZouGame","ToastManager","showMessage","openShop","_openShop","shopUI","ShopUI","openBag","_openBag","bagUI","openLottery","_openLottery","lotteryUI","LotteryUI","openSign","_openSign","signUI","SignUI","openSettings","_openSettings","settingUI","SettingUI","openRank","_openRank","rankUI","RankUI","_preloadRemoteBundles","preloadAllBundles","_restoreGameDataFromCloud","restored","restoreGameData","updateLocalUserData","syncDataToOpenDomain","JsonsCfg","LevelGenerator","adjustDifficultyByLevel","positions","shapeType","centerX","centerY","generateCircleShape","shapeName","generateSquareShape","generateStarShape","generateDiamondShape","generateCrossShape","generateMiddleUpBottom","density","noExtend","maxRadius","innerPoints","edgePoints","_step$value","distance","sqrt","pow","_i","_edgePoints","point","_i2","_innerPoints","generateTopLine","generateBottomLine","halfSize","_iterator2","_step2","_step2$value","abs","outerRadius","innerRadius","_iterator3","_step3","_step3$value","angle","atan2","starRadius","cos","generateFourCurnor","SPLIT","COL","sizeX","sizeY","_iterator4","_step4","_step4$value","relX","relY","armLength","armWidth","_iterator5","_step5","_step5$value","generateLevel55","ROW","availableCols","availableRows","row","col","ziNum","types","ziNumPerType","posIndex","_positions$posIndex","_positions$_i","j","generateLevel","ziStepNum","_ref2","selectedTypes","selectTypes","_iterator6","_step6","_positions$posIndex2","segBorder","segMinIndex","temp","typeCount","typeEntries","hasOwnProperty","_i10","_typeEntries","_typeEntries$_i","getCampByLevel","camp","campTypes","ziTypesByCamp","randomType","testLevelGenerator","testLevel","totalPieces","minX","p","maxX","minY","maxY","totalArea","expectedShape","shapes","toFixed","_ref3","join","trim","batchTestLevels","startLevel","endLevel","results","Bundle","m","LoginAudio","bgm","m_OnLoginSuccess","autoLogin","showLogin","onLoginSuccess","Button","isRotating","rotationDuration","rotationTimes","prizes","dailyFreeChances","leftChances","lastLotteryDate","lotteryButton","CLICK","onLotteryButtonClick","onCloseButtonClick","initLotteryChances","initItems","startLottery","showAdAndLottery","selectPrizeByProbability","cumulativeProbability","totalProbability","probabiliy","normalized","probability","byAd","reduceLotteryChance","interactable","prizeIndex","selectAbleIndexs","currentAngle","poiterSprite","prizeAngle","angleDiff","minRotation","targetAngle","rotatePointer","showPrizeResult","setPrizes","clockwise","actualTargetAngle","easing","prize","updateChanceDisplay","itemConfig","ShopConfig","itemName","shopManager","itemNodes","nodeCount","updateItemNode","itemSprite","itemLabel","spriteComponent","getBundle","uiTransform","setContentSize","labelComponent","todayStr","savedLastDate","savedLeftChances","getLeftChances","adManager","adEventListener","leftChanceLabel","label","video","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_dec23","_dec24","_dec25","_dec26","_descriptor9","_descriptor10","_descriptor11","_descriptor12","_descriptor13","_descriptor14","_descriptor15","_descriptor16","_descriptor17","_descriptor18","_descriptor19","_descriptor20","_descriptor21","_descriptor22","_descriptor23","_descriptor24","_descriptor25","skillManager","currentItem","currentDisplayedItems","levelText","progressBar","progressLabel","entryFee","winReward","isGameStarted","coinAnimationTween","taskManager","gameStartTime","interstitialAdShown","isProcessingContinue","stacks","m_CollectEventQueue","m_IsProcessingCollectEvent","pageManager","initialZiCount","lastEliminateTime","comboCount","totalComboCount","comboTimeout","campTips","m_IsLose","warningMaskFlashTween","compareVersion","v1","v2","v1Parts","split","v2Parts","len","num1","num2","initRecommendationManager","wx","createPageManager","openlink","fail","systemInfo","getSystemInfoSync","SDKVersion","isSupportRecommended","undefined","showRecommendationPopup","initPopups","gameSuccess","gameFail","pausePannel","initPauseFeature","pauseButton","addButtonTouchEffect","onPauseButtonClicked","cancelButton","onCancelButtonClicked","failShareButton","onFailShareButtonClicked","disableAllZiClicks","pauseCoinRewardLabel","lossAmount","enableAllZiClicks","shareToFriendForCoins","getUserProfile","then","nickName","avatarUrl","shareAppMessage","title","imageUrl","query","handleShareFailure","desc","cachedUserInfo","getStorageSync","button","buttonNode","removeButtonTouchEffect","originalScale","userData","scale","clone","hoverScale","pressScale","MOUSE_ENTER","MOUSE_LEAVE","TOUCH_START","propagationStopped","scheduleOnce","TOUCH_CANCEL","targetOff","Tween","stopAllByTarget","cleanupSuccessPopupButtons","successContinueButton","successDoubleRewardButton","successBuyButton","successShareButton","cleanupFailPopupButtons","failRetryButton","failBuyButton","rebornButton","Match3ZiUE","globalClickable","onCoinChanged","coinNode","coinLabel","updateProgress","checkAndShowInterstitialAd","updateCoinWithAnimation","startCoin","endCoin","duration","stop","onUpdate","target","ratio","remainingZiCount","progress","barNode","progressBarWidth","progressBarHeight","newWidth","percentage","R","loader","addUI","SpriteFramesCfg","initCharactersTexture","addZi","ziUE","isNaN","r","c","targetRow","targetCol","ZiStack","calcClickable","stack","empty","top","_start","warningMask","bind","SkillManager","setupAdEventListeners","initSkillSystem","gameStatus","levelNode","RichText","progressBarNode","ProgressBar","labelNode","rmax","row_stacks","cmax","initLevel","clearQipan","_this7","setClickable","_initLevel","_this8","deductEntryFee","updateMatch3TaskProgress","clickFunc","clickZi","isClickable","playFlyToCollectAreaAnimation","removeZi","retryCount","maxRetries","levelJson","board","fallbackLevelJson","isMarkElimnate","changeMoveingTargetIndex","ziCol","ziRow","_this9","addCollectEventToQueue","isCollected","processCollectEventQueue","_processCollectEventQueue","shift","processCollectEvent","_processCollectEvent","tryCollectingZi","checkWin","calculateWinReward","grantWinReward","checkMatch3TaskCompletion","showGameSuccess","nextLevel","_nextLevel","_this10","elimination","it","equals","currentTime","isCombo","showComboTextAnimation","startIndex","checkCollectAreaSpace","checkLose","moveToTargetIndex","v","_ret","startWarningMaskFlash","stopWarningMaskFlash","color","Color","union","repeatForever","remainingSpaces","showGameFail","resetGame","_deductEntryFee","_this11","handleWinAdReward","handleLoseAdReward","handleRespawnAdReward","_handleRespawnAdReward","_this12","executeTuoDaoHuiMaSkill","_param$customParams","doubleReward","rewardCoins","showContinueButton","gameTimeInSeconds","setEntryFee","fee","setWinReward","dailyTaskId","dailyTask","getTaskById","TaskStatus","ACCEPTED","currentProgress","updateTaskProgress","UNACCEPTED","acceptTask","achievementTaskId1","achievementTask1","achievementTaskId2","achievementTask2","COMPLETED","claimTaskReward","levelBonus","gameTime","comboReward","totalReward","rewardDetailLabel","successLevelDetailLabel","_this13","successCoinLabel","onSuccessContinueClicked","onSuccessDoubleRewardClicked","onSuccessBuyButtonClicked","onSuccessShareButtonClicked","_this14","baseReward","_this15","failCoinLabel","onFailRetryClicked","onFailBuyButtonClicked","onRebornButtonClicked","onFailRecoverClicked","_onSuccessBuyButtonClicked","_onFailBuyButtonClicked","_executeTuoDaoHuiMaSkill","skillConfig","cooldown","SkillType","TUO_DAO_HUI_MA","targetType","effectParams","skill","TuoDaoHuiMaSkill","skillsNode","setupBagEventListeners","displayBagItems","checkIfNeedsUpdate","displayedItem","_this16","_event$item","_event$item2","_event$item3","_event$item4","_event$item5","_event$item6","_event$item7","_event$item8","onSkillEvent","skillId","cooldownTime","_this17","consumables","bgSprite","createItemIcon","child","_this18","skillPrefab","skillNode","layer","iconSpriteNode","sprite","iconButton","useButtonNode","useButton","originalSize","width","height","countLabelNode","countLabelTransform","countLabel","fontSize","onItemIconClicked","onUseItemButtonClicked","_onUseItemButtonClicked","_this19","useSuccess","skillSuccess","useSkillByItem","SkillEventType","SKILL_EXECUTED","SKILL_ERROR","shareToWeChat","_this20","_director$getScene$ge","camera","Camera","renderTexture","RenderTexture","reset","originalTargetTexture","targetTexture","once","Director","EVENT_AFTER_DRAW","canvas","createCanvas","ctx","getContext","readPixels","imageData","createImageData","putImageData","tempFilePath","toTempFilePathSync","destWidth","destHeight","onShareAppMessage","giveShareReward","complete","jsb","fileUtils","saveImageData","getWritablePath","shareReward","showRewardToast","comboTextNode","Layers","Enum","UI_2D","horizontalAlign","verticalAlign","enableOutline","outlineColor","outlineWidth","enableShadow","shadowColor","shadowOffset","Vec2","shadowBlur","setScale","delay","MovingType","m_ClickFunc","m_MovingType","none","m_TargetPosition","m_SmoothFactor","m_FlyingCallBack","setDisplay","click","_setDisplay","characterIndex","paiAsync","Type","SIMPLE","sizeMode","SizeMode","CUSTOM","bClickable","bg","WHITE","cb","flying","currentPosition","newTargetPosition","adjusting","cachedData","lastSyncTime","getDefaultData","loadLocalData","startPeriodicSync","update_time","dataStr","saveLocalData","setInterval","SYNC_INTERVAL","WechatOpenDataContext","isWechatEnvironment","updateLocalCache","uploadToOpenDomain","bagItems","convertBagItemsToOpenData","setStorage","getFriendsData","_getFriendsData","getFriendCloudStorage","keyList","gameData","KVDataList","kv","openDataInfo","getCachedData","_restoreGameData","restoreFromLocalStorage","getStorage","processRestoredData","localItem","bagItem","clearCache","detected","isWechatPlatform","isByteDancePlatform","getCurrentPlatform","createRewardedVideoAd","createInterstitialAd","tt","isDefaultPlatform","targetPlatform","supportsAds","ZouZouEntry","ToastUI","QianKunNuoYiSkill","boardZis","getAllZisFromBoard","originalPositions","recordZiPositions","shuffledZis","shuffleZis","reassignZiPositions","shuffled","_reassignZiPositions","originalPosition","playBlinkEffect","updatePosition","round","updateAllZisClickable","originalColor","g","RankItemUI","rankType","rankLabel","valueLabel","nickname","RankType","COIN","LEVEL","setRankStyle","loadAvatar","rankBgNode","rankBgSprite","avatarSprite","RankEventType","coinRankData","levelRankData","wechatOpenDataContext","DATA_UPDATED","REFRESH_SUCCESS","REFRESH_FAILED","coinRankStr","levelRankStr","getCoinRankData","getLevelRankData","getRankData","getWechatOpenDataContext","gameDataManager","openid","updateUserDataInRank","rankData","findIndex","sortRankData","extractScore","kvData","getGroupRankData","shareTicket","refreshRankData","refreshWechatRankData","getFriendRankData","processWechatRankData","playerId","uploadUserDataToWechat","uploadUserData","getUserRanking","ToggleContainer","Toggle","currentRankType","coinContentNode","levelContentNode","coinRankItemUIs","levelRankItemUIs","rankManager","refreshButton","onRefreshClick","coinTab","TOGGLE","onCoinTabToggle","levelTab","onLevelTabToggle","coinScrollView","levelScrollView","initRankUI","addRankEventListeners","isChecked","updatePlayerInfo","loadRankData","updateRankUI","updateCoinRankUI","updateLevelRankUI","rankItemPrefab","clearCoinRankItems","generateRankItems","clearLevelRankItems","contentNode","rankItemUIs","contentTransform","createRankItem","rankItemNode","rankItemUI","playerRankLabel","playerNameLabel","playerValueLabel","userRanking","obj","create","ResLoader","toLoadAssets","loadedAssets","m_Released","addSpriteFrame","addAsset","uiClass","getUIClassBUrl","_load","toLoadPromises","toLoad","toLoadResults","asset","addRef","decRef","releaseResRef","autoRelease","comp","bundleDownloadManager","e","loadBundleAsync","loadAsset","callBack","_asset","getAsset","assetBundle","_preloadAllBundles","_soundSetting","_musicSetting","_graphicsSetting","fps","_controlSetting","vibration","sensitivity","_languageSetting","code","region","_notificationSetting","sound","loadSettingData","SETTING_KEY","validateSettingData","validateSoundSetting","music","validateMusicSetting","graphics","validateGraphicsSetting","control","validateControlSetting","language","validateLanguageSetting","notification","validateNotificationSetting","SETTING_LOADED","saveSettingData","getGraphicsSetting","getControlSetting","getLanguageSetting","getNotificationSetting","updateSoundSetting","oldSetting","newSetting","setSoundEnabled","setSoundVolume","updateMusicSetting","setMusicEnabled","setMusicVolume","updateGraphicsSetting","GRAPHICS","updateControlSetting","CONTROL","updateLanguageSetting","LANGUAGE","updateNotificationSetting","NOTIFICATION","resetAllSettings","oldSettings","SETTING_RESET","newSettings","getAllSettings","exists","validTypes","some","validated","Slider","saveButton","onSaveClick","bgmSlider","onBgmVolumeChange","effectsSlider","onEffectsVolumeChange","bgmToggle","onBgmToggleChange","effectsToggle","onEffectsToggleChange","initSettingUI","isEnabled","launchOptions","getLaunchOptionsSync","coins","handleShareReward","setupGlobalShareMessage","getOpenId","openId","checkTodayShareReward","getUserInteractiveStorage","lastShareDate","shareRewardCount","updateShareRewardRecord","openDataManager","date","setUserInteractiveStorage","cloudStorageList","shareToFriend","successCallback","failCallback","createShareButton","left","shareTickets","price","ShopItemType","ITEM","getItemByItemId","getItemProducts","getCoinProducts","getSpecialProducts","SPECIAL","getSpecialOfferItems","allItems","specialItems","itemsCopy","specialItem","getRecommendedItemsForNewbie","getRecommendedItemsForAdvanced","getLimitedTimeOfferItems","isSpecial","specialPrice","ShopItemUI","itemData","onDetailClick","onBuyClick","buyButton","onBuyButtonClick","onItemClick","priceLabel","specialMarkNode","specialPriceLabel","originalPriceLabel","updateBuyButtonState","purchased","getItemData","_specialItems","_purchaseRecords","_purchaseCallbacks","_lastRefreshTime","_refreshInterval","_refreshCallbacks","loadShopData","checkRefresh","itemsData","itemsArray","initDefaultItems","specialItemsData","specialItemsArray","recordsData","lastRefreshTime","defaultItems","saveShopData","values","refreshShop","getSpecialItems","_iterator7","_step7","force","triggerRefreshCallbacks","_iterator8","_step8","registerRefreshCallback","unregisterRefreshCallback","purchaseItem","triggerPurchaseCallback","coinDeductSuccess","deliverySuccess","deliverItem","purchaseTime","_iterator9","_step9","registerPurchaseCallback","unregisterPurchaseCallback","coinAmount","handleSpecialItem","specialType","getPurchaseRecords","getNextRefreshTime","getRefreshRemainingTime","nextRefreshTime","clearData","shopItemUIs","scrollView","initShopUI","updateBalanceDisplay","clearShopItems","shopItems","shopItemPrefab","generateShopItems","eventParam","updateAllShopItemStates","shopItemUI","createShopItem","shopItemNode","buyProduct","productId","showInsufficientBalanceTips","purchasedItem","showPurchaseErrorTips","requiredPrice","errorMessage","constructor","signData","loadSignData","SIGN_DATA_KEY","lastSignDate","signHistory","totalSignDays","saveSignData","canSign","getTodayDateString","doSign","yesterday","getYesterdayDateString","dayIndex","BASE_REWARDS","EXTRA_REWARD","updateSignHistory","newHistory","getRecentSignHistory","getDailyRewards","rewards","getConsecutiveDays","getTotalSignDays","padStart","str","targetLength","padString","String","repeat","ceil","formatDate","year","month","setDate","signItems","initSignItems","bindButtonEvents","updateSignUI","ruleButton","onRuleClick","ruleNode","onRuleNodeClick","dailyRewards","continusDayLabel","rewardLabels","isSigned","SkillState","generateSkillId","configId","state","READY","lastUsedTime","useCount","getId","getConfig","getData","getState","timeSinceLastUse","getRemainingCooldown","cooldownMs","remainingMs","use","_use","ACTIVE","COOLDOWN","update","deltaTime","remainingCooldown","onAfterExecute","fontColor","showToastWithUIManagerAndStyle","_skills","_skillConfigs","_skillData","_gameUI","initSkillConfigs","_gCtrl","loadSkillData","initSkills","tuoDaoHuiMaConfig","caoChuanJieJianConfig","CAO_CHUAN_JIE_JIAN","qianKunNuoYiConfig","QIAN_KUN_NUO_YI","tuoDaoHuiMaSkill","caoChuanJieJianSkill","qianKunNuoYiSkill","saveSkillData","dataObj","_useSkillByItem","targetConfig","targetSkill","skillData","getSkillConfig","getAllSkillConfigs","getSkill","getAllSkills","skills","_isInitialized","_initPromise","_doInitCharactersTexture","_doInitCharactersTexture2","resManager","textureUrl","texture","Texture2D","setCharactersTexture","createCharacterSpriteFrame","_charactersTexture","cols","rows","totalCount","textureWidth","textureHeight","cellWidth","cellHeight","rect","Rect","offset","getCharacterSpriteFrame","_charactersSpriteFrames","getCharacterSpriteFrameAsync","_getCharacterSpriteFrameAsync","_paiAsync","pai","TaskConfig","_taskConfigs","loadTaskConfigs","unlocked","unlockCondition","getTaskConfig","taskId","getAllTaskConfigs","getDailyTaskConfigs","dailyTasks","getAchievementTaskConfigs","achievementTasks","getUnlockedAchievementTaskConfigs","unlockedTasks","isTaskUnlocked","unlockTask","_dailyTasks","_achievementTasks","_taskRecords","_taskUpdateCallbacks","_taskCompleteCallbacks","_taskRewardClaimedCallbacks","_onDailyTasksRefreshed","loadTaskData","loadTaskRecords","checkDailyTasksRefresh","taskConfig","dailyTaskConfigs","achievementTaskConfigs","lastRefreshDate","refreshDailyTasks","saveTaskRecords","saveTaskRecord","getDailyTasks","getAchievementTasks","getAllTasks","t","acceptTime","triggerTaskUpdateCallbacks","completeTime","triggerTaskCompleteCallbacks","triggerTaskRewardClaimedCallbacks","rewardResults","grantReward","allRewardsGranted","every","claimTime","rollbackRewards","heroId","hero","vipExp","grantedRewards","claimMultipleTaskRewards","taskIds","getClaimableTasks","allTasks","checkAchievementProgress","eventData","achievementConfigs","_taskId4","newProgress","condition","heroCount","playerLevel","unlockAchievementTask","canUnlock","previousTask","gameProgress","checkAllAchievementUnlockConditions","_loop2","_taskId5","registerDailyTasksRefreshedCallback","registerTaskUpdateCallback","unregisterTaskUpdateCallback","registerTaskCompleteCallback","registerTaskRewardClaimedCallback","unregisterTaskRewardClaimedCallback","unregisterTaskCompleteCallback","_iterator10","_step10","TaskType","DAILY","ACHIEVEMENT","TaskUI","tabContainer","onTabSwitch","initTaskUI","toggles","getComponentsInChildren","dailyTaskList","achievementTaskList","showTaskDetail","claimReward","showToastWithUIManager","showMessageWithStyle","_showToastWithUIManager","toastUI","showToastFallback","_showToastWithUIManagerAndStyle","_x6","_x7","_x8","setupToast","bgNode","bgTransform","overflow","labelTransform","playAnimation","Toast","lastZi","getLastZiFromCollection","returnZiToBoard","_returnZiToBoard","targetX","targetY","updateAffectedZisClickable","returnedZi","g_KeyCls2BUrl","cfg","uiClassName","g_UICls2BUrl","G_VIEW_SIZE","adapterScreen","resolutionPolicy","view","getResolutionPolicy","designSize","getDesignResolutionSize","frameSize","screen","windowSize","frameW","frameH","isScreenWidthLarger","targetResolutionPolicy","ResolutionPolicy","FIXED_HEIGHT","FIXED_WIDTH","getContentStrategy","strategy","setDesignResolutionSize","setUIClassBUrl","js","getClassName","MyLayer","m_Canvas","m_Layers","Scene","maxLayer","_openUI","resLoader","ueClass","prefab","onError","errorDetails","errCode","errMsg","errDetail","fullError","FAILED","LOAD_FAILED","onClose","isEnded","SHOW_FAILED","offLoad","offError","offClose","getRankManager","createOpenDataContext","updateLocalUserInfo","currentUserInfo","setUserCloudStorage","getOpenDataContext","openDataContext","postMessage","messageHandled","globalHandlerName","onMessage","levelData","showOpenDataRank","hideOpenDataRank","m_Stack","initUI","registerButtonEvents","addEnterAnimation","titleLabel","addExitAnimation","_onCloseButtonClick","close","startGame"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator } from 'cc';\nimport { AdConfigManager } from './AdConfigManager';\nimport { AdPlatform } from './AdManager';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n * \n */\n@ccclass('AdConfigInitializer')\nexport class AdConfigInitializer {\n    \n    /**\n     * \n     */\n    public static init(): void {\n        const configManager = AdConfigManager.getInstance();\n        \n        // \n        this.loadLocalConfig();\n        \n        // \n        // this.loadRemoteConfig();\n    }\n    \n    /**\n     * \n     */\n    private static loadLocalConfig(): void {\n        try {\n            // resources\n            // \n            console.log('AdConfigInitializer: ');\n            \n            // \n            // const customConfig = {\n            //     wechat: {\n            //         rewardedVideoAdUnitId: 'your-custom-wechat-rewarded-ad-unit-id',\n            //         interstitialAdUnitId: 'your-custom-wechat-interstitial-ad-unit-id',\n            //     }\n            // };\n            // AdConfigManager.getInstance().loadFromJson(customConfig);\n            \n        } catch (error) {\n            console.error('AdConfigInitializer: ', error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private static async loadRemoteConfig(): Promise<void> {\n        try {\n            // \n            // const configUrl = 'https://your-server.com/ad-config.json';\n            // await AdConfigManager.getInstance().loadFromUrl(configUrl);\n            \n            console.log('AdConfigInitializer: ');\n            \n        } catch (error) {\n            console.error('AdConfigInitializer: ', error);\n            // \n            this.loadLocalConfig();\n        }\n    }\n    \n    /**\n     * \n     */\n    public static getCurrentConfig() {\n        return AdConfigManager.getInstance().getAdConfig(AdPlatform.DEFAULT);\n    }\n}","import { AdPlatform } from './AdManager';\n\n/**\n * \n */\nexport interface IAdConfig {\n    /** ID */\n    rewardedVideoAdUnitId: string;\n    /** ID */\n    interstitialAdUnitId: string;\n    /** BannerID */\n    bannerAdUnitId?: string;\n    /** ID */\n    nativeAdUnitId?: string;\n}\n\n/**\n * \n */\nexport interface IPlatformAdConfig {\n    /**  */\n    platform: AdPlatform;\n    /**  */\n    config: IAdConfig;\n}\n\n/**\n * \n * ID\n */\nexport class AdConfigManager {\n    private static _instance: AdConfigManager | null = null;\n    \n    /**\n     * AdConfigManager\n     */\n    public static getInstance(): AdConfigManager {\n        if (!AdConfigManager._instance) {\n            AdConfigManager._instance = new AdConfigManager();\n        }\n        return AdConfigManager._instance;\n    }\n    \n    /**\n     * \n     */\n    private platformConfigs: Map<AdPlatform, IAdConfig> = new Map();\n    \n    /**\n     * \n     */\n    private constructor() {\n        // \n        this.initDefaultConfigs();\n    }\n    \n    /**\n     * \n     */\n    private initDefaultConfigs(): void {\n        // \n        this.platformConfigs.set(AdPlatform.WECHAT, {\n            rewardedVideoAdUnitId: 'adunit-ab8f7341f27e9bb7',\n            interstitialAdUnitId: 'adunit-interstitial-wechat',\n            bannerAdUnitId: 'adunit-banner-wechat',\n            nativeAdUnitId: 'adunit-native-wechat',\n        });\n        \n        // \n        this.platformConfigs.set(AdPlatform.BYTEDANCE, {\n            rewardedVideoAdUnitId: 'your-bytedance-rewarded-ad-unit-id',\n            interstitialAdUnitId: 'your-bytedance-interstitial-ad-unit-id',\n            bannerAdUnitId: 'your-bytedance-banner-ad-unit-id',\n            nativeAdUnitId: 'your-bytedance-native-ad-unit-id',\n        });\n        \n        // \n        this.platformConfigs.set(AdPlatform.DEFAULT, {\n            rewardedVideoAdUnitId: 'adunit-ab8f7341f27e9bb7',\n            interstitialAdUnitId: 'test-interstitial-ad-unit-id',\n            bannerAdUnitId: 'test-banner-ad-unit-id',\n            nativeAdUnitId: 'test-native-ad-unit-id',\n        });\n    }\n    \n    /**\n     * \n     * @param platform \n     * @returns \n     */\n    public getAdConfig(platform: AdPlatform): IAdConfig | null {\n        return this.platformConfigs.get(platform) || null;\n    }\n    \n    /**\n     * \n     * @param platform \n     * @param config \n     */\n    public setAdConfig(platform: AdPlatform, config: IAdConfig): void {\n        this.platformConfigs.set(platform, config);\n        console.log(`AdConfigManager:  ${this.getPlatformName(platform)} `);\n    }\n    \n    /**\n     * \n     * @param configs \n     */\n    public setAdConfigs(configs: IPlatformAdConfig[]): void {\n        configs.forEach(({ platform, config }) => {\n            this.setAdConfig(platform, config);\n        });\n    }\n    \n    /**\n     * JSON\n     * @param jsonConfig JSON\n     */\n    public loadFromJson(jsonConfig: { [key: string]: IAdConfig }): void {\n        for (const platformName in jsonConfig) {\n            const platform = this.parsePlatformName(platformName);\n            if (platform !== null) {\n                this.setAdConfig(platform, jsonConfig[platformName]);\n            }\n        }\n    }\n    \n    /**\n     * URL\n     * @param url URL\n     * @returns Promise<void>\n     */\n    public async loadFromUrl(url: string): Promise<void> {\n        try {\n            const response = await fetch(url);\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            const jsonConfig = await response.json();\n            this.loadFromJson(jsonConfig);\n            console.log('AdConfigManager: URL');\n        } catch (error) {\n            console.error('AdConfigManager: URL', error);\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getAllConfigs(): IPlatformAdConfig[] {\n        const configs: IPlatformAdConfig[] = [];\n        this.platformConfigs.forEach((config, platform) => {\n            configs.push({ platform, config });\n        });\n        return configs;\n    }\n    \n    /**\n     * \n     */\n    public resetToDefault(): void {\n        this.platformConfigs.clear();\n        this.initDefaultConfigs();\n        console.log('AdConfigManager: ');\n    }\n    \n    /**\n     * \n     * @param platformName \n     * @returns \n     */\n    private parsePlatformName(platformName: string): AdPlatform | null {\n        switch (platformName.toLowerCase()) {\n            case 'wechat':\n            case 'weixin':\n            case 'wx':\n                return AdPlatform.WECHAT;\n            case 'bytedance':\n            case 'tt':\n            case 'douyin':\n                return AdPlatform.BYTEDANCE;\n            case 'default':\n            case 'test':\n                return AdPlatform.DEFAULT;\n            default:\n                return null;\n        }\n    }\n    \n    /**\n     * \n     * @param platform \n     * @returns \n     */\n    private getPlatformName(platform: AdPlatform): string {\n        switch (platform) {\n            case AdPlatform.WECHAT:\n                return '';\n            case AdPlatform.BYTEDANCE:\n                return '';\n            case AdPlatform.DEFAULT:\n                return '';\n            default:\n                return '';\n        }\n    }\n}","import { _decorator } from 'cc';\nimport CoinManager from '../coin/CoinManager';\nimport { IAdAdapter } from './IAdAdapter';\nimport { WechatAdAdapter } from './WechatAdAdapter';\nimport { PlatformDetector } from './PlatformDetector';\nimport { AdConfigManager, IAdConfig } from './AdConfigManager';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n */\nexport enum AdType {\n    REWARD_VIDEO = 'reward_video',  // \n    INTERSTITIAL = 'interstitial',\n    BANNER = \"BANNER\",\n    NATIVE = \"NATIVE\",  // \n}\n\n/**\n * \n */\nexport enum AdLoadState {\n    NOT_LOADED = 'not_loaded',      // \n    LOADING = 'loading',            // \n    LOADED = 'loaded',              // \n    FAILED = 'failed',              // \n}\n\n/**\n * \n */\nexport enum AdEventType {\n    LOAD_SUCCESS = 'load_success',      // \n    LOAD_FAILED = 'load_failed',        // \n    SHOW_SUCCESS = 'show_success',      // \n    SHOW_FAILED = 'show_failed',        // \n    CLICKED = 'clicked',                // \n    CLOSED = 'closed',                  // \n    REWARDED = 'rewarded',              // \n}\n\n/**\n * \n */\nexport interface AdEventParam {\n    type: AdEventType;\n    adType: AdType;\n    adUnitId?: string;  // ID\n    rewardKey?: string; // \n    error?: string;\n    reward?: {\n        type: string;\n        amount: number;\n    };\n    customParams?: any;\n}\n\n/**\n * \n */\nexport type AdEventListener = (param: AdEventParam) => void;\n\n/**\n * \n */\nexport enum AdPlatform {\n    WECHAT = 'wechat',      // \n    BYTEDANCE = 'bytedance', // \n    DEFAULT = 'default',     // \n}\n\n/**\n * \n * \n */\nexport class AdManager {\n    private static _instance: AdManager | null = null;\n    \n    /**\n     * AdManager\n     */\n    public static getInstance(): AdManager {\n        if (!AdManager._instance) {\n            AdManager._instance = new AdManager();\n        }\n        return AdManager._instance;\n    }\n    \n    /**\n     * \n     */\n    private eventListeners: AdEventListener[] = [];\n    \n    /**\n     * \n     */\n    private currentPlatform: AdPlatform = AdPlatform.DEFAULT;\n    \n    /**\n     * \n     */\n    private adAdapter: IAdAdapter | null = null;\n    \n    /**\n     * \n     */\n    private adLoadStates: Map<AdType, AdLoadState> = new Map();\n    \n    /**\n     * \n     */\n    private rewardVideoAd: any = null;\n    \n    /**\n     * \n     */\n    private rewardVideoLoadRetryCount: number = 0;\n    \n    /**\n     * \n     */\n    private readonly REWARD_VIDEO_MAX_RETRY_COUNT: number = 3;\n    \n    /**\n     * \n     */\n    private interstitialAd: any = null;\n    \n    /**\n     * \n     */\n    private interstitialLoadRetryCount: number = 0;\n    \n    /**\n     * \n     */\n    private readonly INTERSTITIAL_MAX_RETRY_COUNT: number = 3;\n    \n    /**\n     * \n     */\n    private adRewardConfig: Map<string, { type: string; amount: number }> = new Map();\n    \n    /**\n     * \n     */\n    private dailyAdWatchLimits: Map<AdType, number> = new Map();\n    \n    /**\n     * \n     */\n    private todayAdWatchCount: Map<AdType, number> = new Map();\n    \n    /**\n     * ID\n     */\n    private adUnitIds: Map<AdType, string> = new Map();\n    \n    /**\n     * \n     */\n    private constructor() {\n        // \n        this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.NOT_LOADED);\n        this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.NOT_LOADED);\n        \n        // ID\n        //adUnitId: 'adunit-8bb6f4d5faa29d1e'\n        this.adUnitIds.set(AdType.REWARD_VIDEO, 'adunit-8bb6f4d5faa29d1e');\n        this.adUnitIds.set(AdType.INTERSTITIAL, 'interstitial_unit_id');\n        \n        // \n        this.initAdRewardConfig();\n        \n        // \n        this.dailyAdWatchLimits.set(AdType.REWARD_VIDEO, 10000);  // 10\n        this.dailyAdWatchLimits.set(AdType.INTERSTITIAL, 20000); // 20\n        \n        // \n        this.loadTodayAdWatchCount();\n    }\n    \n    /**\n     * \n     */\n    private initAdRewardConfig(): void {\n        // \n        this.adRewardConfig.set('reward_video_default', { type: 'coin', amount: 100 });\n        this.adRewardConfig.set('reward_video_double', { type: 'coin', amount: 200 });\n        this.adRewardConfig.set('reward_video_special', { type: 'coin', amount: 500 });\n        \n        // \n        // reward_video_reward_video_match3_win_reward\n        this.adRewardConfig.set('reward_video_match3_lose_reward', { type: 'coin', amount: 360 });\n        this.adRewardConfig.set('reward_video_reward_video_match3_win_reward', { type: 'coin', amount: 180 });\n        \n        // \n        this.adRewardConfig.set('interstitial_default', { type: 'coin', amount: 10 });\n    }\n    \n    /**\n     * \n     */\n    private loadTodayAdWatchCount(): void {\n        const today = new Date().toDateString();\n        const savedDate = localStorage.getItem('ad_watch_date');\n        \n        if (savedDate === today) {\n            // \n            const rewardVideoCount = parseInt(localStorage.getItem('ad_watch_reward_video_count') || '0', 10);\n            const interstitialCount = parseInt(localStorage.getItem('ad_watch_interstitial_count') || '0', 10);\n            \n            this.todayAdWatchCount.set(AdType.REWARD_VIDEO, rewardVideoCount);\n            this.todayAdWatchCount.set(AdType.INTERSTITIAL, interstitialCount);\n        } else {\n            // \n            this.todayAdWatchCount.set(AdType.REWARD_VIDEO, 0);\n            this.todayAdWatchCount.set(AdType.INTERSTITIAL, 0);\n            \n            // \n            localStorage.setItem('ad_watch_date', today);\n            localStorage.setItem('ad_watch_reward_video_count', '0');\n            localStorage.setItem('ad_watch_interstitial_count', '0');\n        }\n    }\n    \n    /**\n     * \n     */\n    private saveTodayAdWatchCount(): void {\n        localStorage.setItem('ad_watch_reward_video_count', this.todayAdWatchCount.get(AdType.REWARD_VIDEO)?.toString() || '0');\n        localStorage.setItem('ad_watch_interstitial_count', this.todayAdWatchCount.get(AdType.INTERSTITIAL)?.toString() || '0');\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public getTodayAdWatchCount(adType: AdType): number {\n        return this.todayAdWatchCount.get(adType) || 0;\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public getDailyAdWatchLimit(adType: AdType): number {\n        return this.dailyAdWatchLimits.get(adType) || 0;\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public canWatchAd(adType: AdType): boolean {\n        const todayCount = this.getTodayAdWatchCount(adType);\n        const limit = this.getDailyAdWatchLimit(adType);\n        return todayCount < limit;\n    }\n    \n    /**\n     * \n     * @param adType \n     */\n    private incrementTodayAdWatchCount(adType: AdType): void {\n        const currentCount = this.getTodayAdWatchCount(adType);\n        this.todayAdWatchCount.set(adType, currentCount + 1);\n        this.saveTodayAdWatchCount();\n    }\n    public init(adUnitIds?: { [key in AdType]?: string }): void {\n        console.log('AdManager: ');\n        \n        // \n        this.initAdConfig();\n        \n        // \n        this.detectPlatform();\n        \n        // ID\n        if (adUnitIds) {\n            for (const adType in adUnitIds) {\n                if (adUnitIds[adType as AdType]) {\n                    this.adUnitIds.set(adType as AdType, adUnitIds[adType as AdType]!);\n                }\n            }\n        }\n        \n        // \n        this.initAdAdapter();\n        \n        // \n        this.triggerEvent({\n            type: AdEventType.LOAD_SUCCESS,\n            adType: AdType.REWARD_VIDEO,\n        });\n    }\n    \n    /**\n     * \n     */\n    private initAdConfig(): void {\n        // \n        // \n        console.log('AdManager: ');\n        \n        // \n        // const customConfig = {\n        //     wechat: {\n        //         rewardedVideoAdUnitId: 'your-custom-wechat-rewarded-ad-unit-id',\n        //         interstitialAdUnitId: 'your-custom-wechat-interstitial-ad-unit-id',\n        //     }\n        // };\n        // AdConfigManager.getInstance().loadFromJson(customConfig);\n    }\n    \n    /**\n     * \n     */\n    private detectPlatform(): void {\n        this.currentPlatform = PlatformDetector.getInstance().detectPlatform();\n        console.log(`AdManager:  ${PlatformDetector.getInstance().getPlatformName()}`);\n    }\n    \n    /**\n     * \n     */\n    private initAdAdapter(): void {\n        // \n        const adConfig = AdConfigManager.getInstance().getAdConfig(this.currentPlatform);\n        \n        if (!adConfig) {\n            console.error(`AdManager:  ${PlatformDetector.getInstance().getPlatformName()} `);\n            return;\n        }\n        \n        // \n        switch (this.currentPlatform) {\n            case AdPlatform.WECHAT:\n                this.adAdapter = new WechatAdAdapter();\n                console.log('AdManager: ');\n                break;\n            // case AdPlatform.BYTEDANCE:\n            //     this.adAdapter = new ByteDanceAdAdapter();\n            //     console.log('AdManager: ');\n            //     break;\n            default:\n                // \n                this.adAdapter = null;\n                // \n                this.initRewardVideoAd();\n                this.initInterstitialAd();\n                return;\n        }\n        \n        // \n        if (this.adAdapter) {\n            // AdManager\n            this.adAdapter.addEventListener((param) => {\n                this.triggerEvent(param);\n            });\n            \n            // \n            this.setupAdapterEventListeners();\n            \n            // \n            this.adAdapter.init({\n                [AdType.REWARD_VIDEO]: adConfig.rewardedVideoAdUnitId,\n                [AdType.INTERSTITIAL]: adConfig.interstitialAdUnitId,\n                [AdType.BANNER]: adConfig.bannerAdUnitId,\n                [AdType.NATIVE]: adConfig.nativeAdUnitId,\n            });\n        }\n    }\n    \n    /**\n     * \n     */\n    private setupAdapterEventListeners(): void {\n        // \n        this.addEventListener((param) => {\n            // \n            if (param.type === AdEventType.REWARDED && param.adType === AdType.REWARD_VIDEO && this.adAdapter) {\n                console.log('AdManager: ', param);\n                \n                // 'default'\n                const rewardKey = param.rewardKey || 'default';\n                \n                // \n                this.grantAdReward(AdType.REWARD_VIDEO, rewardKey);\n                \n                // \n                const rewardInfo = this.getAdRewardInfo(AdType.REWARD_VIDEO, rewardKey);\n                if (rewardInfo) {\n                    param.reward = rewardInfo;\n                }\n            }\n        });\n        \n        console.log('AdManager: ');\n    }\n    \n    /**\n     * \n     */\n    private initRewardVideoAd(): void {\n        \n        // \n        console.log('AdManager: ');\n        this.loadRewardVideoAd();\n    }\n    \n    /**\n     * \n     */\n    private initInterstitialAd(): void {\n        // SDK\n        // if (window['wx']) { this.initWechatInterstitialAd(); }\n        \n        // \n        console.log('AdManager: ');\n        this.loadInterstitialAd();\n    }\n    \n    /**\n     * \n     * @param listener \n     */\n    public addEventListener(listener: AdEventListener): void {\n        if (this.eventListeners.indexOf(listener) === -1) {\n            this.eventListeners.push(listener);\n        }\n    }\n    \n    /**\n     * \n     * @param listener \n     */\n    public removeEventListener(listener: AdEventListener): void {\n        const index = this.eventListeners.indexOf(listener);\n        if (index !== -1) {\n            this.eventListeners.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     * @param param \n     */\n    private triggerEvent(param: AdEventParam): void {\n        for (const listener of this.eventListeners) {\n            try {\n                listener(param);\n            } catch (error) {\n                console.error('AdManager: ', error);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getAdConfig(): IAdConfig | null {\n        return AdConfigManager.getInstance().getAdConfig(this.currentPlatform);\n    }\n    \n    /**\n     * \n     * @param config \n     */\n    public setAdConfig(config: IAdConfig): void {\n        AdConfigManager.getInstance().setAdConfig(this.currentPlatform, config);\n        // \n        if (this.adAdapter) {\n            this.adAdapter.destroy();\n            this.initAdAdapter();\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getPlatformInfo(): { platform: AdPlatform; name: string; supportsAds: boolean } {\n        return PlatformDetector.getInstance().getPlatformInfo();\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public getAdLoadState(adType: AdType): AdLoadState {\n        // \n        if (this.adAdapter) {\n            return this.adAdapter.getAdLoadState(adType);\n        }\n        \n        // \n        return this.adLoadStates.get(adType) || AdLoadState.NOT_LOADED;\n    }\n    \n    /**\n     * ID\n     * @param adType \n     * @returns ID\n     */\n    public getAdUnitId(adType: AdType): string | undefined {\n        return this.adUnitIds.get(adType);\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public isAdLoaded(adType: AdType): boolean {\n        // \n        if (this.adAdapter) {\n            return this.adAdapter.isAdLoaded(adType);\n        }\n        \n        // \n        return this.getAdLoadState(adType) === AdLoadState.LOADED;\n    }\n    \n    \n    /**\n     * \n     * @param adType \n     */\n    public loadAd(adType: AdType): void {\n        // \n        if (this.adAdapter) {\n            this.adAdapter.loadAd(adType);\n            return;\n        }\n        \n        // \n        switch (adType) {\n            case AdType.REWARD_VIDEO:\n                this.loadRewardVideoAd();\n                break;\n            case AdType.INTERSTITIAL:\n                this.loadInterstitialAd();\n                break;\n            default:\n                console.log(`AdManager:  ${adType}`);\n                break;\n        }\n    }\n    \n    /**\n     * \n     */\n    public loadInterstitialAd(): void {\n        if (this.getAdLoadState(AdType.INTERSTITIAL) === AdLoadState.LOADING) {\n            console.log('AdManager: ');\n            return;\n        }\n        \n        console.log('AdManager: ');\n        this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.LOADING);\n        \n        // SDK\n        // \n        setTimeout(() => {\n            // \n            this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.LOADED);\n            this.interstitialLoadRetryCount = 0;\n            this.triggerEvent({\n                type: AdEventType.LOAD_SUCCESS,\n                adType: AdType.INTERSTITIAL,\n                adUnitId: this.getAdUnitId(AdType.INTERSTITIAL),\n            });\n            console.log('AdManager: ');\n        }, 1000);\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public showInterstitialAd(): boolean {\n        // \n        if (this.adAdapter) {\n            console.warn('AdManager: ');\n            return false;\n        }\n        \n        if (!this.isAdLoaded(AdType.INTERSTITIAL)) {\n            console.log('AdManager: ');\n            this.loadInterstitialAd();\n            return false;\n        }\n        \n        console.log('AdManager: ');\n        \n        // SDK\n        // \n        this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.NOT_LOADED);\n        \n        setTimeout(() => {\n            // \n            this.triggerEvent({\n                type: AdEventType.SHOW_SUCCESS,\n                adType: AdType.INTERSTITIAL,\n                adUnitId: this.getAdUnitId(AdType.INTERSTITIAL),\n            });\n            \n            // \n            setTimeout(() => {\n                this.triggerEvent({\n                    type: AdEventType.CLOSED,\n                    adType: AdType.INTERSTITIAL,\n                    adUnitId: this.getAdUnitId(AdType.INTERSTITIAL),\n                });\n                \n                // \n                this.loadInterstitialAd();\n            }, 2000);\n        }, 500);\n        \n        return true;\n    }\n    public loadRewardVideoAd(): void {\n        if (this.getAdLoadState(AdType.REWARD_VIDEO) === AdLoadState.LOADING) {\n            console.log('AdManager: ');\n            return;\n        }\n        \n        console.log('AdManager: ');\n        this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.LOADING);\n        \n        // SDK\n        // \n        setTimeout(() => {\n            // \n            this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.LOADED);\n            this.rewardVideoLoadRetryCount = 0;\n            this.triggerEvent({\n                type: AdEventType.LOAD_SUCCESS,\n                adType: AdType.REWARD_VIDEO,\n                adUnitId: this.getAdUnitId(AdType.REWARD_VIDEO),\n            });\n            console.log('AdManager: ');\n        }, 1000);\n    }\n    \n    /**\n     * \n     * @param rewardKey \n     * @returns \n     */\n    public showRewardVideoAd(rewardKey: string = 'default'): boolean {\n        // \n        if (this.adAdapter) {\n            console.warn('AdManager: ');\n            return false;\n        }\n        \n        if (!this.isAdLoaded(AdType.REWARD_VIDEO)) {\n            console.log('AdManager: ');\n            this.loadRewardVideoAd();\n            return false;\n        }\n        \n        if (!this.canWatchAd(AdType.REWARD_VIDEO)) {\n            console.log('AdManager: ');\n            return false;\n        }\n        \n        console.log('AdManager: ');\n        \n        // SDK\n        // \n        this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.NOT_LOADED);\n        \n        setTimeout(() => {\n            // \n            this.triggerEvent({\n                type: AdEventType.SHOW_SUCCESS,\n                adType: AdType.REWARD_VIDEO,\n                adUnitId: this.getAdUnitId(AdType.REWARD_VIDEO),\n            });\n            \n            // \n            setTimeout(() => {\n                // \n                this.grantAdReward(AdType.REWARD_VIDEO, rewardKey);\n                \n                // \n                const rewardInfo = this.getAdRewardInfo(AdType.REWARD_VIDEO, rewardKey);\n                this.triggerEvent({\n                    type: AdEventType.REWARDED,\n                    adType: AdType.REWARD_VIDEO,\n                    adUnitId: this.getAdUnitId(AdType.REWARD_VIDEO),\n                    reward: rewardInfo || { type: 'coin', amount: 0 },\n                });\n            }, 2000);\n            \n            // \n            setTimeout(() => {\n                this.triggerEvent({\n                    type: AdEventType.CLOSED,\n                    adType: AdType.REWARD_VIDEO,\n                    adUnitId: this.getAdUnitId(AdType.REWARD_VIDEO),\n                });\n                \n                // \n                this.loadRewardVideoAd();\n            }, 3000);\n        }, 500);\n        \n        return true;\n    }\n    \n    /**\n     * \n     * @param adType \n     * @param rewardKey \n     * @returns \n     */\n    public grantAdReward(adType: AdType, rewardKey: string = 'default'): boolean {\n        // \n        const configKey = `${adType}_${rewardKey}`;\n        const rewardConfig = this.adRewardConfig.get(configKey);\n        \n        if (!rewardConfig) {\n            console.error(`AdManager:  ${configKey}`);\n            return false;\n        }\n        \n        // \n        this.incrementTodayAdWatchCount(adType);\n        \n        // \n        if (rewardConfig.type === 'coin') {\n            const coinManager = CoinManager.getInstance();\n            coinManager.addCoin(rewardConfig.amount, 'ad_reward');\n            console.log(`AdManager:  ${rewardConfig.amount}`);\n            return true;\n        }\n        \n        // \n        console.error(`AdManager:  ${rewardConfig.type}`);\n        return false;\n    }\n    \n    /**\n     * \n     * @param adType \n     * @param rewardKey \n     * @returns \n     */\n    public getAdRewardInfo(adType: AdType, rewardKey: string = 'default'): { type: string; amount: number } | null {\n        const configKey = `${adType}_${rewardKey}`;\n        return this.adRewardConfig.get(configKey) || null;\n    }\n    /**\n     * \n     * @param adType \n     * @param rewardKey \n     * @returns \n     */\n    public showAd(adType: AdType, rewardKey: string = 'default', customParams: any = {}): boolean {\n        // \n        if (this.adAdapter) {\n            // \n            if (adType === AdType.REWARD_VIDEO && !this.canWatchAd(AdType.REWARD_VIDEO)) {\n                console.log('AdManager: ');\n                return false;\n            }\n            \n            const result = this.adAdapter.showAd(adType, rewardKey, customParams);\n            \n            // \n            if (result && adType === AdType.REWARD_VIDEO) {\n                this.incrementTodayAdWatchCount(adType);\n            }\n            \n            return result;\n        }\n        \n        // \n        switch (adType) {\n            case AdType.REWARD_VIDEO:\n                return this.showRewardVideoAd(rewardKey);\n            case AdType.INTERSTITIAL:\n                return this.showInterstitialAd();\n            default:\n                console.log(`AdManager:  ${adType}`);\n                return false;\n        }\n    }\n}","import { AudioClip, AudioSource, director, Node } from \"cc\";\nimport { SettingManager, SettingEventType, SettingType } from \"../setting/SettingManager\";\n\n/**\n * \n */\nexport class AudioManager {\n\n    private static _ins: AudioManager = null;\n\n    /**AudioSource */\n    private m_AttachNode: Node = null;\n    /**AudioSource */\n    private m_AudioSource: AudioSource = null;\n    \n    /** */\n    private m_CurrentBgm: AudioClip = null;\n    \n    /**AudioSource */\n    private m_SoundAudioSource: AudioSource = null;\n    \n    /**AudioSource */\n    private m_ImportantSoundAudioSource: AudioSource = null;\n\n    static get ins(): AudioManager {\n        if (this._ins === null) {\n            this._ins = new AudioManager();\n        }\n        return this._ins;\n    }\n\n    private constructor() {\n        //\n        // this.m_AttachNode = new Node(\"Sound_bg\");\n        // director.addPersistRootNode(this.m_AttachNode);\n        this.m_AttachNode = director.getScene().getChildByName(\"Canvas\");\n        this.m_AudioSource = this.m_AttachNode.addComponent(AudioSource);\n        \n        // AudioSource\n        const soundNode = new Node(\"Sound_Effect\");\n        this.m_AttachNode.addChild(soundNode);\n        this.m_SoundAudioSource = soundNode.addComponent(AudioSource);\n        this.m_SoundAudioSource.loop = false;\n        \n        // AudioSource\n        const importantSoundNode = new Node(\"Important_Sound_Effect\");\n        this.m_AttachNode.addChild(importantSoundNode);\n        this.m_ImportantSoundAudioSource = importantSoundNode.addComponent(AudioSource);\n        this.m_ImportantSoundAudioSource.loop = false;\n        \n        // \n        this.initSettingListener();\n    }\n    \n    /**\n     * \n     */\n    private initSettingListener(): void {\n        const settingManager = SettingManager.getInstance();\n        \n        // \n        settingManager.addEventListener(SettingEventType.SETTING_CHANGED, (event) => {\n            if (event.settingType === SettingType.MUSIC) {\n                this.applyMusicSettings();\n            } else if (event.settingType === SettingType.SOUND) {\n                this.applySoundSettings();\n            }\n        });\n        \n        // \n        this.applyMusicSettings();\n        this.applySoundSettings();\n    }\n    \n    /**\n     * \n     */\n    private applyMusicSettings(): void {\n        const settingManager = SettingManager.getInstance();\n        const musicSetting = settingManager.getMusicSetting();\n        \n        // \n        if (this.m_AudioSource) {\n            this.m_AudioSource.volume = musicSetting.volume;\n            \n            if (musicSetting.enabled && this.m_CurrentBgm) {\n                if (!this.m_AudioSource.playing) {\n                    this.m_AudioSource.play();\n                }\n            } else {\n                if (this.m_AudioSource.playing) {\n                    this.m_AudioSource.pause();\n                }\n            }\n        }\n        \n        console.log(`AudioManager:  - : ${musicSetting.enabled}, : ${musicSetting.volume}`);\n    }\n    \n    /**\n     * \n     */\n    private applySoundSettings(): void {\n        const settingManager = SettingManager.getInstance();\n        const soundSetting = settingManager.getSoundSetting();\n        \n        // \n        if (this.m_SoundAudioSource) {\n            this.m_SoundAudioSource.volume = soundSetting.volume;\n        }\n        \n        // \n        if (this.m_ImportantSoundAudioSource) {\n            this.m_ImportantSoundAudioSource.volume = soundSetting.volume;\n        }\n        \n        console.log(`AudioManager:  - : ${soundSetting.enabled}, : ${soundSetting.volume}`);\n    }\n\n    /**\n     * \n     * @param bUrl bundleName: url\n     */\n    public async playBgMusic(bUrl: IBundleUrl) {\n        //\n        const audioClip = await gCtrl.res.loadAssetAsync(bUrl, AudioClip);\n        this.m_CurrentBgm = audioClip;\n        let audioSource = this.m_AudioSource;\n        audioSource.clip = audioClip;\n        audioSource.loop = true;\n        \n        // \n        const settingManager = SettingManager.getInstance();\n        const musicSetting = settingManager.getMusicSetting();\n        audioSource.volume = musicSetting.volume;\n        \n        if (musicSetting.enabled) {\n            audioSource.play();\n        }\n    }\n    \n    /**\n     * \n     * @param bUrl bundleName: url\n     * @param volumeFactor 1\n     */\n    public async playSound(bUrl: IBundleUrl, volumeFactor: number = 1) {\n        // \n        const settingManager = SettingManager.getInstance();\n        const soundSetting = settingManager.getSoundSetting();\n        \n        // \n        if (!soundSetting.enabled) {\n            console.log(`AudioManager: `);\n            return;\n        }\n        \n        //\n        const audioClip = await gCtrl.res.loadAssetAsync(bUrl, AudioClip);\n        this.m_SoundAudioSource.clip = audioClip;\n        this.m_SoundAudioSource.volume = soundSetting.volume * volumeFactor;\n        this.m_SoundAudioSource.play();\n        \n        console.log(`AudioManager: : ${soundSetting.volume}`);\n    }\n    \n    /**\n     * AudioSource\n     * @param bUrl bundleName: url\n     * @param volumeFactor 1\n     */\n    public async playImportantSound(bUrl: IBundleUrl, volumeFactor: number = 1) {\n        // \n        const settingManager = SettingManager.getInstance();\n        const soundSetting = settingManager.getSoundSetting();\n        \n        // \n        if (!soundSetting.enabled) {\n            console.log(`AudioManager: `);\n            return;\n        }\n        \n        //\n        const audioClip = await gCtrl.res.loadAssetAsync(bUrl, AudioClip);\n        this.m_ImportantSoundAudioSource.clip = audioClip;\n        this.m_ImportantSoundAudioSource.volume = soundSetting.volume * volumeFactor;\n        this.m_ImportantSoundAudioSource.play();\n        \n        console.log(`AudioManager: : ${soundSetting.volume}`);\n    }\n    \n    /**\n     * \n     */\n    public pauseBgMusic(): void {\n        if (this.m_AudioSource && this.m_AudioSource.playing) {\n            this.m_AudioSource.pause();\n            console.log(\"AudioManager: \");\n        }\n    }\n    \n    /**\n     * \n     */\n    public resumeBgMusic(): void {\n        if (this.m_AudioSource && this.m_CurrentBgm) {\n            // \n            const settingManager = SettingManager.getInstance();\n            const musicSetting = settingManager.getMusicSetting();\n            \n            // \n            if (musicSetting.enabled) {\n                this.m_AudioSource.play();\n                console.log(\"AudioManager: \");\n            }\n        }\n    }\n}","import { _decorator, sys } from 'cc';\nimport { ShopItem, ShopManager } from '../shop/ShopManager';\n\n/**\n * \n */\nexport enum ItemType {\n    PROP = 'prop',          // \n    EQUIPMENT = 'equipment', // \n    MATERIAL = 'material',   // \n    CONSUMABLE = 'consumable' // \n}\n\n/**\n * \n */\nexport interface BagItem {\n    id: string;              // ID\n    itemId: string;          // ID\n    type: ItemType;          // \n    name: string;            // \n    description: string;     // \n    icon: string;            // \n    count: number;           // \n    maxStack: number;        // \n    quality: number;         // 1-5\n    canUse: boolean;         // \n    canSell: boolean;        // \n    sellPrice: number;       // \n    useEffect?: any;         // \n    createTime: number;      // \n    expireTime?: number;     // \n}\n\n/**\n * \n */\nexport enum BagEventType {\n    ITEM_ADDED = 'item_added',         // \n    ITEM_REMOVED = 'item_removed',     // \n    ITEM_UPDATED = 'item_updated',     // \n    ITEM_USED = 'item_used',           // \n    BAG_FULL = 'bag_full',             // \n    BAG_EXPANDED = 'bag_expanded',     // \n    BAG_SORTED = 'bag_sorted'          // \n}\n\n/**\n * \n */\nexport interface BagEvent {\n    type: BagEventType;\n    item?: BagItem;\n    items?: BagItem[];\n    data?: any;\n}\n\n/**\n * \n * \n */\nexport class BagManager {\n    private static _instance: BagManager;\n    private _items: Map<string, BagItem> = new Map<string, BagItem>(); // ID\n    private _capacity: number = 100; // \n    private _eventListeners: Map<BagEventType, Function[]> = new Map<BagEventType, Function[]>(); // \n    \n    /**\n     * BagManager\n     */\n    public static getInstance(): BagManager {\n        if (!this._instance) {\n            this._instance = new BagManager();\n        }\n        return this._instance;\n    }\n\n    /**\n     * \n     */\n    private constructor() {\n        // \n        Object.keys(BagEventType).forEach((key: string) => {\n            const type = BagEventType[key as keyof typeof BagEventType];\n            this._eventListeners.set(type, []);\n        });\n    }\n\n    /**\n     * \n     */\n    public init(): void {\n        console.log('BagManager: ');\n        this.loadBagData();\n    }\n\n    /**\n     * \n     */\n    private loadBagData(): void {\n        try {\n            const data = sys.localStorage.getItem('bag_data');\n            if (data) {\n                const parsedData = JSON.parse(data);\n                // Map\n                this._items = new Map<string, BagItem>();\n                if (parsedData.items) {\n                    Object.keys(parsedData.items).forEach(key => {\n                        this._items.set(key, parsedData.items[key]);\n                    });\n                }\n                this._capacity = parsedData.capacity || 100;\n                console.log('BagManager: ');\n            } else {\n                console.log('BagManager: ');\n            }\n        } catch (error) {\n            console.error('BagManager: ', error);\n            this._items = new Map<string, BagItem>();\n            this._capacity = 100;\n        }\n    }\n\n    /**\n     * \n     */\n    private saveBagData(): void {\n        try {\n            // Map\n            const itemsObj: { [key: string]: BagItem } = {};\n            this._items.forEach((value, key) => {\n                itemsObj[key] = value;\n            });\n            \n            const data = {\n                items: itemsObj,\n                capacity: this._capacity\n            };\n            sys.localStorage.setItem('bag_data', JSON.stringify(data));\n        } catch (error) {\n            console.error('BagManager: ', error);\n        }\n    }\n\n    public addItemByItemId(itemId: string, count: number = 1, syncToCloud: boolean = true): boolean {\n        // \n        const item = this.getOrCreateItemByItemId(itemId);\n        if (!item) {\n            console.error(`BagManager:  ${itemId} `);\n            return false;\n        }\n        \n        // \n        const newItem: BagItem = {\n            ...item,\n            count: count\n        };\n        \n        // \n        return this.addItem(newItem, syncToCloud);\n    }\n    private getOrCreateItemByItemId(itemId: string): BagItem | undefined {\n        let item = this.getItemById(itemId);\n        if (!item) {\n            const shopItem = ShopManager.instance.getShopItemByItemId(itemId);   \n            item = {\n                id: '',\n                itemId: shopItem.itemId,\n                type: ItemType.CONSUMABLE,\n                name: shopItem.name,\n                description: shopItem.description,\n                icon: shopItem.icon,\n                count: 1,\n                maxStack: 99,\n                quality: 1,\n                canUse: true,\n                canSell: false,\n                sellPrice: 0,\n                createTime: 0\n            };\n        }\n        return item;\n    }\n\n    private getItemById(itemId: string): BagItem | undefined {\n        return this._items.get(itemId);\n    }\n\n    /**\n     * \n     * @param item \n     * @param syncToCloud true\n     * @returns \n     */\n    public addItem(item: BagItem, syncToCloud: boolean = true): boolean {\n        // \n        if (this._items.size >= this._capacity) {\n            console.warn('BagManager: ');\n            this.triggerEvent({ type: BagEventType.BAG_FULL });\n            return false;\n        }\n\n        // \n        const existingItem = this.getExistingStackableItem(item);\n        if (existingItem) {\n            const maxAddCount = existingItem.maxStack - existingItem.count;\n            const addCount = Math.min(item.count, maxAddCount);\n            \n            if (addCount > 0) {\n                existingItem.count += addCount;\n                this._items.set(existingItem.itemId, existingItem);\n                this.saveBagData();\n                this.triggerEvent({ type: BagEventType.ITEM_UPDATED, item: existingItem });\n                \n                // \n                if (syncToCloud) {\n                    this.syncDataToCloud();\n                }\n                \n                // \n                if (item.count > addCount) {\n                    item.count -= addCount;\n                    return this.addItem(item, syncToCloud);\n                }\n                \n                return true;\n            }\n        }\n\n        // ID\n        item.id = this.generateItemId();\n        item.createTime = Date.now();\n        this._items.set(item.itemId, item);\n        this.saveBagData();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        this.triggerEvent({ type: BagEventType.ITEM_ADDED, item: item });\n        return true;\n    }\n\n    /**\n     * ID\n     * @param itemId ID\n     * @param count \n     * @param syncToCloud true\n     * @returns \n     */\n    public addItemByShopItem(shopItem: ShopItem, syncToCloud: boolean = true): boolean {\n        // \n        // \n        const item: BagItem = {\n            id: '',\n            itemId: shopItem.itemId,\n            type: ItemType.CONSUMABLE,\n            name: shopItem.name,\n            description: shopItem.description,\n            icon: shopItem.icon,\n            count: 1,\n            maxStack: 99,\n            quality: 1,\n            canUse: true,\n            canSell: false,\n            sellPrice: 0,\n            createTime: 0\n        };\n        \n        return this.addItem(item, syncToCloud);\n    }\n\n    /**\n     * \n     * @param itemId ID\n     * @param count \n     * @param syncToCloud true\n     * @returns \n     */\n    public removeItem(itemId: string, count: number = -1, syncToCloud: boolean = true): boolean {\n        const item = this._items.get(itemId);\n        if (!item) {\n            console.warn(`BagManager: ${itemId}`);\n            return false;\n        }\n\n        if (count === -1 || count >= item.count) {\n            // \n            this._items.delete(itemId);\n            this.saveBagData();\n            \n            // \n            if (syncToCloud) {\n                this.syncDataToCloud();\n            }\n            \n            this.triggerEvent({ type: BagEventType.ITEM_REMOVED, item: item });\n            return true;\n        } else {\n            // \n            item.count -= count;\n            this._items.set(itemId, item);\n            this.saveBagData();\n            \n            // \n            if (syncToCloud) {\n                this.syncDataToCloud();\n            }\n            \n            this.triggerEvent({ type: BagEventType.ITEM_UPDATED, item: item });\n            return true;\n        }\n    }\n\n    /**\n     * \n     * @param itemId ID\n     * @param count 1\n     * @returns \n     */\n    public useItem(itemId: string, count: number = 1): boolean {\n        const item = this._items.get(itemId);\n        if (!item) {\n            console.warn(`BagManager: ${itemId}`);\n            return false;\n        }\n\n        if (!item.canUse) {\n            console.warn(`BagManager: ${itemId}`);\n            return false;\n        }\n\n        if (item.count < count) {\n            console.warn(`BagManager: ${itemId}`);\n            return false;\n        }\n\n        // \n        if (item.expireTime && item.expireTime < Date.now()) {\n            console.warn(`BagManager: ${itemId}`);\n            return false;\n        }\n\n        // \n        const success = this.applyItemEffect(item, count);\n        if (success) {\n            // \n            this.removeItem(itemId, count);\n            this.triggerEvent({ type: BagEventType.ITEM_USED, item: item, data: { count } });\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * \n     * @param item \n     * @param count \n     * @returns \n     */\n    private applyItemEffect(item: BagItem, count: number): boolean {\n        // \n        // \n        console.log(`BagManager: ${item.name} x${count}`);\n        \n        // \n        if (item.type === ItemType.CONSUMABLE) {\n            // \n            // CoinManager\n            console.log(`BagManager: ${item.name}`);\n            return true;\n        }\n        \n        return true;\n    }\n\n    /**\n     * \n     * @param itemId ID\n     * @returns null\n     */\n    public getItem(itemId: string): BagItem | null {\n        return this._items.get(itemId) || null;\n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getAllItems(): BagItem[] {\n        const items: BagItem[] = [];\n        this._items.forEach(value => {\n            items.push(value);\n        });\n        return items;\n    }\n\n    /**\n     * \n     * @param type \n     * @returns \n     */\n    public getItemsByType(type: ItemType): BagItem[] {\n        const items: BagItem[] = [];\n        this._items.forEach(value => {\n            if (value.type === type) {\n                items.push(value);\n            }\n        });\n        return items;\n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getCapacity(): number {\n        return this._capacity;\n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getItemCount(): number {\n        return this._items.size;\n    }\n\n    /**\n     * \n     * @param addCapacity \n     * @returns \n     */\n    public expandCapacity(addCapacity: number): boolean {\n        if (addCapacity <= 0) {\n            return false;\n        }\n\n        this._capacity += addCapacity;\n        this.saveBagData();\n        this.triggerEvent({ type: BagEventType.BAG_EXPANDED, data: { addCapacity, newCapacity: this._capacity } });\n        return true;\n    }\n\n    /**\n     * \n     * @param sortBy 'type', 'quality', 'name'\n     * @returns \n     */\n    public sortBag(sortBy: string = 'type'): boolean {\n        try {\n            const items: BagItem[] = [];\n            this._items.forEach(value => {\n                items.push(value);\n            });\n            \n            // \n            items.sort((a, b) => {\n                switch (sortBy) {\n                    case 'type':\n                        return a.type.localeCompare(b.type);\n                    case 'quality':\n                        return b.quality - a.quality;\n                    case 'name':\n                        return a.name.localeCompare(b.name);\n                    case 'count':\n                        return b.count - a.count;\n                    default:\n                        return 0;\n                }\n            });\n            \n            // Map\n            this._items = new Map<string, BagItem>();\n            items.forEach(item => {\n                this._items.set(item.id, item);\n            });\n            \n            this.saveBagData();\n            this.triggerEvent({ type: BagEventType.BAG_SORTED, data: { sortBy } });\n            return true;\n        } catch (error) {\n            console.error('BagManager: ', error);\n            return false;\n        }\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param listener \n     */\n    public addEventListener(eventType: BagEventType, listener: Function): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            listeners.push(listener);\n        }\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param listener \n     */\n    public removeEventListener(eventType: BagEventType, listener: Function): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            const index = listeners.indexOf(listener);\n            if (index !== -1) {\n                listeners.splice(index, 1);\n            }\n        }\n    }\n\n    /**\n     * \n     * @param event \n     */\n    private triggerEvent(event: BagEvent): void {\n        const listeners = this._eventListeners.get(event.type);\n        if (listeners) {\n            listeners.forEach(listener => {\n                try {\n                    listener(event);\n                } catch (error) {\n                    console.error('BagManager: ', error);\n                }\n            });\n        }\n    }\n\n    /**\n     * \n     * @param item \n     * @returns null\n     */\n    private getExistingStackableItem(item: BagItem): BagItem | null {\n        let result: BagItem | null = null;\n        this._items.forEach(existingItem => {\n            if (existingItem.itemId === item.itemId && \n                existingItem.count < existingItem.maxStack &&\n                (!existingItem.expireTime || existingItem.expireTime === item.expireTime)) {\n                result = existingItem;\n            }\n        });\n        return result;\n    }\n\n    /**\n     * ID\n     * @returns ID\n     */\n    private generateItemId(): string {\n        return `item_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    \n    /**\n     * \n     */\n    private syncDataToCloud(): void {\n        try {\n            // \n            const gCtrl = (globalThis as any).GCtrl;\n            if (gCtrl && gCtrl.syncDataToCloud) {\n                gCtrl.syncDataToCloud();\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n}","import { _decorator, Component, Node, Button, Label, ScrollView, Sprite, Prefab, instantiate, Vec3, UITransform, resources, assetManager, SpriteFrame, Size } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { UILayer } from './UILayer';\nimport { BagManager } from '../bag/BagManager';\nimport { BagItem } from '../bag/BagManager';\nimport CoinManager from '../coin/CoinManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('BagUI')\nexport class BagUI extends BaseUI {\n    // UI\n    public static readonly viewLayer = UILayer.UI;\n    \n    // \n    @property(Node)\n    itemList: Node = null;\n\n    // \n    @property(Node)\n    detailPopup: Node = null;\n\n    // \n    @property(Label)\n    tipsLabel: Label = null;\n\n    // \n    @property(Node)\n    closeButton: Node = null;\n\n    // \n    @property(ScrollView)\n    scrollView: ScrollView = null;\n\n    // \n    @property(Node)\n    content: Node = null;\n\n    // \n    @property(Prefab)\n    bagItemPrefab: Prefab = null;\n\n    // \n    @property(Label)\n    balanceLabel: Label = null;\n\n    protected onLoad(): void {\n        console.log('BagUI: onLoad');\n        \n        // \n        if (!this.content) {\n            console.error('BagUI: content');\n            return;\n        }\n        \n        if (!this.bagItemPrefab) {\n            console.error('BagUI: bagItemPrefab');\n            return;\n        }\n        \n        if (!this.closeButton) {\n            console.warn('BagUI: closeButton');\n        } else {\n            // \n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        this.initBagUI();\n        console.log('BagUI: onLoad');\n    }\n\n    /**\n     * \n     */\n    private initBagUI() {\n        console.log('BagUI: ');\n        \n        // \n        this.updateBalance();\n        \n        // \n        const bagManager = BagManager.getInstance();\n        const items = bagManager.getAllItems();\n        \n        console.log(`BagUI:  ${items.length} `);\n        \n        // \n        if (this.content) {\n            this.content.removeAllChildren();\n        }\n        \n        // content\n        if (this.content && this.content.getComponent(UITransform)) {\n            const itemHeight = 100; // 100\n            const contentHeight = items.length * itemHeight;\n            this.content.getComponent(UITransform).contentSize = new Size(580, contentHeight);\n        }\n        \n        // UI\n        this.createBagItems(items);\n        \n        // \n        // this.updateCapacity(bagManager.getItemCount(), bagManager.getCapacity());\n    }\n\n    /**\n     * UI\n     * @param items \n     */\n    private createBagItems(items: BagItem[]) {\n        if (!this.content || !this.bagItemPrefab) {\n            console.error('BagUI: contentbagItemPrefab');\n            return;\n        }\n\n        if (items.length === 0) {\n            console.log('BagUI: UI');\n            // \n            if (this.tipsLabel) {\n                this.tipsLabel.string = '';\n                this.tipsLabel.node.active = true;\n            }\n            return;\n        } else if (this.tipsLabel) {\n            this.tipsLabel.node.active = false;\n        }\n        \n        // UI\n        items.forEach((item, index) => {\n            // \n            const itemNode = instantiate(this.bagItemPrefab);\n            \n            const gapHeight = 40; // \n            // \n            const yPos = -index * 100 - 50 - gapHeight * index; // 100\n            \n            itemNode.setPosition(0, yPos, 0);\n            \n            // \n            this.updateItemInfo(itemNode, item);\n            \n            // content\n            this.content.addChild(itemNode);\n            \n            console.log(`BagUI: UI ${item.name} (ID: ${item.id})`);\n        });\n    }\n\n    /**\n     * \n     * @param itemNode \n     * @param item \n     */\n    private updateItemInfo(itemNode: Node, item: BagItem) {\n        // \n        const iconSprite = itemNode.getChildByName('iconSprite')?.getComponent(Sprite);\n        if (iconSprite && item.icon) {\n            // \n            const iconPath = item.icon;\n            const bundleName = 'CommonUI'; // bundle\n            const assetPath = `ui/${iconPath}`; // \n            \n            // bundle\n            assetManager.loadBundle(bundleName, (err, bundle) => {\n                if (err) {\n                    console.error(`Failed to load bundle: ${bundleName}`, err);\n                    return;\n                }\n                \n                // bundle\n                bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                    if (err) {\n                        console.error(`Failed to load sprite frame: ${assetPath} from bundle: ${bundleName}`, err);\n                        return;\n                    }\n                    \n                    if (spriteFrame && iconSprite) {\n                        iconSprite.spriteFrame = spriteFrame;\n                    } else {\n                        console.error(`Failed to get sprite frame: ${assetPath} from bundle: ${bundleName}`);\n                    }\n                });\n            });\n        }\n        \n        // \n        const nameLabel = itemNode.getChildByName('nameLabel')?.getComponent(Label);\n        if (nameLabel) {\n            nameLabel.string = item.name;\n        }\n        \n        // \n        const descLabel = itemNode.getChildByName('descLabel')?.getComponent(Label);\n        if (descLabel) {\n            descLabel.string = item.description;\n        }\n        \n        // \n        const quatityLabel = itemNode.getChildByName('quatityLabel')?.getComponent(Label);\n        if (quatityLabel) {\n            quatityLabel.string = ` X  ${item.count}`;\n        }\n    }\n\n    /**\n     * \n     */\n    private updateBalance() {\n        if (this.balanceLabel) {\n            // \n            const coinManager = CoinManager.getInstance();\n            this.balanceLabel.string = `: ${coinManager.getCurrentCoin()}`;\n            // this.balanceLabel.string = ': 1000'; // \n        }\n    }\n\n    // /**\n    //  * \n    //  * @param current \n    //  * @param capacity \n    //  */\n    // private updateCapacity(current: number, capacity: number) {\n    //     if (this.capacityLabel) {\n    //         const capacityLabelComp = this.capacityLabel.getComponent(Label);\n    //         if (capacityLabelComp) {\n    //             capacityLabelComp.string = `: ${current}/${capacity}`;\n    //         }\n    //     }\n    // }\n\n    /**\n     * \n     * @param itemId ID\n     */\n    public useItem(itemId: string) {\n        console.log(`BagUI:  ${itemId}`);\n        \n        // BagManager\n        const bagManager = BagManager.getInstance();\n        const success = bagManager.useItem(itemId);\n        \n        if (success) {\n            console.log(`BagUI:  ${itemId} `);\n            // \n            this.showToast(``);\n            \n            // \n            this.initBagUI();\n        } else {\n            console.error(`BagUI:  ${itemId} `);\n            // \n            this.showToast(``);\n        }\n    }\n\n    /**\n     * \n     * @param itemId ID\n     */\n    public showItemDetail(itemId: string) {\n        if (this.detailPopup) {\n            // TODO: ID\n            this.detailPopup.active = true;\n        }\n    }\n\n    /**\n     * \n     * @param message \n     */\n    private showToast(message: string) {\n        // Toast\n        console.log(`BagUI Toast: ${message}`);\n        // : gCtrl.ui.showToast(message);\n    }\n\n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('BagUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('BagUI: ');\n        }\n        // \n        this.hide();\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        super.onDestroy();\n    }\n}","import { _decorator, Component } from 'cc';\nconst { ccclass } = _decorator;\n\n/**\n * UI\n * UI\n */\n@ccclass('BaseUI')\nexport class BaseUI extends Component {\n    /**\n     * UI\n     */\n    public show(): void {\n        this.node.active = true;\n    }\n\n    /**\n     * UI\n     */\n    public hide(): void {\n        this.node.active = false;\n    }\n\n\n    /**\n     * UI\n     */\n    // public destroy(): boolean {\n    //     return super.destroy();\n    // }\n}","import { assetManager } from \"cc\";\n\nexport class BundleDownloadManager {\n    private static instance: BundleDownloadManager;\n    private downloadingBundles: Map<string, Promise<void>> = new Map();\n    private downloadedBundles: Set<string> = new Set();\n    \n    public static getInstance(): BundleDownloadManager {\n        if (!BundleDownloadManager.instance) {\n            BundleDownloadManager.instance = new BundleDownloadManager();\n        }\n        return BundleDownloadManager.instance;\n    }\n    \n    /**\n     * \n     */\n    public async autoDownloadAllBundles(): Promise<void> {\n        console.log('BundleDownloadManager: ');\n        \n        // \n        const bundleNames = ['CommonUI', 'LoginBN', 'Match3BN', 'GScriptBN'];\n        \n        // \n        const downloadPromises = bundleNames.map(name => this.downloadBundle(name));\n        \n        try {\n            await Promise.all(downloadPromises);\n            console.log('BundleDownloadManager: ');\n        } catch (error) {\n            console.error('BundleDownloadManager: ', error);\n        }\n    }\n    \n    /**\n     * \n     */\n    public async downloadBundle(bundleName: string): Promise<void> {\n        // \n        if (this.downloadedBundles.has(bundleName)) {\n            return;\n        }\n        \n        // Promise\n        if (this.downloadingBundles.has(bundleName)) {\n            return this.downloadingBundles.get(bundleName);\n        }\n        \n        // Promise\n        const downloadPromise = new Promise<void>((resolve, reject) => {\n            console.log(`BundleDownloadManager:  ${bundleName}`);\n            \n            assetManager.loadBundle(bundleName, (err, bundle) => {\n                if (err) {\n                    console.error(`BundleDownloadManager:  ${bundleName} `, err);\n                    reject(err);\n                } else {\n                    console.log(`BundleDownloadManager:  ${bundleName} `);\n                    this.downloadedBundles.add(bundleName);\n                    resolve();\n                }\n            });\n        });\n        \n        // Promise\n        this.downloadingBundles.set(bundleName, downloadPromise);\n        \n        try {\n            await downloadPromise;\n        } finally {\n            // Promise\n            this.downloadingBundles.delete(bundleName);\n        }\n    }\n    \n    /**\n     * \n     */\n    public isBundleDownloaded(bundleName: string): boolean {\n        return this.downloadedBundles.has(bundleName);\n    }\n}","import { AudioManager } from '../audio/AudioManager';\nimport { createBundleObject } from '../res/ResConst';\nimport { BaseSkill, SkillConfig, SkillType, SkillState } from './SkillBase';\nimport { Node, tween, Vec3 } from 'cc';\n\n/**\n * \n * 3\n */\nexport class CaoChuanJieJianSkill extends BaseSkill {\n    private gameUI: any;\n    \n    constructor(config: SkillConfig, gameUI: any) {\n        super(config);\n        this.gameUI = gameUI;\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected async onExecute(params?: any): Promise<boolean> {\n        try {\n            console.log(`: ${this.config.name}`);\n            \n            // \n            const [selectedZiStyle, count] = this.selectRandomZiTypeFromCollection() || [0, 0];\n            \n            if (!selectedZiStyle) {\n                console.warn('');\n                this.sendToast('');\n                return false;\n            }\n            \n            // 3\n            const selectedZis = this.selectZisFromBoard(selectedZiStyle, 3 - count);\n            \n            if (selectedZis.length < 1) {\n                console.warn(`${selectedZiStyle}`);   \n                return false;\n            }\n            \n            // \n            const success = await this.eliminateZis(selectedZis);\n            \n            if (success) {\n                console.log(`${selectedZis.length}${selectedZiStyle}`);\n                return true;\n            } else {\n                console.warn('');\n                return false;\n            }\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @returns null\n     */\n    private selectRandomZiTypeFromCollection(): [number, number] | null {\n        // \n        const collectionZiList = this.gameUI.m_PlaceHolders;\n        \n        if (!collectionZiList || collectionZiList.length === 0) {\n            return null;\n        }\n        \n        // \n        const styleCountMap: Map<number, number> = new Map();\n        \n        collectionZiList.forEach(zi => {\n            // style\n            const style = zi.style;\n            const count = styleCountMap.get(style) || 0;\n            styleCountMap.set(style, count + 1);\n        });\n        console.log(styleCountMap);\n\n        // \n        const styles = Array.from(styleCountMap.entries());\n        if (styles.length === 0) {\n            return null;\n        }\n        console.log(styles);\n        \n        const randomIndex = Math.floor(Math.random() * styles.length);\n        return styles[randomIndex];\n    }\n    \n    /**\n     * \n     * @param style \n     * @param count \n     * @returns \n     */\n    private selectZisFromBoard(style: number, count: number): any[] {\n        // \n        const boardZiList = this.gameUI.m_ZiList;\n        \n        if (!boardZiList || boardZiList.length === 0) {\n            return [];\n        }\n        \n        // \n        const matchingZis = boardZiList.filter(zi => {\n            // style\n            const ziStyle = zi.style;\n            return ziStyle === style;\n        });\n\n        console.log(`${count}${style}`, matchingZis);\n        \n        // \n        if (matchingZis.length <= count) {\n            return matchingZis;\n        }\n        \n        // \n        const selectedZis: any[] = [];\n        const indices = new Set<number>();\n        \n        while (selectedZis.length < count && indices.size < matchingZis.length) {\n            const randomIndex = Math.floor(Math.random() * matchingZis.length);\n            if (!indices.has(randomIndex)) {\n                indices.add(randomIndex);\n                selectedZis.push(matchingZis[randomIndex]);\n            }\n        }\n        \n        return selectedZis;\n    }\n    \n    /**\n     * \n     * @param zis \n     * @returns \n     */\n    private async eliminateZis(zis: any[]): Promise<boolean> {\n        try {\n            // \n            const collectionZiList = this.gameUI.m_PlaceHolders;\n            \n            if (!collectionZiList || collectionZiList.length === 0) {\n                return false;\n            }\n            \n            // \n            const matchingZis = collectionZiList.filter(zi => {\n                // style\n                const ziStyle = zi.style;\n                return ziStyle === zis[0].style;\n            });\n            \n            if (matchingZis.length === 0) {\n                console.warn('');\n                this.sendToast('');\n                return false;\n            }\n            \n            // \n            const targetZi = matchingZis[0];\n            const targetPosition = new Vec3(\n                targetZi.node.position.x,\n                targetZi.node.position.y,\n                targetZi.node.position.z\n            );\n            \n            // Promise\n            const animationPromises: Promise<void>[] = [];\n            \n            // \n            for (const zi of zis) {\n                // \n                const index = this.gameUI.m_ZiList.indexOf(zi);\n                // if (index !== -1) {\n                this.gameUI.m_ZiList.splice(index, 1);\n                // }\n                \n                // \n                if (zi && zi.node && (zi.node as any).isValid) {\n                    // \n                    zi.node.setParent(this.gameUI.collectArea || targetZi.node.parent, true);\n                    \n                    // z-index\n                    zi.node.setSiblingIndex((this.gameUI.collectArea || targetZi.node.parent).children.length - 1);\n                    \n                    AudioManager.ins.playSound(createBundleObject(\"Res/Audio/arrows\", \"LoginBN\"));\n\n                    // Promise\n                    const animationPromise = new Promise<void>((resolve) => {\n                        // tween\n                        tween(zi.node)\n                            .to(0.5, { position: targetPosition })\n                            .call(() => {\n                                // \n                                AudioManager.ins.playSound(createBundleObject(\"Res/Audio/clear\", \"LoginBN\"));\n                                zi.node.destroy();\n                                resolve();\n                            })\n                            .start();\n                    });\n                    \n                    animationPromises.push(animationPromise);\n                }\n            }\n            \n            // \n            await Promise.all(animationPromises);\n            \n            // \n            for (let i = 0; i < matchingZis.length; i++) {\n                const zi = matchingZis[i];\n                const index = this.gameUI.m_PlaceHolders.indexOf(zi);\n                if (index !== -1) {\n                    this.gameUI.m_PlaceHolders.splice(index, 1);\n                    \n                    // \n                    if (zi && zi.node && (zi.node as any).isValid) {\n                        if (typeof zi['playEliminateAnimation'] === 'function') {\n                            zi['playEliminateAnimation']();\n                            zi.node.destroy();\n                        } else {\n                            // \n                            zi.node.destroy();\n                        }\n                    }\n                }\n            }\n            this.gameUI.reSetStacks();\n            //\n            this.gameUI.updateCollectionZiPositions();\n            \n            // UI\n            this.gameUI.updateUI();\n            \n            // \n            if (typeof this.gameUI['checkGameState'] === 'function') {\n                this.gameUI['checkGameState']();\n            }\n            \n            return true;\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected onBeforeActivate(params?: any): boolean {\n        // \n        const collectionZiList = this.gameUI.m_PlaceHolders;\n        \n        if (!collectionZiList || collectionZiList.length === 0) {\n            console.warn('');\n            this.sendToast('');\n            return false;\n        }\n        \n        return true;\n    }\n}","import { _decorator, sys } from 'cc';\n\n// \nexport interface CoinRecord {\n    id: string;                    // ID\n    amount: number;                // \n    source: string;               // \n    timestamp: number;            // \n    balance: number;              // \n}\n\n// \nexport interface AdRewardRecord {\n    id: string;                   // ID\n    adType: string;              // \n    rewardAmount: number;        // \n    watchTime: number;           // \n    watchScene: string;          // \n}\n\n// \nexport enum CoinEventType {\n    COIN_ADD = 'COIN_ADD',       // \n    COIN_SUBTRACT = 'COIN_SUBTRACT' // \n}\n\n// \nexport interface CoinEventParam {\n    eventType: CoinEventType;    // \n    amount: number;              // \n    balance: number;             // \n    source: string;              // \n}\n\n// \nexport type CoinEventCallback = (param: CoinEventParam) => void;\n\nexport default class CoinManager {\n    private static instance: CoinManager;\n    \n    // \n    private static readonly COIN_KEY = \"game_coin_data\";\n    private static readonly COIN_RECORD_KEY = \"game_coin_record\";\n    private static readonly AD_REWARD_KEY = \"game_ad_reward\";\n    \n    // \n    private currentCoin: number = 0;        // \n    private totalEarned: number = 0;        // \n    private totalSpent: number = 0;         // \n    \n    // \n    private coinRecords: CoinRecord[] = [];\n    \n    // \n    private adRewardRecords: AdRewardRecord[] = [];\n    \n    // \n    private eventListeners: Map<CoinEventType, CoinEventCallback[]> = new Map();\n    \n    // \n    public static getInstance(): CoinManager {\n        if (!CoinManager.instance) {\n            CoinManager.instance = new CoinManager();\n        }\n        return CoinManager.instance;\n    }\n    \n    // \n    private constructor() {\n        this.initEventListeners();\n        this.loadData();\n    }\n    \n    // \n    private initEventListeners(): void {\n        this.eventListeners.set(CoinEventType.COIN_ADD, []);\n        this.eventListeners.set(CoinEventType.COIN_SUBTRACT, []);\n    }\n    \n    // \n    public addCoin(amount: number, source: string = \"unknown\", syncToCloud: boolean = true): boolean {\n        if (amount <= 0) {\n            console.warn(`0: ${amount}`);\n            return false;\n        }\n        \n        const oldCoin = this.currentCoin;\n        this.currentCoin += amount;\n        this.totalEarned += amount;\n        \n        // \n        this.addCoinRecord(amount, source, this.currentCoin);\n        \n        // \n        this.triggerEvent(CoinEventType.COIN_ADD, amount, this.currentCoin, source);\n        \n        // \n        this.saveData();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(`: ${amount}, : ${source}, : ${this.currentCoin}`);\n        return true;\n    }\n    \n    // \n    public addCoinWithAnimation(amount: number, source: string = \"unknown\", syncToCloud: boolean = true): { success: boolean, oldCoin: number, newCoin: number } {\n        if (amount <= 0) {\n            console.warn(`0: ${amount}`);\n            return { success: false, oldCoin: this.currentCoin, newCoin: this.currentCoin };\n        }\n        \n        const oldCoin = this.currentCoin;\n        this.currentCoin += amount;\n        this.totalEarned += amount;\n        \n        // \n        this.addCoinRecord(amount, source, this.currentCoin);\n        \n        // \n        this.triggerEvent(CoinEventType.COIN_ADD, amount, this.currentCoin, source);\n        \n        // \n        this.saveData();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(`(): ${amount}, : ${source}, : ${this.currentCoin}`);\n        return { success: true, oldCoin: oldCoin, newCoin: this.currentCoin };\n    }\n    \n    // \n    public subtractCoin(amount: number, source: string = \"unknown\", syncToCloud: boolean = true): boolean {\n        if (amount <= 0) {\n            console.warn(`0: ${amount}`);\n            return false;\n        }\n        \n        if (this.currentCoin < amount) {\n            console.warn(`:  ${this.currentCoin},  ${amount}`);\n            return false;\n        }\n        \n        this.currentCoin -= amount;\n        this.totalSpent += amount;\n        \n        // \n        this.addCoinRecord(-amount, source, this.currentCoin);\n        \n        // \n        this.triggerEvent(CoinEventType.COIN_SUBTRACT, amount, this.currentCoin, source);\n        \n        // \n        this.saveData();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(`: ${amount}, : ${source}, : ${this.currentCoin}`);\n        return true;\n    }\n    \n    // \n    public getCurrentCoin(): number {\n        return this.currentCoin;\n    }\n    \n    // \n    public getTotalEarned(): number {\n        return this.totalEarned;\n    }\n    \n    // \n    public getTotalSpent(): number {\n        return this.totalSpent;\n    }\n    \n    // \n    private addCoinRecord(amount: number, source: string, balance: number): void {\n        const record: CoinRecord = {\n            id: this.generateRecordId(),\n            amount: amount,\n            source: source,\n            timestamp: Date.now(),\n            balance: balance\n        };\n        \n        this.coinRecords.unshift(record); // \n        \n        // \n        if (this.coinRecords.length > 1000) {\n            this.coinRecords = this.coinRecords.slice(0, 1000);\n        }\n    }\n    \n    // ID\n    private generateRecordId(): string {\n        return `record_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    \n    // \n    public getCoinRecords(): CoinRecord[] {\n        return [...this.coinRecords]; // \n    }\n    \n    // \n    public addAdRewardRecord(adType: string, rewardAmount: number, watchScene: string): void {\n        const record: AdRewardRecord = {\n            id: this.generateRecordId(),\n            adType: adType,\n            rewardAmount: rewardAmount,\n            watchTime: Date.now(),\n            watchScene: watchScene\n        };\n        \n        this.adRewardRecords.unshift(record); // \n        \n        // \n        if (this.adRewardRecords.length > 500) {\n            this.adRewardRecords = this.adRewardRecords.slice(0, 500);\n        }\n    }\n    \n    // \n    public getAdRewardRecords(): AdRewardRecord[] {\n        return [...this.adRewardRecords]; // \n    }\n    \n    // \n    public addEventListener(eventType: CoinEventType, callback: CoinEventCallback): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners) {\n            listeners.push(callback);\n        }\n    }\n    \n    // \n    public removeEventListener(eventType: CoinEventType, callback: CoinEventCallback): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners) {\n            const index = listeners.indexOf(callback);\n            if (index !== -1) {\n                listeners.splice(index, 1);\n            }\n        }\n    }\n    \n    // \n    private triggerEvent(eventType: CoinEventType, amount: number, balance: number, source: string): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners && listeners.length > 0) {\n            const param: CoinEventParam = {\n                eventType: eventType,\n                amount: amount,\n                balance: balance,\n                source: source\n            };\n            \n            // \n            const listenersCopy = [...listeners];\n            for (const callback of listenersCopy) {\n                try {\n                    callback(param);\n                } catch (error) {\n                    console.error(`:`, error);\n                }\n            }\n        }\n    }\n    \n    // \n    private saveData(): void {\n        try {\n            const coinData = {\n                currentCoin: this.currentCoin,\n                totalEarned: this.totalEarned,\n                totalSpent: this.totalSpent\n            };\n            \n            sys.localStorage.setItem(CoinManager.COIN_KEY, JSON.stringify(coinData));\n            sys.localStorage.setItem(CoinManager.COIN_RECORD_KEY, JSON.stringify(this.coinRecords));\n            sys.localStorage.setItem(CoinManager.AD_REWARD_KEY, JSON.stringify(this.adRewardRecords));\n            \n            console.log(\"\");\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private syncDataToCloud(): void {\n        try {\n            // \n            const gCtrl = (globalThis as any).GCtrl;\n            if (gCtrl && gCtrl.syncDataToCloud) {\n                gCtrl.syncDataToCloud();\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n\n    \n    // \n    private loadData(): void {\n        try {\n            console.log('CoinManager: ');\n            \n            // \n            const coinDataStr = sys.localStorage.getItem(CoinManager.COIN_KEY);\n            if (coinDataStr) {\n                const coinData = JSON.parse(coinDataStr);\n                this.currentCoin = coinData.currentCoin || 0;\n                this.totalEarned = coinData.totalEarned || 0;\n                this.totalSpent = coinData.totalSpent || 0;\n                console.log('CoinManager: ', coinData);\n            } else {\n                console.log('CoinManager: 0');\n                // 0\n                this.currentCoin = 0;\n                this.totalEarned = 0;\n                this.totalSpent = 0;\n            }\n            \n            // \n            const coinRecordsStr = sys.localStorage.getItem(CoinManager.COIN_RECORD_KEY);\n            if (coinRecordsStr) {\n                this.coinRecords = JSON.parse(coinRecordsStr);\n            }\n            \n            // \n            const adRewardStr = sys.localStorage.getItem(CoinManager.AD_REWARD_KEY);\n            if (adRewardStr) {\n                this.adRewardRecords = JSON.parse(adRewardStr);\n            }\n            \n            console.log(`CoinManager: :  ${this.currentCoin}`);\n        } catch (error) {\n            console.error(\"CoinManager: :\", error);\n            // \n            this.resetData();\n        }\n    }\n    \n    // \n    public resetData(): void {\n        this.currentCoin = 0;\n        this.totalEarned = 0;\n        this.totalSpent = 0;\n        this.coinRecords = [];\n        this.adRewardRecords = [];\n        \n        console.log(\"\");\n    }\n}\n\n// \nif (typeof window !== 'undefined') {\n    window['CoinManager'] = CoinManager;\n    window['CoinEventType'] = CoinEventType;\n    console.log('CoinManager: ');\n}","import { _decorator, Component, Node, Button, Label, Sprite } from 'cc';\nimport { BaseUI } from './BaseUI';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('DailyRewardUI')\nexport class DailyRewardUI extends BaseUI {\n    // \n    @property(Node)\n    consecutiveDaysLabel: Node = null;\n\n    // \n    @property(Node)\n    rewardContent: Node = null;\n\n    // \n    @property(Node)\n    claimButton: Node = null;\n\n    // \n    @property(Node)\n    doubleRewardButton: Node = null;\n\n    // \n    @property(Node)\n    closeButton: Node = null;\n\n    // \n    private isClaimed: boolean = false;\n\n    protected onLoad(): void {\n        // \n        if (this.claimButton) {\n            this.claimButton.on(Node.EventType.TOUCH_END, this.onClaimClick, this);\n        }\n        \n        if (this.doubleRewardButton) {\n            this.doubleRewardButton.on(Node.EventType.TOUCH_END, this.onDoubleRewardClick, this);\n        }\n        \n        if (this.closeButton) {\n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        this.initDailyRewardUI();\n    }\n\n    /**\n     * \n     */\n    private initDailyRewardUI() {\n        // TODO: DailyRewardManager\n        // TODO: \n        // TODO: \n        // TODO: \n        console.log('DailyRewardUI initialized');\n    }\n\n    /**\n     * \n     */\n    private onClaimClick() {\n        if (this.isClaimed) {\n            console.log('Reward already claimed');\n            return;\n        }\n        \n        // TODO: DailyRewardManager\n        console.log('Claim daily reward');\n        \n        // \n        this.isClaimed = true;\n        \n        // \n        this.updateButtonStates();\n        \n        // \n        setTimeout(() => {\n            this.hide();\n        }, 1000);\n    }\n\n    /**\n     * \n     */\n    private onDoubleRewardClick() {\n        if (this.isClaimed) {\n            console.log('Reward already claimed');\n            return;\n        }\n        \n        // TODO: AdManager\n        console.log('Watch ad for double reward');\n        \n        // \n        this.onAdWatched();\n    }\n\n    /**\n     * \n     */\n    private onAdWatched() {\n        if (this.isClaimed) {\n            console.log('Reward already claimed');\n            return;\n        }\n        \n        // TODO: DailyRewardManager\n        console.log('Ad watched, claim double reward');\n        \n        // \n        this.isClaimed = true;\n        \n        // \n        this.updateButtonStates();\n        \n        // \n        setTimeout(() => {\n            this.hide();\n        }, 1000);\n    }\n\n    /**\n     * \n     */\n    private updateButtonStates() {\n        if (this.isClaimed) {\n            // \n            if (this.claimButton) this.claimButton.active = false;\n            if (this.doubleRewardButton) this.doubleRewardButton.active = false;\n        } else {\n            // \n            if (this.claimButton) this.claimButton.active = true;\n            if (this.doubleRewardButton) this.doubleRewardButton.active = true;\n        }\n    }\n\n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        this.hide();\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.claimButton) {\n            this.claimButton.off(Node.EventType.TOUCH_END, this.onClaimClick, this);\n        }\n        \n        if (this.doubleRewardButton) {\n            this.doubleRewardButton.off(Node.EventType.TOUCH_END, this.onDoubleRewardClick, this);\n        }\n        \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        super.onDestroy();\n    }\n}","import { _decorator, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('DestoryHook')\nexport class DestoryHook extends Component {\n\n    private m_Hooks: Function[] = [];\n\n    /** */\n    public addHook(hook: Function) {\n        this.m_Hooks.push(hook);\n    }\n\n    protected onDestroy(): void {\n        for (let i = this.m_Hooks.length - 1; i >= 0; --i) {\n            this.m_Hooks[i]();\n        }\n    }\n}\n\n\n","import { _decorator, sys } from 'cc';\n\n// \nexport interface UserInfo {\n    userId: string;           // ID\n    username: string;         // \n    avatar: string;           // \n    level: number;            // \n    exp: number;              // \n    lastLoginTime: number;    // \n    consecutiveLoginDays: number; // \n    totalLoginDays: number;   // \n    isRecommended: boolean;    // \n}\n\nexport class GameDataManager {\n    private static instance: GameDataManager;\n    \n    // \n    private static readonly LEVEL_KEY = \"game_current_level\";\n    // \n    private static readonly USER_INFO_KEY = \"game_user_info\";\n    \n    // \n    private userInfo: UserInfo;\n    \n    // \n    public static getInstance(): GameDataManager {\n        if (!GameDataManager.instance) {\n            GameDataManager.instance = new GameDataManager();\n        }\n        return GameDataManager.instance;\n    }\n    \n    // \n    private constructor() {\n        this.userInfo = this.getDefaultUserInfo();\n    }\n    \n    // \n    private getDefaultUserInfo(): UserInfo {\n        return {\n            userId: this.generateUserId(),\n            username: \"\",\n            avatar: \"\",\n            level: 1,\n            exp: 0,\n            lastLoginTime: 0,\n            consecutiveLoginDays: 0,\n            totalLoginDays: 0,\n            isRecommended: false\n        };\n    }\n    \n    // ID\n    private generateUserId(): string {\n        return `user_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    \n    // \n    public saveLevel(level: number): void {\n        sys.localStorage.setItem(GameDataManager.LEVEL_KEY, level.toString());\n        console.log(`: ${level}`);\n    }\n    \n    // \n    public loadLevel(): number {\n        const savedLevel = sys.localStorage.getItem(GameDataManager.LEVEL_KEY);\n        const level = savedLevel ? parseInt(savedLevel, 10) : 1;\n        console.log(`: ${level}`);\n        return level;\n    }\n    \n    // \n    public resetLevel(level: number): void {\n        sys.localStorage.setItem(GameDataManager.LEVEL_KEY, level.toString());\n        console.log(`: ${level}`);\n    }\n    \n    // \n    public saveUserInfo(): void {\n        try {\n            sys.localStorage.setItem(GameDataManager.USER_INFO_KEY, JSON.stringify(this.userInfo));\n            console.log(\"\");\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n    \n    // \n    public loadUserInfo(): void {\n        try {\n            const userInfoStr = sys.localStorage.getItem(GameDataManager.USER_INFO_KEY);\n            if (userInfoStr) {\n                const loadedUserInfo = JSON.parse(userInfoStr);\n                // \n                if (this.validateUserInfo(loadedUserInfo)) {\n                    this.userInfo = loadedUserInfo;\n                    console.log(\"\");\n                } else {\n                    console.warn(\"\");\n                    this.userInfo = this.getDefaultUserInfo();\n                }\n            } else {\n                console.log(\"\");\n                this.userInfo = this.getDefaultUserInfo();\n            }\n        } catch (error) {\n            console.error(\":\", error);\n            this.userInfo = this.getDefaultUserInfo();\n        }\n    }\n    \n    // \n    private validateUserInfo(userInfo: any): boolean {\n        return userInfo && \n               typeof userInfo.userId === 'string' &&\n               typeof userInfo.username === 'string' &&\n               typeof userInfo.avatar === 'string' &&\n               typeof userInfo.level === 'number' &&\n               typeof userInfo.exp === 'number' &&\n               typeof userInfo.lastLoginTime === 'number' &&\n               typeof userInfo.consecutiveLoginDays === 'number' &&\n               typeof userInfo.totalLoginDays === 'number' &&\n               typeof userInfo.isRecommended === 'boolean';\n    }\n    \n    // \n    public getUserInfo(): UserInfo {\n        return { ...this.userInfo }; // \n    }\n    \n    // \n    public updateUserInfo(userInfo: Partial<UserInfo>, syncToCloud: boolean = true): void {\n        this.userInfo = { ...this.userInfo, ...userInfo };\n        this.saveUserInfo();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(\"\");\n    }\n    \n    // \n    public resetUserInfo(): void {\n        this.userInfo = this.getDefaultUserInfo();\n        sys.localStorage.removeItem(GameDataManager.USER_INFO_KEY);\n        console.log(\"\");\n    }\n    \n    // \n    private static readonly LEVEL_EXP_CONFIG = [\n        { level: 1, exp: 0 },           // 10\n        { level: 2, exp: 100 },         // 2100\n        { level: 3, exp: 300 },         // 3300\n        { level: 4, exp: 600 },         // 4600\n        { level: 5, exp: 1000 },        // 51000\n        { level: 6, exp: 1500 },        // 61500\n        { level: 7, exp: 2100 },        // 72100\n        { level: 8, exp: 2800 },        // 82800\n        { level: 9, exp: 3600 },        // 93600\n        { level: 10, exp: 4500 },       // 104500\n        { level: 11, exp: 5500 },       // 115500\n        { level: 12, exp: 6600 },       // 126600\n        { level: 13, exp: 7800 },       // 137800\n        { level: 14, exp: 9100 },       // 149100\n        { level: 15, exp: 10500 },      // 1510500\n        { level: 16, exp: 12000 },      // 1612000\n        { level: 17, exp: 13600 },      // 1713600\n        { level: 18, exp: 15300 },      // 1815300\n        { level: 19, exp: 17100 },      // 1917100\n        { level: 20, exp: 19000 },      // 2019000\n    ];\n    \n    // \n    public getCurrentLevel(): number {\n        return this.userInfo.level;\n    }\n    \n    // \n    public getCurrentExp(): number {\n        return this.userInfo.exp;\n    }\n    \n    // \n    public getNextLevelExp(): number {\n        const currentLevel = this.userInfo.level;\n        if (currentLevel >= GameDataManager.LEVEL_EXP_CONFIG.length) {\n            return -1; // \n        }\n        \n        const nextLevelConfig = GameDataManager.LEVEL_EXP_CONFIG.find(config => config.level === currentLevel + 1);\n        return nextLevelConfig ? nextLevelConfig.exp : -1;\n    }\n    \n    // 0-1\n    public getCurrentLevelProgress(): number {\n        const currentLevel = this.userInfo.level;\n        const currentExp = this.userInfo.exp;\n        \n        if (currentLevel >= GameDataManager.LEVEL_EXP_CONFIG.length) {\n            return 1; // \n        }\n        \n        const currentLevelConfig = GameDataManager.LEVEL_EXP_CONFIG.find(config => config.level === currentLevel);\n        const nextLevelConfig = GameDataManager.LEVEL_EXP_CONFIG.find(config => config.level === currentLevel + 1);\n        \n        if (!currentLevelConfig || !nextLevelConfig) {\n            return 0;\n        }\n        \n        const levelExpRange = nextLevelConfig.exp - currentLevelConfig.exp;\n        const currentLevelExp = currentExp - currentLevelConfig.exp;\n        \n        return Math.min(1, Math.max(0, currentLevelExp / levelExpRange));\n    }\n    \n    // \n    public addExp(exp: number, syncToCloud: boolean = true): boolean {\n        if (exp <= 0) {\n            console.warn(`0: ${exp}`);\n            return false;\n        }\n        \n        const oldLevel = this.userInfo.level;\n        this.userInfo.exp += exp;\n        \n        // \n        let levelUp = false;\n        let newLevel = oldLevel;\n        \n        // \n        for (let i = oldLevel + 1; i <= GameDataManager.LEVEL_EXP_CONFIG.length; i++) {\n            const levelConfig = GameDataManager.LEVEL_EXP_CONFIG.find(config => config.level === i);\n            if (levelConfig && this.userInfo.exp >= levelConfig.exp) {\n                newLevel = i;\n                levelUp = true;\n            } else {\n                break;\n            }\n        }\n        \n        if (levelUp) {\n            this.userInfo.level = newLevel;\n            console.log(` ${oldLevel}  ${newLevel} `);\n        }\n        \n        this.saveUserInfo();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(`: ${exp}, : ${this.userInfo.exp}, : ${this.userInfo.level}`);\n        \n        return levelUp;\n    }\n    \n    // \n    public setLevelAndExp(level: number, exp: number): void {\n        if (level < 1 || level > GameDataManager.LEVEL_EXP_CONFIG.length) {\n            console.warn(`1-${GameDataManager.LEVEL_EXP_CONFIG.length}: ${level}`);\n            return;\n        }\n        \n        const levelConfig = GameDataManager.LEVEL_EXP_CONFIG.find(config => config.level === level);\n        if (!levelConfig) {\n            console.warn(`: ${level}`);\n            return;\n        }\n        \n        // \n        this.userInfo.level = level;\n        this.userInfo.exp = Math.max(levelConfig.exp, exp);\n        \n        this.saveUserInfo();\n        console.log(`: ${level}, : ${this.userInfo.exp}`);\n    }\n    \n    // \n    private static readonly DAILY_LOGIN_REWARDS = [\n        { day: 1, coin: 100, exp: 10 },      // 110010\n        { day: 2, coin: 150, exp: 15 },      // 215015\n        { day: 3, coin: 200, exp: 20 },      // 320020\n        { day: 4, coin: 250, exp: 25 },      // 425025\n        { day: 5, coin: 300, exp: 30 },      // 530030\n        { day: 6, coin: 350, exp: 35 },      // 635035\n        { day: 7, coin: 500, exp: 50 },      // 750050\n    ];\n    \n    // \n    public canClaimDailyLoginReward(): boolean {\n        const now = Date.now();\n        const lastLoginTime = this.userInfo.lastLoginTime;\n        \n        // \n        if (lastLoginTime === 0) {\n            return true;\n        }\n        \n        // \n        const lastLoginDate = new Date(lastLoginTime);\n        const currentDate = new Date(now);\n        \n        // \n        return lastLoginDate.getDate() !== currentDate.getDate() ||\n               lastLoginDate.getMonth() !== currentDate.getMonth() ||\n               lastLoginDate.getFullYear() !== currentDate.getFullYear();\n    }\n    \n    // \n    public claimDailyLoginReward(): { success: boolean; coin: number; exp: number; consecutiveDays: number } {\n        if (!this.canClaimDailyLoginReward()) {\n            console.log(\"\");\n            return { success: false, coin: 0, exp: 0, consecutiveDays: this.userInfo.consecutiveLoginDays };\n        }\n        \n        const now = Date.now();\n        const lastLoginTime = this.userInfo.lastLoginTime;\n        \n        // \n        let consecutiveDays = 1; // 1\n        \n        if (lastLoginTime > 0) {\n            const lastLoginDate = new Date(lastLoginTime);\n            const currentDate = new Date(now);\n            \n            // \n            const timeDiff = currentDate.getTime() - lastLoginDate.getTime();\n            const dayDiff = Math.floor(timeDiff / (1000 * 3600 * 24));\n            \n            if (dayDiff === 1) {\n                // \n                consecutiveDays = this.userInfo.consecutiveLoginDays + 1;\n                \n                // 71\n                if (consecutiveDays > 7) {\n                    consecutiveDays = 1;\n                }\n            } else if (dayDiff > 1) {\n                // 1\n                consecutiveDays = 1;\n            }\n        }\n        \n        // \n        this.userInfo.lastLoginTime = now;\n        this.userInfo.consecutiveLoginDays = consecutiveDays;\n        this.userInfo.totalLoginDays += 1;\n        \n        // \n        const rewardIndex = (consecutiveDays - 1) % GameDataManager.DAILY_LOGIN_REWARDS.length;\n        const reward = GameDataManager.DAILY_LOGIN_REWARDS[rewardIndex];\n        \n        if (!reward) {\n            console.error(\"\");\n            this.saveUserInfo();\n            return { success: false, coin: 0, exp: 0, consecutiveDays: this.userInfo.consecutiveLoginDays };\n        }\n        \n        // \n        this.saveUserInfo();\n        \n        console.log(` ${reward.coin} ${reward.exp} ${consecutiveDays} `);\n        \n        return { success: true, coin: reward.coin, exp: reward.exp, consecutiveDays: consecutiveDays };\n    }\n    \n    // \n    public getTodayLoginRewardInfo(): { canClaim: boolean; coin: number; exp: number; consecutiveDays: number } {\n        const canClaim = this.canClaimDailyLoginReward();\n        \n        // \n        let consecutiveDays = this.userInfo.consecutiveLoginDays;\n        if (canClaim) {\n            const now = Date.now();\n            const lastLoginTime = this.userInfo.lastLoginTime;\n            \n            if (lastLoginTime > 0) {\n                const lastLoginDate = new Date(lastLoginTime);\n                const currentDate = new Date(now);\n                \n                // \n                const timeDiff = currentDate.getTime() - lastLoginDate.getTime();\n                const dayDiff = Math.floor(timeDiff / (1000 * 3600 * 24));\n                \n                if (dayDiff === 1) {\n                    // \n                    consecutiveDays += 1;\n                    \n                    // 71\n                    if (consecutiveDays > 7) {\n                        consecutiveDays = 1;\n                    }\n                } else if (dayDiff > 1) {\n                    // 1\n                    consecutiveDays = 1;\n                }\n            } else {\n                // 1\n                consecutiveDays = 1;\n            }\n        }\n        \n        // \n        const rewardIndex = (consecutiveDays - 1) % GameDataManager.DAILY_LOGIN_REWARDS.length;\n        const reward = GameDataManager.DAILY_LOGIN_REWARDS[rewardIndex];\n        \n        return {\n            canClaim: canClaim,\n            coin: reward ? reward.coin : 0,\n            exp: reward ? reward.exp : 0,\n            consecutiveDays: consecutiveDays\n        };\n    }\n    \n    // \n    public getConsecutiveLoginDays(): number {\n        return this.userInfo.consecutiveLoginDays;\n    }\n    \n    // \n    public getTotalLoginDays(): number {\n        return this.userInfo.totalLoginDays;\n    }\n    \n    // \n    public getLastLoginTime(): number {\n        return this.userInfo.lastLoginTime;\n    }\n    \n    // \n    public getRecommendedStatus(): boolean {\n        return this.userInfo.isRecommended;\n    }\n    \n    // \n    public setRecommendedStatus(isRecommended: boolean, syncToCloud: boolean = true): void {\n        this.userInfo.isRecommended = isRecommended;\n        this.saveUserInfo();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(`: ${isRecommended}`);\n    }\n    \n    /**\n     * \n     */\n    private syncDataToCloud(): void {\n        try {\n            // \n            const gCtrl = (globalThis as any).GCtrl;\n            if (gCtrl && gCtrl.syncDataToCloud) {\n                gCtrl.syncDataToCloud();\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n}\n\n// \nif (typeof window !== 'undefined') {\n    window['GameDataManager'] = GameDataManager;\n    console.log('GameDataManager: ');\n}","import { Canvas, Component, _decorator } from 'cc';\nimport { LoginCtrl } from './GamePlay/modules/Login/LoginCtrl';\nimport { Match3UI } from './GamePlay/modules/Match3/Match3UI';\nimport { ZouZouEntry } from './GamePlay/modules/ZouZou/ZouZouEntry';\nimport { ResManager } from './core/modules/res/ResManager';\nimport UIManager, { registerBUrlByCfg } from './core/modules/ui/UIManager';\nimport { PrefabCfg } from './auto/PrefabCfg';\nimport { GameDataManager } from './core/modules/data/GameDataManager';\nimport CoinManager from './core/modules/coin/CoinManager';\nimport { AdManager } from './core/modules/ad/AdManager';\nimport { BagManager } from './core/modules/bag/BagManager';\nimport { ShopManager } from './core/modules/shop/ShopManager';\nimport { TaskManager } from './core/modules/task/TaskManager';\nimport { SettingManager } from './core/modules/setting/SettingManager';\nimport { SignManager } from './core/modules/ui/SignManager';\nimport { ToastManager } from './core/modules/ui/ToastManager';\nimport { ShopUI } from './core/modules/ui/ShopUI';\nimport { BagUI } from './core/modules/ui/BagUI';\nimport { LotteryUI } from './core/modules/ui/LotteryUI';\nimport { SignUI } from './core/modules/ui/SignUI';\nimport { SettingUI } from './core/modules/ui/SettingUI';\nimport { RankManager } from './core/modules/rank/RankManager';\nimport { RankUI } from './core/modules/ui/RankUI';\nimport { OpenDataManager } from './core/modules/rank/OpenDataManager';\nimport { ShareManager } from './core/modules/share/ShareManager';\nconst { ccclass, property } = _decorator;\n\n//\ndeclare global {\n    const gCtrl: GCtrl;\n}\n\n@ccclass('GCtrl')\nexport class GCtrl extends Component {\n\n    readonly loginCtrl = new LoginCtrl();\n    readonly res = new ResManager();\n    readonly ui = new UIManager();\n    readonly data = GameDataManager.getInstance(); // \n    readonly coin = CoinManager.getInstance(); // \n    readonly ad = AdManager.getInstance(); // \n    readonly bag = BagManager.getInstance(); // \n    readonly shop = ShopManager.instance; // \n    readonly task = TaskManager.getInstance(); // \n    readonly setting = SettingManager.getInstance(); // \n    readonly sign = SignManager.instance; // \n    readonly rank = RankManager.getInstance(); // \n    readonly openData = OpenDataManager.getInstance(); // \n    readonly share = ShareManager.getInstance(); // \n    \n    private currentGameUI: any = null; // UI\n    \n    constructor() {\n        super();\n        // \n        (globalThis as any).gCtrl = this;\n    }\n\n    async init(param: { canvas2d: Canvas, releaseBoostFun: Function }) {\n\n        //\n        (globalThis as any)[\"gCtrl\"] = this;\n        console.log('GCtrl: ');\n        \n        //\n        registerBUrlByCfg(PrefabCfg);\n        console.log('GCtrl: ');\n        \n        //\n        this.loginCtrl.init();\n        console.log('GCtrl: ');\n        \n        //\n        // this.coin.loadData(); \n        console.log('GCtrl: :', this.coin.getCurrentCoin());\n        \n        //\n        this.ad.init();\n        console.log('GCtrl: ');\n        \n        //\n        this.bag.init();\n        console.log('GCtrl: ');\n        \n        //\n        this.data.loadUserInfo();\n        console.log('GCtrl: ');\n        \n        //\n        this.task.init();\n        console.log('GCtrl: ');\n        \n        //\n        this.setting.init();\n        console.log('GCtrl: ');\n\n        //\n        this.shop.init();\n        console.log('GCtrl: ');\n        \n        //\n        this.sign.init();\n        console.log('GCtrl: ');\n        \n        //\n        // this.rank.init();\n        console.log('GCtrl: ');\n        \n        //\n        console.log('GCtrl: ');\n        \n        //\n        this.share.init();\n        console.log('GCtrl: ');\n        \n        // \n        this.sign.autoSign();\n        console.log('GCtrl: ');\n        \n        // \n        this.restoreGameDataFromCloud();\n        console.log('GCtrl: ');\n        \n\n\n        //\n        gCtrl.ui.init(param.canvas2d);\n        console.log('GCtrl: ');\n        \n\n        console.log('GCtrl: ');\n        \n        // \n        this.preloadRemoteBundles();\n        \n        //\n        // this.loginCtrl.showLogin(async () => {\n        //     // \n        //     param.releaseBoostFun();\n        //     // // LoginBN  LoginEntry.ts  LoginEntry \n        //     // // js.getClassByName \n        //     // ResManager.ins.loadBundle(\"LoginBN\", () => {\n        //     //     const loginEntryClass = js.getClassByName(\"LoginCtrl\") as typeof Component;\n        //     //     this.node.addComponent(loginEntryClass);\n        //     // })\n        // })\n    }\n\n    /**\n     * \n     */\n    public async enterMatch3Game(): Promise<void> {\n        console.log('GCtrl: ');\n        this.currentGameUI = await gCtrl.ui.openUI(Match3UI);\n        console.log('GCtrl: UI');\n    }\n\n    /**\n     * UI\n     * @returns UI\n     */\n    public getCurrentGameUI(): any {\n        return this.currentGameUI;\n    }\n\n    /**\n     * \n     */\n    public enterZouZouGame(): void {\n        console.log('GCtrl: ');\n        ToastManager.getInstance().showMessage('', 1);\n  \n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('ZouZouEntry: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('ZouZouEntry: ');\n        }\n    }\n\n    /**\n     * \n     */\n    public async openShop(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            const shopUI = await gCtrl.ui.openUI(ShopUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n        }\n    }\n\n    /**\n     * \n     */\n    public async openBag(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            console.log('GCtrl: UIManagerBagUI');\n            const bagUI = await gCtrl.ui.openUI(BagUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n            throw error; // \n        }\n    }\n\n    /**\n     * \n     */\n    public async openLottery(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            console.log('GCtrl: UIManagerLotteryUI');\n            const lotteryUI = await gCtrl.ui.openUI(LotteryUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n            throw error; // \n        }\n    }\n\n    /**\n     * \n     */\n    public async openSign(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            console.log('GCtrl: UIManagerSignUI');\n            const signUI = await gCtrl.ui.openUI(SignUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n            throw error; // \n        }\n    }\n\n    /**\n     * \n     */\n    public async openSettings(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            console.log('GCtrl: UIManagerSettingUI');\n            const settingUI = await gCtrl.ui.openUI(SettingUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n            throw error; // \n        }\n    }\n\n    /**\n     * \n     */\n    public async openRank(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            console.log('GCtrl: UIManagerRankUI');\n            const rankUI = await gCtrl.ui.openUI(RankUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n            throw error; // \n        }\n    }\n\n    /**\n     * \n     */\n    private async preloadRemoteBundles(): Promise<void> {\n        console.log('GCtrl: ');\n        \n        try {\n            // \n            await this.res.preloadAllBundles();\n            console.log('GCtrl: ');\n\n\n            //\n            SignManager.instance.autoSign();\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            // \n        }\n    }\n    \n    /**\n     * \n     */\n    private async restoreGameDataFromCloud(): Promise<void> {\n        try {\n            console.log('GCtrl: ');\n            const restored = await this.openData.restoreGameData();\n            \n            if (restored) {\n                console.log('GCtrl: ');\n                ToastManager.getInstance().showMessage('', 1);\n                \n                // \n                this.rank.updateLocalUserData();\n            } else {\n                console.log('GCtrl: ');\n            }\n        } catch (error) {\n            console.error('GCtrl: ', error);\n        }\n    }\n    \n    /**\n     * \n     * \n     */\n    public syncDataToCloud(): void {\n        try {\n            console.log('GCtrl: ');\n            this.openData.syncDataToOpenDomain();\n            \n            // \n            this.rank.updateLocalUserData();\n        } catch (error) {\n            console.error('GCtrl: ', error);\n        }\n    }\n}\n\n\n","import { AdType, AdEventType, AdEventParam } from './AdManager';\n\n/**\n * \n */\nexport enum AdLoadState {\n    NOT_LOADED = 'not_loaded',      // \n    LOADING = 'loading',            // \n    LOADED = 'loaded',              // \n    FAILED = 'failed',              // \n}\n\n/**\n * \n */\nexport type AdEventListener = (param: AdEventParam) => void;\n\n/**\n * \n * \n */\nexport interface IAdAdapter {\n    /**\n     * \n     * @param adUnitIds ID\n     */\n    init(adUnitIds: { [key in AdType]?: string }): void;\n\n    /**\n     * \n     * @param adType \n     */\n    loadAd(adType: AdType): void;\n\n    /**\n     * \n     * @param adType \n     * @param rewardKey \n     * @param customParams \n     * @returns \n     */\n    showAd(adType: AdType, rewardKey?: string, customParams?: any): boolean;\n\n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    getAdLoadState(adType: AdType): AdLoadState;\n\n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    isAdLoaded(adType: AdType): boolean;\n\n    /**\n     * \n     * @param listener \n     */\n    addEventListener(listener: AdEventListener): void;\n\n    /**\n     * \n     * @param listener \n     */\n    removeEventListener(listener: AdEventListener): void;\n\n    /**\n     * \n     */\n    destroy(): void;\n}","/**\n * \n * \n */\n\n// \nexport type { IAdAdapter, AdLoadState, AdEventListener } from './IAdAdapter';\n\n// \nexport { WechatAdAdapter } from './WechatAdAdapter';\n// export { ByteDanceAdAdapter } from './ByteDanceAdAdapter';\n\n// \nexport { PlatformDetector } from './PlatformDetector';\n\n// \nexport type { IAdConfig, IPlatformAdConfig } from './AdConfigManager';\nexport { AdConfigManager } from './AdConfigManager';\nexport { AdConfigInitializer } from './AdConfigInitializer';\n\n// \nexport type { \n    AdLoadState as AdManagerLoadState, \n    AdEventParam, \n    AdEventListener as AdManagerEventListener\n} from './AdManager';\nexport { \n    AdManager, \n    AdType, \n    AdEventType, \n    AdPlatform \n} from './AdManager';","import { createBundleObject } from \"../core/modules/res/ResConst\";\n\nexport class JsonsCfg {\n    \n    static level = (key: string | number) => createBundleObject(`yang/Jsons/level/${key}`, \"Match3BN\");\n}","import { _decorator } from 'cc';\n\nconst { ccclass } = _decorator;\n\n/**\n * \n * \n */\n@ccclass('LevelGenerator')\nexport class LevelGenerator {\n    /** */\n    public static readonly COL = 7;\n    /** */\n    public static readonly ROW = 9;\n    /** */\n    public static readonly SPLIT = 6;\n\n    /**\n     * \n     * @param level \n     * @returns \n     * \n     * level:\n     * \n     */\n    /**\n     * \n     * @param level \n     * @param positions \n     * @returns \n     */\n    private static adjustDifficultyByLevel(level: number, positions: [number, number][]): [number, number][] {\n        if (level % 2 !== 0) {\n            return positions;\n        }\n        const shapeType = (level/2) % 5; // 3\n        // const centerX = Math.floor(LevelGenerator.COL * LevelGenerator.SPLIT / 2);\n        // const centerY = Math.floor(LevelGenerator.ROW * LevelGenerator.SPLIT / 2);\n        \n        const centerX = 19;\n        const centerY = 28;\n        if (level < 11) {\n            return this.generateCircleShape(centerX, centerY, positions, 1, true);\n        }\n\n        let shapeName = \"\";\n        shapeName = [\"\", \"\", \"\", \"\", \"\"][shapeType];\n        console.log(` ${level}:  - ${shapeName}`);\n        let result: [number, number][] = [];\n        switch(shapeType) {\n            case 0: // \n                return this.generateCircleShape(centerX, centerY, positions, 0.6);\n            case 1: // \n                return this.generateSquareShape(centerX, centerY, positions, 0.7);\n            case 2: // \n                result = this.generateStarShape(centerX, centerY, positions, 0.5);\n                break;\n            case 3: // \n                result = this.generateDiamondShape(centerX, centerY, positions, 0.6);\n                break;\n            case 4: // \n                result = this.generateCrossShape(centerX, centerY, positions, 0.6);\n                break;\n            default:\n                return positions;\n        }\n        if (level === 55) {\n             //\n            this.generateMiddleUpBottom(result);\n        }\n        return result;\n    }\n\n    /**\n     * \n     * @param centerX X\n     * @param centerY Y\n     * @param positions \n     * @param density 0-1\n     * @returns \n     */\n    private static generateCircleShape(centerX: number, centerY: number, positions: [number, number][], density: number, noExtend: boolean = false): [number, number][] {\n        const maxRadius = Math.floor(Math.min(centerX, centerY) * 0.8);\n        const result: [number, number][] = [];\n        \n        // \n        const innerPoints: [number, number][] = [];\n        const edgePoints: [number, number][] = [];\n        \n        for (const [x, y] of positions) {\n            const distance = Math.sqrt(Math.pow(x - centerX, 2) + Math.pow(y - centerY, 2));\n            if (distance <= maxRadius) {\n                // 80%-100%\n                if (distance >= maxRadius * 0.8) {\n                    edgePoints.push([x, y]);\n                } else {\n                    innerPoints.push([x, y]);\n                }\n            }\n        }\n        \n        // \n        for (const point of edgePoints) {\n            // \n            if (Math.random() < density * 1.5) {  // 50%\n                result.push(point);\n            }\n        }\n        \n        // \n        for (const point of innerPoints) {\n            // \n            if (Math.random() < density * 0.8) {  // 20%\n                result.push(point);\n            }\n        }\n        \n        if (!noExtend) {\n            this.generateTopLine(result);\n            this.generateBottomLine(result);\n        }\n        \n        return result.length > 0 ? result : positions;\n    }\n\n    /**\n     * \n     * @param centerX X\n     * @param centerY Y\n     * @param positions \n     * @param density 0-1\n     * @returns \n     */\n    private static generateSquareShape(centerX: number, centerY: number, positions: [number, number][], density: number): [number, number][] {\n        const halfSize = Math.min(centerX, centerY) * 0.7;\n        const result: [number, number][] = [];\n        \n        for (const [x, y] of positions) {\n            if (Math.abs(x - centerX) <= halfSize && Math.abs(y - centerY) <= halfSize && Math.random() < density) {\n                result.push([x, y]);\n            }\n        }\n        \n        this.generateTopLine(result);\n        this.generateBottomLine(result);\n        return result.length > 0 ? result : positions;\n    }\n\n\n    /**\n     * \n     * @param centerX X\n     * @param centerY Y\n     * @param positions \n     * @param density 0-1\n     * @returns \n     */\n    private static generateStarShape(centerX: number, centerY: number, positions: [number, number][], density: number): [number, number][] {\n        const outerRadius = Math.min(centerX, centerY) * 0.7;\n        const innerRadius = outerRadius * 0.4;\n        const result: [number, number][] = [];\n        \n        for (const [x, y] of positions) {\n            const distance = Math.sqrt(Math.pow(x - centerX, 2) + Math.pow(y - centerY, 2));\n            const angle = Math.atan2(y - centerY, x - centerX);\n            \n            // \n            const starRadius = (outerRadius + innerRadius) / 2 + \n                              (outerRadius - innerRadius) / 2 * Math.cos(5 * angle);\n            \n            if (distance <= starRadius && Math.random() < density) {\n                result.push([x, y]);\n            }\n        }\n\n        this.generateFourCurnor(result);\n        \n        return result.length > 0 ? result : positions;\n    }\n    static generateTopLine(result: [number, number][]) {\n        for (let i = 0; i < LevelGenerator.SPLIT * (LevelGenerator.COL - 1); i++) {\n            result.push([i, 48]);\n        }\n    }\n\n    static generateBottomLine(result: [number, number][]) {\n        for (let i = 0; i < LevelGenerator.SPLIT * (LevelGenerator.COL - 1); i++) {\n            result.push([i, 4]);\n        }\n    }\n\n    /**\n     * \n     * @param centerX X\n     * @param centerY Y\n     * @param positions \n     * @param density 0-1\n     * @returns \n     */\n    private static generateDiamondShape(centerX: number, centerY: number, positions: [number, number][], density: number): [number, number][] {\n        const sizeX = Math.min(centerX, centerY) * 0.7;\n        const sizeY = Math.min(centerX, centerY) * 0.7;\n        const result: [number, number][] = [];\n        \n        for (const [x, y] of positions) {\n            const relX = Math.abs(x - centerX) / sizeX;\n            const relY = Math.abs(y - centerY) / sizeY;\n            \n            if (relX + relY <= 1 && Math.random() < density) {\n                result.push([x, y]);\n            }\n        }\n\n        this.generateFourCurnor(result);\n        \n        return result.length > 0 ? result : positions;\n    }\n\n    private static generateFourCurnor(result: [number, number][]): void {\n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6, 12]);\n        }\n\n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6 + 30, 12]);\n        }\n\n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6, 42]);\n        }\n        \n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6 + 30, 42]);\n        }\n    }\n\n    private static generateMiddleUpBottom(result: [number, number][]): void {\n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6 + 15, 6]);\n        }\n        \n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6 + 15, 48]);\n        }\n    }\n\n    /**\n     * \n     * @param centerX X\n     * @param centerY Y\n     * @param positions \n     * @param density 0-1\n     * @returns \n     */\n    private static generateCrossShape(centerX: number, centerY: number, positions: [number, number][], density: number): [number, number][] {\n        const armLength = Math.min(centerX, centerY) * 0.6;\n        const armWidth = Math.min(centerX, centerY) * 0.2;\n        const result: [number, number][] = [];\n        \n        for (const [x, y] of positions) {\n            const relX = Math.abs(x - centerX);\n            const relY = Math.abs(y - centerY);\n            \n            // \n            if (relY <= armWidth && relX <= armLength) {\n                if (Math.random() < density) {\n                    result.push([x, y]);\n                }\n            }\n            // \n            else if (relX <= armWidth && relY <= armLength) {\n                if (Math.random() < density) {\n                    result.push([x, y]);\n                }\n            }\n        }\n\n        this.generateFourCurnor(result);\n        \n        return result.length > 0 ? result : positions;\n    }\n\n\n    public static generateLevel55() {\n        console.log(` 55: 7*9`);\n            \n            // \n            const COL = LevelGenerator.COL;\n            const ROW = LevelGenerator.ROW;\n            const SPLIT = LevelGenerator.SPLIT; // 6x6\n            \n            // 6x6, \n            const availableCols = COL - 1;\n            const availableRows = ROW - 1;\n            \n            // \n            let positions: [number, number][] = [];\n            for (let row = 0; row < availableRows * SPLIT; row++) {\n                for (let col = 0; col < availableCols * SPLIT; col++) {\n                    positions.push([col, row]);\n                }\n            }\n            \n            // \n            let ziNum = positions.length;\n            // 3\n            let types = Math.min(Math.floor(ziNum / 3), 45);\n            const ziNumPerType = Math.floor(ziNum / types);\n            \n            console.log(` 55 :  = ${types},  = ${ziNum},  = ${ziNumPerType}`);\n            \n            // \n            let zis: [col: number, row: number, style: number][] = [];\n            \n            // \n            for (let type = types - 1; type >= 0; type--) {\n                // ziNumPerType\n                for (let i = 0; i < ziNumPerType; i++) {\n                    // \n                    const posIndex = (type * ziNumPerType + i) % positions.length;\n                    const [col, row] = positions[posIndex];\n                    \n                    // 1\n                    zis.push([col, row, type + 1]);\n                }\n            }\n            \n            // \n            for (let i = zis.length; i < positions.length; i++) {\n                const [col, row] = positions[i];\n                zis.push([col, row, 1]);\n            }\n            \n            // \n            for (let i = zis.length - 1; i > 0; i--) {\n                const j = Math.floor(Math.random() * (i + 1));\n                [zis[i], zis[j]] = [zis[j], zis[i]];\n            }\n            \n            console.log(`55 : ${zis.length}`);\n            \n            return { zis };\n    }\n\n    public static generateLevel(level: number) {\n        // if (level == 2) {\n        //     level = 31;\n        // }\n\n        let ziStepNum = 3; // \n        if (level >= 31) {\n            ziStepNum = 3;\n        }\n        let types = Math.floor(level / 3) + 3; // \n        types = Math.min(types, 20); // 20\n        let ziNum = level * ziStepNum + 12; // \n        \n        // 557*9\n        if (level === 55) {\n            return this.generateLevel55();\n        }\n        \n        // 3\n        let ziNumPerType = Math.floor(ziNum / types);\n        // 3\n        ziNumPerType = Math.floor(ziNumPerType / 3) * 3;\n        // 03\n        if (ziNumPerType === 0) ziNumPerType = 3;\n        \n        // \n        ziNum = ziNumPerType * types;\n        console.log(`:  = ${ziNumPerType},  = ${ziNum}`);\n        \n        // \n        const COL = LevelGenerator.COL;\n        const ROW = LevelGenerator.ROW;\n        const SPLIT = LevelGenerator.SPLIT; // 6x6\n        \n        // 6x6, \n        const availableCols = COL - 1;\n        const availableRows = ROW - 2;\n        \n        // \n        let positions: [number, number][] = [];\n        for (let row = 0; row < availableRows * SPLIT; row++) {\n            for (let col = 0; col < availableCols * SPLIT; col++) {\n                positions.push([col, row]);\n            }\n        }\n        \n        // \n        positions = this.adjustDifficultyByLevel(level, positions);\n        \n        // \n        if (positions.length === 0) {\n            console.log(`:  ${level} `);\n            for (let row = 0; row < availableRows * SPLIT; row++) {\n                for (let col = 0; col < availableCols * SPLIT; col++) {\n                    positions.push([col, row]);\n                }\n            }\n        }\n        \n        console.log(` ${level} : ${positions.length}`);\n        \n        // // \n        for (let i = positions.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [positions[i], positions[j]] = [positions[j], positions[i]];\n        }\n        \n        // \n        let zis: [col: number, row: number, style: number][] = [];\n\n        // \n        let selectedTypes = this.selectTypes(level, types);\n        \n        // \n        for (let type of selectedTypes) {\n            // ziNumPerType\n            for (let i = 0; i < ziNumPerType; i++) {\n                // 0layers-1\n                // const layer = Math.floor(i / Math.ceil(ziNumPerType / layers));\n                \n                // \n                const posIndex = (type * ziNumPerType + i) % positions.length;\n                const [col, row] = positions[posIndex];\n                \n                // 1\n                zis.push([col, row, type]);\n            }\n        }\n        \n        // \n        // zis.sort((a, b) => b[2] - a[2]);\n        // \n        let segBorder = [0.8, 0.2];\n        if (level < 10) {\n            // 10\n            segBorder = [1];\n        }\n        let segMinIndex = 0;\n        for (let x = 0; x < segBorder.length; x++) {\n            segBorder[x] = Math.floor(zis.length * segBorder[x]);\n\n            for (let i = segBorder[x] + segMinIndex - 1; i > segMinIndex && i < zis.length; i--) {\n                const j = Math.floor(Math.random() * (i + 1));\n                let temp = zis[i];\n                zis[i] = zis[j];\n                zis[j] = temp;\n            }\n            segMinIndex = segBorder[x] + 1;\n        }\n        \n        // \n        const typeCount: {[key: number]: number} = {};\n        zis.forEach(zi => {\n            const type = zi[2];\n            typeCount[type] = (typeCount[type] || 0) + 1;\n        });\n        \n        console.log(` ${level} :`);\n        //  ES2015 \n        let typeEntries: [string, number][] = [];\n        for (let type in typeCount) {\n            if (typeCount.hasOwnProperty(type)) {\n                typeEntries.push([type, typeCount[type]]);\n            }\n        }\n        typeEntries.sort((a, b) => parseInt(a[0]) - parseInt(b[0]));\n        \n        for (const [type, count] of typeEntries) {\n            console.log(`   ${type}: ${count} `);\n        }\n        \n        return { zis };\n    }\n\n\n    static readonly ziTypesByCamp: {[key: number]: number[]} = {\n        0: [],\n        1: [1, 2, 3, 4, 5, 6, 7, 8,9,10, \n            11, 12, 13, 14, 15, 16, 18, 20,\n            21, 22, 23, 24, 26, 25, 26, 27, 28, 29, 30, \n            87,\n            105,106],\n            // 102, 103, 145, 146, 148, 149, 150],\n        2: [31, 32, 33, 34, 35, 36, 37, 38, 39, 40, \n            41, 42, 43, 44, 45, 46, 47, 48, 49, 50, \n            51, 52, 53, 54, 55, 56, 57, 58, 59, 60, \n            61, 62, 63, 65,66,67,68,69,70,\n            74,\n            107],\n        3: [73, 74, 75, 76, 77, 78, 79, 70,\n            81,82,83,84,//,\n            94,95,96,97,98,99,100,\n            101,\n            // \n\n            // 121\n            ],\n        4: [27, \n            88, 89, 90, \n            91, 92, 93,\n            111,112,113,114,115,116,117,118,119,200],\n            // 151, 152, 153, 154, 155, 156, 157, 158, 159, 160],\n    };\n\n    public static getCampByLevel(level: number): number {\n        let camp = level % 5;\n        return camp;\n    }\n\n    static selectTypes(level: number, types: number): number[] {\n\n        let selectedTypes: number[] = [];\n\n        //  - \n        //  - \n        //  - \n        //  -  15\n        //  - \n        let camp = this.getCampByLevel(level);\n        console.log(` ${level} : ${camp}`);\n        if (camp !== 0) {\n            let campTypes = this.ziTypesByCamp[camp];\n            if (campTypes.length * 5 >= level) {\n                selectedTypes = campTypes.slice(0, Math.min(types, campTypes.length));\n            } else {\n                //1-selectedTypes.lengthtypes\n                while (selectedTypes.length < types) {\n                    let randomType = campTypes[Math.floor(Math.random() * campTypes.length)];\n                    if (selectedTypes.indexOf(randomType) < 0) {\n                        selectedTypes.push(randomType);\n                    }\n                }\n            }\n        } else {\n            //1-100types\n            while (selectedTypes.length < types) {\n                let randomType = Math.floor(Math.random() * 100) + 1;\n                if (selectedTypes.indexOf(randomType) < 0) {\n                    selectedTypes.push(randomType);\n                }\n            }\n        }\n        console.log(` ${level}  ${camp} : ${selectedTypes}`);\n        return selectedTypes;\n    }\n\n    /**\n     * \n     * @param testLevel \n     * @returns \n     */\n    public static testLevelGenerator(testLevel: number = 1): string {\n        const result = this.generateLevel(testLevel);\n        const zis = result.zis;\n        \n        // \n        const totalPieces = zis.length;\n        const types = new Set(zis.map(zi => zi[2])).size;\n        \n        // \n        const typeCount: {[key: number]: number} = {};\n        zis.forEach(zi => {\n            const type = zi[2];\n            typeCount[type] = (typeCount[type] || 0) + 1;\n        });\n        \n        // \n        const positions = zis.map(zi => [zi[0], zi[1]]);\n        const minX = Math.min(...positions.map(p => p[0]));\n        const maxX = Math.max(...positions.map(p => p[0]));\n        const minY = Math.min(...positions.map(p => p[1]));\n        const maxY = Math.max(...positions.map(p => p[1]));\n        \n        // \n        const totalArea = (maxX - minX + 1) * (maxY - minY + 1);\n        const density = totalPieces / totalArea;\n        \n        // \n        let expectedShape = \"\";\n        if (testLevel < 10) {\n            const shapes = [\"\", \"\", \"\"];\n            expectedShape = shapes[testLevel % 3];\n        } else if (testLevel < 20) {\n            const shapes = [\"\", \"\", \"\", \"\"];\n            expectedShape = shapes[testLevel % 4];\n        } else {\n            const shapes = [\"\", \"\", \"\", \"\", \"\", \"\"];\n            expectedShape = shapes[testLevel % 6];\n        }\n        \n        //  ES2015 \n        let typeEntries: [string, number][] = [];\n        for (let type in typeCount) {\n            if (typeCount.hasOwnProperty(type)) {\n                typeEntries.push([type, typeCount[type]]);\n            }\n        }\n        \n        // \n        return `\n ${testLevel} :\n- : ${expectedShape}\n- : ${totalPieces}\n- : ${types}\n- : X(${minX}-${maxX}), Y(${minY}-${maxY})\n- : ${density.toFixed(2)}\n- : ${typeEntries.map(([type, count]) => `${type}:${count}`).join(', ')}\n        `.trim();\n    }\n\n    /**\n     * \n     * @param startLevel \n     * @param endLevel \n     * @returns \n     */\n    public static batchTestLevels(startLevel: number = 1, endLevel: number = 25): string {\n        let results = [];\n        results.push(`===  ${startLevel}-${endLevel} ===`);\n        \n        for (let level = startLevel; level <= endLevel; level++) {\n            results.push(this.testLevelGenerator(level));\n            results.push(\"---\"); // \n        }\n        \n        return results.join('\\n');\n    }\n}","import { createBundleObject } from \"../../../core/modules/res/ResConst\";\n\n\nconst Bundle = (m: string) => createBundleObject(`Res/Audio/${m}`, \"LoginBN\");\nexport const LoginAudio = {\n    bgm: Bundle(\"bgm\"),\n}\n","import { _decorator, Component } from 'cc';\nimport { AudioManager } from '../../../core/modules/audio/AudioManager';\nimport { LoginAudio } from './LoginAudio';\nconst { ccclass, property } = _decorator;\n\n@ccclass('LoginEntry')\nexport class LoginCtrl extends Component {\n    init() {\n        AudioManager.ins.playBgMusic(LoginAudio.bgm);\n    }\n\n    //()\n    private autoLogin(): void {\n        //1\n        setTimeout(() => {\n            this.m_OnLoginSuccess();\n        }, 1000)\n    }\n\n    private m_OnLoginSuccess: Function = null;\n\n    showLogin(onLoginSuccess: Function): void {\n        this.m_OnLoginSuccess = onLoginSuccess;\n        this.autoLogin();\n    }\n\n    // private async onLoginSuccess(): Promise<void> {\n    //     // Match3BN loadBundle  requireMatch3Entry \n    //     // addComponent(\"Match3Entry\") \n    //     await ResManager.ins.loadBundleAsync(\"Match3BN\");\n    //     // this.node.addComponent(Match3Entry);\n    //     //  LoginEntry.ts Asset Bundle  Match3 \n    //     //1\n    //     //2 Match3BN  LoginBN \n    //     let match3Entry = this.node.addComponent(\"Match3Entry\");\n    //     (match3Entry as any).init();\n    // }\n}\n\n\n","import { _decorator, Button, Component, Node, Sprite, UITransform, Vec3, tween, Label, SpriteFrame, assetManager, Size, sys } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { UILayer } from './UILayer';\nimport { ShopConfig } from '../shop/ShopConfig';\nimport { ToastManager } from './ToastManager';\nimport { AdManager, AdType, AdEventType } from '../ad/AdManager';\nimport { AudioManager } from '../audio/AudioManager';\nimport { createBundleObject } from '../res/ResConst';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n */\n@ccclass('LotteryUI')\nexport class LotteryUI extends BaseUI {\n    public static readonly viewLayer: UILayer = UILayer.UI;\n    \n    @property(Node)\n    plateSprite: Node | null = null; // \n\n    @property(Node)\n    poiterSprite: Node | null = null; // \n\n    @property(Button)\n    lotteryButton: Button | null = null; // \n\n    @property(Button)\n    closeButton: Button | null = null; // \n\n    @property([Node])\n    itemNodes: Node[] = []; // \n\n    @property(Node)\n    leftChanceLabel: Node | null = null;\n\n    @property(Node)\n    video: Node | null = null;\n\n    private isRotating: boolean = false; // \n    private rotationDuration: number = 3; // \n    private rotationTimes: number = 5; // \n    private prizes: any[] = []; // \n    private dailyFreeChances: number = 3; // \n    private leftChances: number = 0; // \n    private lastLotteryDate: string = ''; // \n\n    start() {\n        // \n        if (this.lotteryButton) {\n            this.lotteryButton.node.on(Button.EventType.CLICK, this.onLotteryButtonClick, this);\n        }\n        \n        // \n        if (this.closeButton) {\n            this.closeButton.node.on(Button.EventType.CLICK, this.onCloseButtonClick, this);\n        }\n\n        // \n        this.initLotteryChances();\n        \n        //\n        this.initItems();\n    }\n\n    /**\n     * \n     */\n    onLotteryButtonClick() {\n        if (this.isRotating) {\n            return; // \n        }\n\n        // \n        if (this.leftChances > 0) {\n            // \n            this.startLottery();\n        } else {\n            // \n            this.showAdAndLottery();\n        }\n    }\n\n    /**\n     * \n     */\n    onCloseButtonClick() {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('LotteryUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('LotteryUI: ');\n        }\n        \n        // \n        this.hide();\n    }\n\n    /**\n     * \n     * @returns \n     */\n    selectPrizeByProbability(): number {\n        // 0-1\n        const random = Math.random();\n        \n        // 1\n        let cumulativeProbability = 0;\n        let totalProbability = 0;\n        \n        // \n        for (let i = 0; i < this.prizes.length; i++) {\n            totalProbability += this.prizes[i].probabiliy;\n        }\n        \n        // 1\n        const normalized = Math.abs(totalProbability - 1.0) > 0.0001;\n        \n        // \n        for (let i = 0; i < this.prizes.length; i++) {\n            let probability = this.prizes[i].probabiliy;\n            \n            // \n            if (normalized && totalProbability > 0) {\n                probability = probability / totalProbability;\n            }\n            \n            cumulativeProbability += probability;\n            \n            // \n            if (random < cumulativeProbability || i === this.prizes.length - 1) {\n                console.log(`: =${i}, =${random}, =${cumulativeProbability}, =${normalized}, =${totalProbability}`);\n                return i;\n            }\n        }\n        \n        // \n        console.warn(`=${random}, =${totalProbability}`);\n        return this.prizes.length - 1;\n    }\n\n    /**\n     * \n     */\n    startLottery(byAd: boolean = false) {\n        if (this.isRotating) {\n            return;\n        }\n        \n        // \n        this.reduceLotteryChance();\n        \n        this.isRotating = true;\n        if (this.lotteryButton) {\n            this.lotteryButton.interactable = false; // \n        }\n\n        let prizeIndex: number = 4;\n        if (byAd) {\n            //\n            const selectAbleIndexs = [0,1,2,3,5,6,7];\n            prizeIndex = selectAbleIndexs[Math.floor(Math.random() * selectAbleIndexs.length)];\n        } else {\n            // \n            prizeIndex = this.selectPrizeByProbability();\n            console.log(`: ${prizeIndex}`);\n        }\n        \n        // \n        // 458360\n        // 00\n        // \n        \n        // 0-360\n        let currentAngle = 0;\n        if (this.poiterSprite) {\n            currentAngle = (this.poiterSprite.angle + 360) % 360;\n        }\n        console.log(`: ${currentAngle}`);\n        \n        // \n        // 00145\n        // \n        const prizeAngle = prizeIndex * 45 * -1;\n        \n        // (5) + ( - )\n        // Cocos Creator\n        // \n        let angleDiff = prizeAngle - currentAngle;\n        if (angleDiff > 0) {\n            angleDiff -= 360; // 360\n        }\n        \n        const minRotation = 360 * 5; // 5\n        // \n        const targetAngle = currentAngle - minRotation + angleDiff;\n        \n        console.log(`: ${currentAngle}, : ${prizeAngle}, : ${angleDiff}, : ${targetAngle}`);\n        \n        // \n        AudioManager.ins.playSound(createBundleObject(\"Res/Audio/lottery\", \"LoginBN\"));\n\n        this.rotatePointer(targetAngle, true, () => {\n            this.isRotating = false;\n            if (this.lotteryButton) {\n                this.lotteryButton.interactable = true; // \n            }\n            \n            // \n            console.log(`: ${prizeIndex}`);\n            this.showPrizeResult(prizeIndex);\n        });\n    }\n\n    /**\n     * \n     */\n    initItems() {\n        // \n        const prizes = [\n                {\n                    \"type\": \"item\",\n                    \"itemId\": \"item_ccjj\",\n                    \"count\": 1,\n                    \"probabiliy\": 0.03\n                },\n                {\n                    \"type\": \"coin\",\n                    \"itemId\": \"100\",\n                    \"count\": 100,\n                    \"probabiliy\": 0.03\n                },\n                {\n                    \"type\": \"item\",\n                    \"itemId\": \"item_qkny\",\n                    \"count\": 1,\n                    \"probabiliy\": 0.03\n                },\n                {\n                    \"type\": \"coin\",\n                    \"count\": 10,\n                    \"probabiliy\": 0.25\n                },\n                 {\n                    \"type\": \"none\",\n                    \"itemId\": \"item1\",\n                    \"count\": 1,\n                    \"probabiliy\": 0.4\n                },\n                {\n                    \"type\": \"coin\",\n                    \"count\": 30,\n                    \"probabiliy\": 0.15\n                },\n                {\n                    \"type\": \"item\",\n                    \"itemId\": \"item_tdhm\",\n                    \"count\": 1,\n                    \"probabiliy\": 0.04\n                },\n                {\n                    \"type\": \"coin\",\n                    \"count\": 60,\n                    \"probabiliy\": 0.07\n                }\n            ];\n    \n        // \n        this.setPrizes(prizes);\n        console.log(':', prizes.length);\n                \n    }\n\n    /**\n     * \n     * @param targetAngle \n     * @param clockwise \n     * @param callback \n     */\n    rotatePointer(targetAngle: number, clockwise: boolean = true, callback: Function) {\n        if (!this.poiterSprite) {\n            console.error(\"\");\n            return;\n        }\n\n        // \n        const currentAngle = (this.poiterSprite.angle + 360) % 360;\n        this.poiterSprite.angle = currentAngle;\n        \n        \n        // \n        const actualTargetAngle = targetAngle;//currentAngle + totalRotation;\n        \n        console.log(`: =${currentAngle}, =${targetAngle}, =${targetAngle}, =${actualTargetAngle}, =${clockwise}`);\n        \n        // tween\n        tween(this.poiterSprite)\n            .to(this.rotationDuration, { angle: actualTargetAngle }, {\n                easing: 'cubicOut' // \n            })\n            .call(() => {\n                if (callback) {\n                    callback();\n                }\n            })\n            .start();\n    }\n\n    /**\n     * \n     * @param prizeIndex \n     */\n    showPrizeResult(prizeIndex: number) {\n        const prize = this.prizes[prizeIndex];\n        let message = '';\n        \n        // UI\n        this.updateChanceDisplay();\n        \n        // \n        if (prize.type === 'item') {\n            // \n            const itemConfig = ShopConfig.getItemById(prize.itemId);\n            const itemName = itemConfig ? itemConfig.name : '';\n            message = `${itemName} x${prize.count}`;\n            \n            // \n            try {\n                // gCtrlShopManager\n                const shopManager = gCtrl.shop;\n                \n                // ShopManager\n                const shopItem = shopManager.getItem(prize.itemId);\n                if (shopItem) {\n                    // \n                    shopItem.count = prize.count;\n                    \n                    // gCtrlBagManager\n                    const bagManager = gCtrl.bag;\n                    const success = bagManager.addItemByShopItem(shopItem);\n                    \n                    if (success) {\n                        console.log(`${itemName} x${prize.count}`);\n                    } else {\n                        console.error(`${itemName} x${prize.count}`);\n                        message += '';\n                    }\n                } else {\n                    console.error(`ShopManager: ${prize.itemId}`);\n                    message += '';\n                }\n            } catch (error) {\n                console.error(':', error);\n                message += '';\n            }\n        } else if (prize.type === 'coin') {\n            // \n            message = `${prize.count}`;\n            \n            // \n            try {\n                // gCtrlCoinManager\n                const coinManager = gCtrl.coin;\n                const success = coinManager.addCoin(prize.count);\n                \n                if (success) {\n                    console.log(`${prize.count}`);\n                } else {\n                    console.error(`${prize.count}`);\n                    message += '';\n                }\n            } catch (error) {\n                console.error(':', error);\n                message += '';\n            }\n        } else if (prize.type === 'none') {\n            // \n            message = '';\n        } else {\n            // \n            message = `${prizeIndex + 1}`;\n        }\n        \n        // ToastManager\n        ToastManager.getInstance().showMessage(message, 3);\n    }\n\n    /**\n     * \n     * @param prizes \n     */\n    setPrizes(prizes: any[]) {\n        this.prizes = prizes;\n        if (!this.itemNodes || this.itemNodes.length === 0) {\n            console.error(\"\");\n            return;\n        }\n\n        // \n        const nodeCount = Math.min(prizes.length, this.itemNodes.length);\n        \n        for (let i = 0; i < nodeCount; i++) {\n            const prize = prizes[i];\n            const itemNode = this.itemNodes[i];\n            \n            // \n            this.updateItemNode(itemNode, prize);\n        }\n    }\n\n    /**\n     * \n     * @param itemNode \n     * @param prize \n     */\n    updateItemNode(itemNode: Node, prize: any) {\n        // \n        const itemSprite = itemNode.getChildByName('itemSprite');\n        const itemLabel = itemNode.getChildByName('itemLabel');\n        \n        // \n        if (prize.type === 'item') {\n            // \n            if (prize.itemId) {\n                // itemId\n                const itemConfig = ShopConfig.getItemById(prize.itemId);\n                if (itemConfig) {\n                    // \n                    if (itemSprite) {\n                        const spriteComponent = itemSprite.getComponent(Sprite);\n                        if (spriteComponent) {\n                            // \n                            const iconPath = itemConfig.icon;\n                            const bundleName = 'CommonUI'; // bundle\n                            const assetPath = `ui/${iconPath}`; // \n                            \n                            // bundle\n                            const bundle = assetManager.getBundle(bundleName);\n                            if (bundle) {\n                                // Bundle\n                                bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                                    if (err) {\n                                        console.error(`bundle ${bundleName} : ${assetPath}`, err);\n                                        return;\n                                    }\n                                    \n                                    if (spriteFrame) {\n                                        spriteComponent.spriteFrame = spriteFrame;\n                                        // 90*90\n                                        const uiTransform = itemSprite.getComponent(UITransform);\n                                        if (uiTransform) {\n                                            uiTransform.setContentSize(90, 90);\n                                        }\n                                    } else {\n                                        console.error(`bundle ${bundleName} : ${assetPath}`);\n                                    }\n                                });\n                            } else {\n                                // Bundlebundle\n                                assetManager.loadBundle(bundleName, (err, bundle) => {\n                                    if (err) {\n                                        console.error(`bundle: ${bundleName}`, err);\n                                        return;\n                                    }\n                                    \n                                    // bundle\n                                    bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                                        if (err) {\n                                            console.error(`bundle ${bundleName} : ${assetPath}`, err);\n                                            return;\n                                        }\n                                        \n                                        if (spriteFrame) {\n                                            spriteComponent.spriteFrame = spriteFrame;\n                                            // 90*90\n                                            const uiTransform = itemSprite.getComponent(UITransform);\n                                            if (uiTransform) {\n                                                uiTransform.setContentSize(90, 90);\n                                            }\n                                        } else {\n                                            console.error(`bundle ${bundleName} : ${assetPath}`);\n                                        }\n                                    });\n                                });\n                            }\n                        }\n                    }\n                    \n                    // \n                    if (itemLabel) {\n                        const labelComponent = itemLabel.getComponent(Label);\n                        if (labelComponent) {\n                            labelComponent.string = `X ${prize.count}`;\n                        }\n                    }\n                } else {\n                    console.error(`: ${prize.itemId}`);\n                }\n            } else {\n                console.error('itemId');\n            }\n        } else if (prize.type === 'coin') {\n            // \n            if (itemSprite) {\n                const spriteComponent = itemSprite.getComponent(Sprite);\n                if (spriteComponent) {\n                    // \n                    const iconPath = 'cion';\n                    const bundleName = 'CommonUI'; // bundle\n                    const assetPath = `ui/${iconPath}/spriteFrame`; // \n                    \n                    // bundle\n                    const bundle = assetManager.getBundle(bundleName);\n                    if (bundle) {\n                        // Bundle\n                        bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                            if (err) {\n                                console.error(`bundle ${bundleName} : ${assetPath}`, err);\n                                return;\n                            }\n                            \n                            if (spriteFrame) {\n                                spriteComponent.spriteFrame = spriteFrame;\n                                // 80*50\n                                const uiTransform = itemSprite.getComponent(UITransform);\n                                if (uiTransform) {\n                                    uiTransform.setContentSize(80, 50);\n                                }\n                            } else {\n                                console.error(`bundle ${bundleName} : ${assetPath}`);\n                            }\n                        });\n                    } else {\n                        // Bundlebundle\n                        assetManager.loadBundle(bundleName, (err, bundle) => {\n                            if (err) {\n                                console.error(`bundle: ${bundleName}`, err);\n                                return;\n                            }\n                            \n                            // bundle\n                            bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                                if (err) {\n                                    console.error(`bundle ${bundleName} : ${assetPath}`, err);\n                                    return;\n                                }\n                                \n                                if (spriteFrame) {\n                                    spriteComponent.spriteFrame = spriteFrame;\n                                    // 80*50\n                                    const uiTransform = itemSprite.getComponent(UITransform);\n                                    if (uiTransform) {\n                                        uiTransform.setContentSize(80, 50);\n                                    }\n                                } else {\n                                    console.error(`bundle ${bundleName} : ${assetPath}`);\n                                }\n                            });\n                        });\n                    }\n                }\n            }\n            \n            // \n            if (itemLabel) {\n                const labelComponent = itemLabel.getComponent(Label);\n                if (labelComponent) {\n                    labelComponent.string = `x ${prize.count}`;\n                }\n            }\n        } else if (prize.type === 'none') {\n            // \n            if (itemLabel) {\n                const labelComponent = itemLabel.getComponent(Label);\n                if (labelComponent) {\n                    labelComponent.string = '';\n                }\n            }\n            // \n            if (itemSprite) {\n                itemSprite.active = false;\n            }\n        }\n    }\n\n    onDestroy() {\n        // \n        if (this.lotteryButton) {\n            this.lotteryButton.node.off(Button.EventType.CLICK, this.onLotteryButtonClick, this);\n        }\n        \n        // \n        if (this.closeButton) {\n            this.closeButton.node.off(Button.EventType.CLICK, this.onCloseButtonClick, this);\n        }\n    }\n\n    /**\n     * \n     */\n    private initLotteryChances(): void {\n        // \n        const today = new Date();\n        const todayStr = `${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`;\n        \n        // \n        const savedLastDate = sys.localStorage.getItem('lastLotteryDate');\n        const savedLeftChances = sys.localStorage.getItem('leftLotteryChances');\n        \n        // \n        if (savedLastDate !== todayStr) {\n            this.leftChances = this.dailyFreeChances;\n            this.lastLotteryDate = todayStr;\n            // \n            sys.localStorage.setItem('lastLotteryDate', this.lastLotteryDate);\n            sys.localStorage.setItem('leftLotteryChances', this.leftChances.toString());\n        } else {\n            // \n            this.leftChances = savedLeftChances ? parseInt(savedLeftChances) : this.dailyFreeChances;\n            this.lastLotteryDate = savedLastDate || todayStr;\n        }\n        \n        // UI\n        this.updateChanceDisplay();\n    }\n\n    /**\n     * \n     */\n    public getLeftChances(): number {\n        return this.leftChances;\n    }\n\n    /**\n     * \n     */\n    private reduceLotteryChance(): void {\n        if (this.leftChances > 0) {\n            this.leftChances--;\n            // \n            sys.localStorage.setItem('leftLotteryChances', this.leftChances.toString());\n            // UI\n            this.updateChanceDisplay();\n        }\n    }\n\n    /**\n     * \n     */\n    private showAdAndLottery(): void {\n        console.log('');\n        \n        // \n        if (this.isRotating) {\n            console.log('');\n            return;\n        }\n        \n        // \n        // this.isRotating = true;\n        if (this.lotteryButton) {\n            this.lotteryButton.interactable = false; // \n        }\n        \n        // \n        const adManager = AdManager.getInstance();\n        \n        // \n        if (adManager) {\n            const success = adManager.showAd(AdType.REWARD_VIDEO, 'reward_video_lottery_chance');\n            if (success) {\n                // \n                const adEventListener = (param: any) => {\n                    console.log('', param);\n                        // res.isEnded \n                        //  2.1.0 res  undefined\n                        //  2.1.0  res.isEnded    \n                    if (param.type === AdEventType.REWARDED) {\n                        // \n                        console.log('');\n                        this.startLottery(true);\n\n                        // \n                        adManager.removeEventListener(adEventListener);\n                    } else if (param.type === AdEventType.CLOSED) {\n                        // \n                        console.log('');\n                        this.isRotating = false;\n                        if (this.lotteryButton) {\n                            this.lotteryButton.interactable = true; // \n                        }\n                        // \n                        adManager.removeEventListener(adEventListener);\n                    }\n                };\n                adManager.addEventListener(adEventListener);\n            }\n        \n            \n            if (!success) {\n                console.error('');\n                \n                // \n                this.isRotating = false;\n                if (this.lotteryButton) {\n                    this.lotteryButton.interactable = true; // \n                }\n            }\n        } else {\n            console.error('');\n            \n            // \n            this.isRotating = false;\n            if (this.lotteryButton) {\n                this.lotteryButton.interactable = true; // \n            }\n        }\n    }\n\n    /**\n     * \n     */\n    private updateChanceDisplay(): void {\n        if (this.leftChanceLabel) {\n            const label = this.leftChanceLabel.getComponent(Label);\n            if (label) {\n                label.string = `${this.leftChances}`;\n            }\n        }\n        \n        // /leftChanceLabelvideo\n        if (this.leftChances > 0) {\n            if (this.leftChanceLabel) this.leftChanceLabel.active = true;\n            if (this.video) this.video.active = false;\n        } else {\n            if (this.leftChanceLabel) this.leftChanceLabel.active = false;\n            if (this.video) this.video.active = true;\n        }\n    }\n}","import { Component, JsonAsset, Node, Vec3, _decorator, tween, Label, RichText, ProgressBar, Button, Sprite, UITransform, Color, assetManager, SpriteFrame, Size, Rect, Prefab, instantiate, Canvas, Camera, RenderTexture, director, Director, Layers, Vec2, Tween } from 'cc';\nimport { SpriteFramesCfg } from '../../../auto/SpriteFramesCfg';\nimport { ResLoader } from '../../../core/modules/res/ResLoader';\nimport { Match3ZiUE } from './Match3ZiUE';\nimport { ZiStack } from './ZiStack';\nimport { LevelGenerator } from './LevelGenerator';\nimport CoinManager, { CoinEventType } from '../../../core/modules/coin/CoinManager';\nimport { TaskManager } from '../../../core/modules/task/TaskManager';\nimport { AdManager, AdType, AdEventType, AdEventParam } from '../../../core/modules/ad/AdManager';\nimport { BagManager, BagItem, ItemType, BagEventType } from '../../../core/modules/bag/BagManager';\nimport { UILayer } from '../../../core/modules/ui/UILayer';\nimport { SkillManager } from '../../../core/modules/skill/SkillManager';\nimport { SkillConfig, SkillEventType, SkillType } from '../../../core/modules/skill/SkillBase';\nimport { AudioManager } from '../../../core/modules/audio/AudioManager';\nimport { createBundleObject } from '../../../core/modules/res/ResConst';\nimport { TuoDaoHuiMaSkill } from '../../../core/modules/skill/TuoDaoHuiMaSkill';\nimport { ToastManager } from '../../../core/modules/ui/ToastManager';\n\ndeclare const jsb: any;\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('Match3UI')\nexport class Match3UI extends Component {\n\n    @property(Node)\n    private board: Node = null;\n\n    @property(Node)\n    private gameStatus: Node = null;\n\n    @property(Node)\n    private collectArea: Node = null;\n\n    // \n    @property(Node)\n    private coinNode: Node = null;\n\n    // \n    @property(Node)\n    private gameSuccess: Node = null;\n\n    @property(Node)\n    private gameFail: Node = null;\n\n    @property(Label)\n    private successCoinLabel: Label = null;\n\n    @property(Label)\n    private failCoinLabel: Label = null;\n\n    @property(Button)\n    private successContinueButton: Button = null;\n\n    @property(Button)\n    private successDoubleRewardButton: Button = null;\n\n    @property(Button)\n    private failRetryButton: Button = null;\n\n\n    @property(Button)\n    private successBuyButton: Button = null;\n\n    @property(Label)\n    private rewardDetailLabel: Label = null;\n\n    @property(Label)\n    private successLevelDetailLabel: Label = null;\n\n    @property(Button)\n    private failBuyButton: Button = null;\n\n    @property(Button)\n    private successShareButton: Button = null;\n\n    // \n    @property(Node)\n    private pausePannel: Node = null;\n\n    @property(Button)\n    private pauseButton: Button = null;\n\n    @property(Button)\n    private cancelButton: Button = null;\n\n    @property(Button)\n    private failShareButton: Button = null;\n\n    @property(Button)\n    private rebornButton: Button = null;\n\n\n    @property(Sprite)\n    private warningMask: Sprite = null;\n\n    @property(Label)\n    private pauseCoinRewardLabel: Label = null;\n\n    // \n    @property(Node)\n    private skillsNode: Node = null;\n\n    @property(Prefab)\n    private skillPrefab: Prefab = null;\n\n    // \n    private skillManager: SkillManager = null;\n\n    private bagManager: BagManager = null;\n    private currentItem: BagItem = null;\n    \n    // UI\n    private currentDisplayedItems: Map<string, BagItem> = new Map<string, BagItem>();\n\n    private levelText: RichText = null;\n\n    private progressBar: ProgressBar = null;\n\n    private progressLabel: Label = null;\n    \n    // \n    private coinManager: CoinManager = null;\n    private entryFee: number = 10;       // \n    private winReward: number = 50;      // \n    private isGameStarted: boolean = false; // \n    private coinAnimationTween: any = null; // tween\n    \n    // \n    private taskManager: TaskManager = null;\n    \n    // \n    private adManager: AdManager = null;\n    private gameStartTime: number = 0; // \n    private interstitialAdShown: boolean = false; // \n    \n    // \n    private isProcessingContinue: boolean = false; // \n    \n    //\n    private m_PlaceHolders: Match3ZiUE[] = [];\n\n    /** */\n    private m_ZiList: Match3ZiUE[] = [];\n    private stacks: ZiStack[][] = [];\n    \n    // \n    private m_CollectEventQueue: Match3ZiUE[] = [];\n    // \n    private m_IsProcessingCollectEvent: boolean = false;\n    \n    // \n    private currentLevel: number = 1;\n    \n    // \n    private pageManager: any = null;\n    \n    // \n    private initialZiCount: number = 0;\n    \n    // \n    private lastEliminateTime: number = 0;     // \n    private comboCount: number = 0;            // \n    private totalComboCount: number = 0;       // \n    private comboTimeout: number = 5000;        // \n    campTips: string;\n\n    /**\n     * \n     * @param v1 \n     * @param v2 \n     * @returns 1: v1 > v2, 0: v1 = v2, -1: v1 < v2\n     */\n    private compareVersion(v1: string, v2: string): number {\n        const v1Parts = v1.split('.');\n        const v2Parts = v2.split('.');\n        const len = Math.max(v1Parts.length, v2Parts.length);\n\n        while (v1Parts.length < len) {\n            v1Parts.push('0');\n        }\n        while (v2Parts.length < len) {\n            v2Parts.push('0');\n        }\n\n        for (let i = 0; i < len; i++) {\n            const num1 = parseInt(v1Parts[i]);\n            const num2 = parseInt(v2Parts[i]);\n\n            if (num1 > num2) {\n                return 1;\n            } else if (num1 < num2) {\n                return -1;\n            }\n        }\n\n        return 0;\n    }\n\n    /**\n     * \n     */\n    private initRecommendationManager(): void {\n        // \n        if (typeof wx !== 'undefined') {\n            try {\n                // \n                if (!(wx as any).createPageManager) {\n                    console.warn(\"\");\n                    return;\n                }\n                \n                // PageManager\n                this.pageManager = (wx as any).createPageManager();\n                \n                if (this.pageManager) {\n                    // \n                    this.pageManager.load({\n                        // OPENLINK\n                        openlink: 'TWFRCqV5WeM2AkMXhKwJ03MhfPOieJfAsvXKUbWvQFQtLyyA5etMPabBehga950uzfZcH3Vi3QeEh41xRGEVFw',\n                        success: () => {\n                            console.log(\"\");\n                        },\n                        fail: (err) => {\n                            console.error(\"\", err);\n                        }\n                    });\n                    \n                    // \n                    this.pageManager.on('ready', () => {\n                        console.log(\"\");\n                    });\n                    \n                    this.pageManager.on('show', () => {\n                        console.log(\"\");\n                    });\n                    \n                    this.pageManager.on('destroy', (res: any) => {\n                        console.log(\"\", res);\n                        \n                        // isRecommended3.8.6\n                        const systemInfo = wx.getSystemInfoSync();\n                        const SDKVersion = systemInfo.SDKVersion;\n                        const isSupportRecommended = this.compareVersion(SDKVersion, '3.8.6') >= 0;\n                        \n                        if (isSupportRecommended && res.isRecommended !== undefined) {\n                            console.log(\":\", res.isRecommended);\n                            \n                            // \n                            const gCtrl = (globalThis as any).gCtrl;\n                            if (gCtrl && gCtrl.data) {\n                                // \n                                gCtrl.data.setRecommendedStatus(res.isRecommended, true);\n                                console.log(`: ${res.isRecommended}`);\n                            } else {\n                                console.error(\"\");\n                            }\n                        } else if (!isSupportRecommended) {\n                            console.log(\"\");\n                            \n                            // \n                            const gCtrl = (globalThis as any).gCtrl;\n                            if (gCtrl && gCtrl.data) {\n                                gCtrl.data.setRecommendedStatus(true, true);\n                                console.log(\"\");\n                            }\n                        } else {\n                            console.log(\"\");\n                        }\n                    });\n                    \n                    this.pageManager.on('error', (err: any) => {\n                        console.error(\"\", err);\n                    });\n                }\n                \n                console.log(\"\");\n            } catch (error) {\n                console.error(\":\", error);\n            }\n        } else {\n            console.log(\"\");\n        }\n    }\n    \n    /**\n     * \n     */\n    private showRecommendationPopup(): void {\n        // \n        if (typeof wx === 'undefined' || !this.pageManager) {\n            console.log(\"\");\n            return;\n        }\n        \n        try {\n            // \n            const gCtrl = (globalThis as any).gCtrl;\n            if (gCtrl && gCtrl.data) {\n                const isRecommended = gCtrl.data.getRecommendedStatus();\n                if (isRecommended) {\n                    console.log(\"\");\n                    return;\n                }\n            } else {\n                console.error(\"\");\n            }\n            \n            console.log(` ${this.currentLevel} 5`);\n            \n            // show\n            this.pageManager.show({\n                // OPENLINK\n                openlink: 'TWFRCqV5WeM2AkMXhKwJ03MhfPOieJfAsvXKUbWvQFQtLyyA5etMPabBehga950uzfZcH3Vi3QeEh41xRGEVFw',\n                success: () => {\n                    console.log(\"\");\n                },\n                fail: (err) => {\n                    console.error(\"\", err);\n                }\n            });\n            \n            console.log(\"\");\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private initPopups(): void {\n        // \n        if (this.gameSuccess) {\n            this.gameSuccess.active = false;\n        }\n        \n        if (this.gameFail) {\n            this.gameFail.active = false;\n        }\n        \n        // \n        if (this.pausePannel) {\n            this.pausePannel.active = false;\n        }\n        \n        console.log(\"\");\n    }\n    \n    /**\n     * \n     */\n    private initPauseFeature(): void {\n        // \n        if (this.pauseButton && this.pauseButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.pauseButton);\n            \n            // \n            this.pauseButton.node.on(Button.EventType.CLICK, () => {\n                this.onPauseButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        // \n        if (this.cancelButton && this.cancelButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.cancelButton);\n            \n            // \n            this.cancelButton.node.on(Button.EventType.CLICK, () => {\n                this.onCancelButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        // \n        if (this.failShareButton && this.failShareButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.failShareButton);\n            \n            // \n            this.failShareButton.node.on(Button.EventType.CLICK, () => {\n                this.onFailShareButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        console.log(\"\");\n    }\n    \n    /**\n     * \n     */\n    private onPauseButtonClicked(): void {\n        console.log(\"\");\n        \n        // \n        this.disableAllZiClicks();\n        \n        // \n        AudioManager.ins.pauseBgMusic();\n        \n        // \n        if (this.pausePannel) {\n            this.pausePannel.active = true;\n            \n            // \n            if (this.pauseCoinRewardLabel) {\n                // \n                const lossAmount = this.entryFee; // \n                this.pauseCoinRewardLabel.string = `-${lossAmount}`;\n            }\n        } else {\n            console.error(\"\");\n        }\n    }\n    \n    /**\n     * \n     */\n    private onCancelButtonClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.pausePannel) {\n            this.pausePannel.active = false;\n        } else {\n            console.error(\"\");\n        }\n        \n        // \n        AudioManager.ins.resumeBgMusic();\n        \n        // \n        this.enableAllZiClicks();\n    }\n    \n    /**\n     * \n     */\n    private onFailShareButtonClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.pausePannel) {\n            this.pausePannel.active = false;\n        }\n        \n        // \n        this.shareToFriendForCoins();\n    }\n    \n    /**\n     * 1000\n     */\n    private shareToFriendForCoins(): void {\n        // \n        if (typeof wx !== 'undefined') {\n            // \n            this.getUserProfile().then(userInfo => {\n                const nickName = userInfo.nickName || '';\n                const avatarUrl = userInfo.avatarUrl || '';\n                \n                // \n                wx.shareAppMessage({\n                    title: `${nickName}1000`,\n                    imageUrl: avatarUrl || '', // \n                    query: 'from=share&coins=1000', // \n                    success: () => {\n                        console.log(\"\");\n                        // \n                        this.showToast(\"1000\");\n                        \n                        // \n                        this.node.destroy();\n                        this.enableAllZiClicks();\n                        console.log(\"\");\n                    },\n                    fail: (error) => {\n                        console.error(\":\", error);\n                        // \n                        this.showToast(\"\");\n                        this.handleShareFailure();\n                    }\n                });\n            }).catch(error => {\n                console.error(\":\", error);\n                // \n                this.handleShareFailure();\n            });\n        } else {\n            // \n            console.log(\"\");\n            this.showToast(\"\");\n            this.handleShareFailure();\n        }\n    }\n    \n    /**\n     * \n     * API\n     */\n    private getUserProfile(): Promise<any> {\n        return new Promise((resolve, reject) => {\n            // wx.getUserProfile\n            if (wx.getUserProfile) {\n                wx.getUserProfile({\n                    desc: '',\n                    success: (res) => {\n                        resolve(res.userInfo);\n                    },\n                    fail: (error) => {\n                        console.error(\"wx.getUserProfile:\", error);\n                        // getUserProfile\n                        this.getDefaultUserInfo().then(resolve).catch(reject);\n                    }\n                });\n            } else {\n                // getUserProfile\n                this.getDefaultUserInfo().then(resolve).catch(reject);\n            }\n        });\n    }\n    \n    /**\n     * \n     * \n     */\n    private getDefaultUserInfo(): Promise<any> {\n        return new Promise((resolve) => {\n            // \n            try {\n                const cachedUserInfo = wx.getStorageSync('userInfo');\n                if (cachedUserInfo) {\n                    resolve(cachedUserInfo);\n                    return;\n                }\n            } catch (error) {\n                console.error(\":\", error);\n            }\n            \n            // \n            resolve({\n                nickName: '',\n                avatarUrl: ''\n            });\n        });\n    }\n    \n    /**\n     * \n     */\n    private handleShareFailure(): void {\n        // \n        const lossAmount = this.entryFee; // \n        if (this.coinManager) {\n            this.coinManager.subtractCoin(lossAmount);\n            console.log(`: ${lossAmount}`);\n            \n            // UI\n            this.updateUI();\n        } else {\n            console.error(\"\");\n        }\n    \n        // \n        this.node.destroy();\n        this.enableAllZiClicks();\n        console.log(\"\");\n    }\n    \n    /**\n     * \n     * @param message \n     */\n    private showToast(message: string): void {\n        // UI\n        console.log(\":\", message);\n        // Toast\n        ToastManager.getInstance().showMessage(message);\n    }\n    \n    /**\n     * \n     * @param button \n     */\n    private addButtonTouchEffect(button: Button): void {\n        if (!button || !button.node) {\n            console.error(\"\");\n            return;\n        }\n        \n        console.log(\"\");\n        const buttonNode = button.node;\n        \n        // \n        this.removeButtonTouchEffect(button);\n        \n        // \n        let originalScale: Vec3;\n        if ((buttonNode as any).userData && (buttonNode as any).userData.originalScale) {\n            originalScale = (buttonNode as any).userData.originalScale;\n        } else {\n            originalScale = buttonNode.scale.clone();\n        }\n        \n        const hoverScale = new Vec3(originalScale.x * 1.1, originalScale.y * 1.1, originalScale.z);\n        const pressScale = new Vec3(originalScale.x * 0.95, originalScale.y * 0.95, originalScale.z);\n        \n        // \n        // \n        (buttonNode as any).userData = (buttonNode as any).userData || {};\n        (buttonNode as any).userData.originalScale = originalScale;\n        (buttonNode as any).userData.hoverScale = hoverScale;\n        (buttonNode as any).userData.pressScale = pressScale;\n        \n        // \n        buttonNode.on(Node.EventType.MOUSE_ENTER, () => {\n            tween(buttonNode)\n                .to(0.1, { scale: hoverScale })\n                .start();\n        }, this);\n        \n        // \n        buttonNode.on(Node.EventType.MOUSE_LEAVE, () => {\n            tween(buttonNode)\n                .to(0.1, { scale: originalScale })\n                .start();\n        }, this);\n        \n        // \n        buttonNode.on(Node.EventType.TOUCH_START, (event: any) => {\n            event.propagationStopped = true; // \n            tween(buttonNode)\n                .to(0.1, { scale: hoverScale })\n                .start();\n                \n            // \n            this.scheduleOnce(() => {\n                tween(buttonNode)\n                    .to(0.1, { scale: pressScale })\n                    .start();\n            }, 0.1);\n        }, this);\n        \n        // \n        buttonNode.on(Node.EventType.TOUCH_END, (event: any) => {\n            event.propagationStopped = true; // \n            tween(buttonNode)\n                .to(0.1, { scale: originalScale })\n                .start();\n        }, this);\n        \n        // \n        buttonNode.on(Node.EventType.TOUCH_CANCEL, (event: any) => {\n            event.propagationStopped = true; // \n            tween(buttonNode)\n                .to(0.1, { scale: originalScale })\n                .start();\n        }, this);\n    }\n    \n    /**\n     * \n     * @param button \n     */\n    private removeButtonTouchEffect(button: Button): void {\n        if (!button || !button.node) {\n            return;\n        }\n        \n        const buttonNode = button.node;\n        \n        // \n        buttonNode.targetOff(this);\n        \n        // tween\n        Tween.stopAllByTarget(buttonNode);\n        \n        // \n        if ((buttonNode as any).userData && (buttonNode as any).userData.originalScale) {\n            buttonNode.scale = (buttonNode as any).userData.originalScale;\n        }\n    }\n    \n    /**\n     * \n     */\n    private cleanupSuccessPopupButtons(): void {\n        console.log(\"\");\n        \n        // \n        if (this.successContinueButton) {\n            this.successContinueButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.successContinueButton);\n        }\n        \n        // \n        if (this.successDoubleRewardButton) {\n            this.successDoubleRewardButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.successDoubleRewardButton);\n        }\n        \n        // \n        if (this.successBuyButton) {\n            this.successBuyButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.successBuyButton);\n        }\n        \n        // \n        if (this.successShareButton) {\n            this.successShareButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.successShareButton);\n        }\n    }\n    \n    /**\n     * \n     */\n    private cleanupFailPopupButtons(): void {\n        console.log(\"\");\n        \n        // \n        if (this.failRetryButton) {\n            this.failRetryButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.failRetryButton);\n        }\n        \n        \n        // \n        if (this.failBuyButton) {\n            this.failBuyButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.failBuyButton);\n        }\n        \n        // \n        if (this.rebornButton) {\n            this.rebornButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.rebornButton);\n        }\n    }\n    \n    /**\n     * \n     * \n     */\n    private disableAllZiClicks(): void {\n        console.log(\"\");\n        // false\n        Match3ZiUE.globalClickable = false;\n    }\n    \n    /**\n     * \n     * \n     */\n    private enableAllZiClicks(): void {\n        console.log(\"\");\n        // true\n        Match3ZiUE.globalClickable = true;\n    }\n    \n    /**\n     * \n     * UI\n     */\n    private onCoinChanged(): void {\n        console.log(\"Match3UI: UI\");\n        // UI\n        this.updateUI();\n    }\n    \n    /**UI */\n    private updateUI(): void {\n        // \n        if (this.levelText) {\n            this.levelText.string = `${this.campTips}\\n${this.currentLevel}`;\n        }\n        \n        // \n        if (this.coinNode && this.coinNode.getChildByName('coinLabel')) {\n            const coinLabel = this.coinNode.getChildByName('coinLabel').getComponent(Label);\n            if (coinLabel && this.coinManager) {\n                const currentCoin = this.coinManager.getCurrentCoin();\n                coinLabel.string = currentCoin.toString();\n            }\n        }\n        \n        // \n        this.updateProgress();\n        \n        // \n        this.checkAndShowInterstitialAd();\n    }\n    \n    /** */\n    private updateCoinWithAnimation(startCoin: number, endCoin: number, duration: number = 1.0): void {\n        if (!this.coinNode || !this.coinNode.getChildByName('coinLabel')) {\n            console.warn(\"\");\n            return;\n        }\n        \n        const coinLabel = this.coinNode.getChildByName('coinLabel').getComponent(Label);\n        if (!coinLabel) {\n            console.warn(\"\");\n            return;\n        }\n        \n        // \n        if (this.coinAnimationTween) {\n            this.coinAnimationTween.stop();\n        }\n        \n        // \n        coinLabel.string = startCoin.toString();\n        AudioManager.ins.playSound(createBundleObject(\"Res/Audio/coin\", \"LoginBN\"));\n        // tween\n        this.coinAnimationTween = tween(coinLabel.node)\n            .to(duration, {}, {\n                onUpdate: (target: Node, ratio: number) => {\n                    // \n                    const currentCoin = Math.floor(startCoin + (endCoin - startCoin) * ratio);\n                    coinLabel.string = currentCoin.toString();\n                }\n            })\n            .call(() => {\n                // \n                coinLabel.string = endCoin.toString();\n                console.log(`: ${startCoin} -> ${endCoin}`);\n            })\n            .start();\n    }\n    \n    /** */\n    public addCoinWithAnimation(amount: number, source: string = \"unknown\"): void {\n        if (!this.coinManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        // CoinManageraddCoinWithAnimation\n        const result = this.coinManager.addCoinWithAnimation(amount, source);\n        if (result.success) {\n            // \n            this.updateCoinWithAnimation(result.oldCoin, result.newCoin);\n        } else {\n            console.warn(`: ${amount}, : ${source}`);\n        }\n    }\n    \n    /** */\n    private updateProgress(): void {\n        if (this.initialZiCount === 0) return;\n        \n        // \n        const remainingZiCount = this.m_ZiList.length;\n        const progress = Math.max(0, (this.initialZiCount - remainingZiCount) / this.initialZiCount);\n        \n        // \n        if (this.progressBar) {\n            this.progressBar.progress = progress;\n            \n            // Bar\n            const barNode = this.progressBar.node.getChildByName('Bar');\n            if (barNode) {\n                const uiTransform = barNode.getComponent('cc.UITransform') as any;\n                if (uiTransform && uiTransform.setContentSize) {\n                    // Bar\n                    const progressBarWidth = 200; // \n                    const progressBarHeight = 30; // \n                    const newWidth = progressBarWidth * progress;\n                    uiTransform.setContentSize(newWidth, progressBarHeight);\n                }\n            }\n        }\n        \n        // \n        if (this.progressLabel) {\n            const percentage = (progress * 100).toFixed(2);\n            this.progressLabel.string = `${percentage}%`;\n        }\n    }\n\n\n\n    static R(loader: ResLoader) {\n        loader.addUI(Match3ZiUE);\n\n        // characters\n        SpriteFramesCfg.initCharactersTexture().then(() => {\n            console.log(\"Characters texture initialized in Match3UI\");\n        }).catch(err => {\n            console.error(\"Failed to initialize characters texture in Match3UI:\", err);\n            // \n            console.warn(\"Game will continue with fallback display for characters\");\n        });\n\n        //  (0-4459)\n        // \n    }\n\n    /** */\n    public addZi(ziUE: Match3ZiUE) {\n        if (!ziUE) {\n            console.error(\"Cannot add undefined ziUE\");\n            return;\n        }\n        \n        // rowcol\n        if (ziUE.row === undefined || ziUE.col === undefined || \n            typeof ziUE.row !== 'number' || typeof ziUE.col !== 'number') {\n            console.error(\"ziUE has invalid row or col properties\", ziUE);\n            return;\n        }\n        \n        // rowcol\n        if (isNaN(ziUE.row) || isNaN(ziUE.col)) {\n            console.error(\"ziUE has NaN row or col properties\", ziUE);\n            return;\n        }\n        \n        this.m_ZiList.push(ziUE);\n\n        //\n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                const targetRow = ziUE.row + r;\n                const targetCol = ziUE.col + c;\n                \n                // \n                if (isNaN(targetRow) || isNaN(targetCol)) {\n                    console.error(`Invalid target row or col calculation: [${targetRow}][${targetCol}] from ziUE`, ziUE);\n                    continue;\n                }\n                \n                // \n                if (targetRow >= 0 && targetRow < this.stacks.length && \n                    targetCol >= 0 && this.stacks[targetRow] && targetCol < this.stacks[targetRow].length) {\n                    // \n                    if (!this.stacks[targetRow][targetCol]) {\n                        this.stacks[targetRow][targetCol] = new ZiStack();\n                    }\n                    \n                    try {\n                        this.stacks[targetRow][targetCol].push(ziUE);\n                    } catch (error) {\n                        console.error(`Error pushing ziUE to stack at [${targetRow}][${targetCol}]:`, error);\n                    }\n                } else {\n                    console.warn(`Attempted to access out-of-bounds stack at [${targetRow}][${targetCol}], stacks length: ${this.stacks.length}`);\n                }\n            }\n        }\n    }\n\n    /** */\n    public calcClickable(ziUE: Match3ZiUE): boolean {\n        if (!ziUE || ziUE.row === undefined || ziUE.col === undefined) {\n            console.error(\"Invalid ziUE in calcClickable\", ziUE);\n            return false;\n        }\n        \n        let stack: ZiStack = null;\n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                const targetRow = ziUE.row + r;\n                const targetCol = ziUE.col + c;\n                \n                // \n                if (isNaN(targetRow) || isNaN(targetCol)) {\n                    console.error(`Invalid target row or col calculation in calcClickable: [${targetRow}][${targetCol}] from ziUE`, ziUE);\n                    continue;\n                }\n                \n                // \n                if (targetRow >= 0 && targetRow < this.stacks.length && \n                    targetCol >= 0 && this.stacks[targetRow] && targetCol < this.stacks[targetRow].length) {\n                    \n                    stack = this.stacks[targetRow][targetCol];\n                    if (stack && !stack.empty && stack.top !== ziUE) {\n                        //\n                        return false;\n                    }\n                } else {\n                    console.warn(`Attempted to access out-of-bounds stack in calcClickable at [${targetRow}][${targetCol}]`);\n                }\n            }\n        }\n        return true;\n    }\n\n    async start() {\n        console.log(\"\");\n        this.enableAllZiClicks();\n        this.m_ZiList = [];\n        this.stacks = [];\n        this.m_PlaceHolders = [];\n        this.isGameStarted = false; // \n        \n        // warningMask\n        if (this.warningMask) {\n            this.warningMask.node.active = false;\n        }\n        \n        // \n        this.coinManager = CoinManager.getInstance();\n        \n        // \n        this.coinManager.addEventListener(CoinEventType.COIN_ADD, this.onCoinChanged.bind(this));\n        this.coinManager.addEventListener(CoinEventType.COIN_SUBTRACT, this.onCoinChanged.bind(this));\n        \n        // \n        this.taskManager = TaskManager.getInstance();\n        \n        // \n        this.adManager = AdManager.getInstance();\n        \n        // \n        this.bagManager = gCtrl.bag;\n        \n        // \n        this.skillManager = SkillManager.getInstance();\n        \n        // \n        this.setupAdEventListeners();\n        \n        // \n        this.initPopups();\n        \n        // \n        this.initPauseFeature();\n        \n        // \n        this.initSkillSystem();\n        \n        // \n        this.initRecommendationManager();\n        \n        // \n        this.currentLevel = gCtrl.data.loadLevel();\n        this.initialZiCount = 0; // \n\n        // UI\n        if (this.gameStatus) {\n            if (!this.levelText) {\n                const levelNode = this.gameStatus.getChildByName('level');\n                if (levelNode) {\n                    this.levelText = levelNode.getComponent(RichText);\n                }\n            }\n            \n            if (!this.progressBar) {\n                const progressBarNode = this.gameStatus.getChildByName('ProgressBar');\n                if (progressBarNode) {\n                    this.progressBar = progressBarNode.getComponent(ProgressBar);\n                    \n                    if (!this.progressLabel) {\n                        const labelNode = progressBarNode.getChildByName('Label');\n                        if (labelNode) {\n                            this.progressLabel = labelNode.getComponent(Label);\n                        }\n                    }\n                }\n            }\n        }\n        \n        // \n        if (!this.coinNode) {\n            this.coinNode = this.node.getChildByName('coinNode');\n        }\n\n        //\n        for (let r = 0, rmax = LevelGenerator.ROW * LevelGenerator.SPLIT; r < rmax; ++r) {\n            let row_stacks: ZiStack[] = [];\n            this.stacks.push(row_stacks);\n            for (let c = 0, cmax = LevelGenerator.COL * LevelGenerator.SPLIT; c < cmax; ++c) {\n                row_stacks.push(new ZiStack());\n            }\n        }\n        \n        // \n        await this.initLevel(this.currentLevel);\n    }\n\n    public clearQipan(): void {\n        for (let r = 0, rmax = LevelGenerator.ROW * LevelGenerator.SPLIT; r < rmax; ++r) {\n            for (let c = 0, cmax = LevelGenerator.COL * LevelGenerator.SPLIT; c < cmax; ++c) {\n                this.stacks[r][c] = new ZiStack();\n            }\n        }\n        this.m_ZiList = [];\n    }\n\n    public reSetStacks(): void {\n        for (let r = 0, rmax = LevelGenerator.ROW * LevelGenerator.SPLIT; r < rmax; ++r) {\n            for (let c = 0, cmax = LevelGenerator.COL * LevelGenerator.SPLIT; c < cmax; ++c) {\n                this.stacks[r][c] = new ZiStack();\n            }\n        }\n        this.m_ZiList.forEach(ziUE => {\n            //\n            for (let r = 0; r < 6; r++) {\n                for (let c = 0; c < 6; c++) {\n                    this.stacks[ziUE.row + r][ziUE.col + c].push(ziUE);\n                }\n            }\n        });\n        //\n        this.m_ZiList.forEach(ziUE => {\n            ziUE.setClickable(this.calcClickable(ziUE))\n        })\n    }\n\n    /** */\n    private async initLevel(level: number): Promise<void> {\n        // \n        if (!this.isGameStarted) {\n            await this.deductEntryFee();\n            \n            // \n            this.updateMatch3TaskProgress();\n            \n            // \n            this.gameStartTime = Date.now();\n            \n            // \n            this.interstitialAdShown = false;\n        }\n        \n        // \n        this.m_ZiList.forEach(ziUE => {\n            ziUE.node.destroy();\n        });\n        // \n        this.collectArea.removeAllChildren();\n\n        this.m_ZiList = [];\n        this.m_PlaceHolders = [];\n        this.m_IsLose = false;\n        \n        // \n        this.m_CollectEventQueue = [];\n        this.m_IsProcessingCollectEvent = false;\n        \n        this.campTips = \" - \";\n        //  - \n        //  - \n        //  - \n        //  -  15\n        //  - \n        let camp = LevelGenerator.getCampByLevel(level);\n        switch(camp) {\n            case 1:\n                this.campTips = \" - \";\n                break;\n            case 2:\n                this.campTips = \" - \";\n                break;  \n            case 3:\n                this.campTips = \" - \";\n                break;\n            case 4:\n                this.campTips = \" - \";\n                break;\n            case 0:\n                this.campTips = \" - \";\n                break;\n        }\n\n\n        // warningMask\n        if (this.warningMask) {\n            this.warningMask.node.active = false;\n            if (this.warningMaskFlashTween) {\n                this.warningMaskFlashTween.stop();\n                this.warningMaskFlashTween = null;\n            }\n        }\n\n        // \n        for (let r = 0, rmax = LevelGenerator.ROW * LevelGenerator.SPLIT; r < rmax; ++r) {\n            for (let c = 0, cmax = LevelGenerator.COL * LevelGenerator.SPLIT; c < cmax; ++c) {\n                this.stacks[r][c] = new ZiStack();\n            }\n        }\n\n        let clickFunc = (clickZi: Match3ZiUE) => {\n            let isClickable = this.calcClickable(clickZi);\n            if (!isClickable) {\n                return;\n            }\n            \n            // \n            this.playFlyToCollectAreaAnimation(clickZi);\n\n            \n            // \n            this.removeZi(clickZi);\n        }\n\n        // \n        let success = false;\n        let retryCount = 0;\n        const maxRetries = 3;\n        \n        while(!success && retryCount < maxRetries) {\n            retryCount++;\n            const levelJson = LevelGenerator.generateLevel(level);\n            success = true;\n            // \n            this.initialZiCount = levelJson.zis.length;\n            \n            for (let i = 0; i < levelJson.zis.length; i++) {\n                const zi = levelJson.zis[i];\n                try {\n                    let ziUE = gCtrl.ui.instantiate(Match3ZiUE);\n                    if (!ziUE) {\n                        console.error(\"Failed to instantiate Match3ZiUE\");\n                        success = false;\n                        // \n                        this.m_ZiList.forEach(ziUE => {\n                            ziUE.node.destroy();\n                        });\n                        this.m_ZiList = [];\n                        break;\n                    }\n                    ziUE.node.setParent(this.board);\n                    ziUE.init(zi[0], zi[1], zi[2], clickFunc);\n                    this.addZi(ziUE);\n                } catch (error) {\n                    console.error(\"Failed to initialize zi for level\", level, \"error:\", error, \"zi:\", zi);\n                    success = false;\n                    // \n                    this.m_ZiList.forEach(ziUE => {\n                        ziUE.node.destroy();\n                    });\n                    this.m_ZiList = [];\n                    break;\n                }\n            }\n        }\n        \n        if (!success) {\n            console.error(`Failed to initialize level ${level} after ${maxRetries} retries`);\n            // \n            const fallbackLevelJson = { zis: [[0, 0, 1]] };\n            this.initialZiCount = fallbackLevelJson.zis.length;\n            fallbackLevelJson.zis.forEach(zi => {\n                try {\n                    let ziUE = gCtrl.ui.instantiate(Match3ZiUE);\n                    if (!ziUE) {\n                        console.error(\"Failed to instantiate Match3ZiUE in fallback\");\n                        return;\n                    }\n                    ziUE.node.setParent(this.board);\n                    ziUE.init(zi[0], zi[1], zi[2], clickFunc);\n                    this.addZi(ziUE);\n                } catch (error) {\n                    console.error(\"Even fallback initialization failed:\", error);\n                }\n            });\n        }\n\n        //\n        this.m_ZiList.forEach(ziUE => {\n            ziUE.setClickable(this.calcClickable(ziUE))\n        })\n        \n        // UI\n        this.updateUI();\n        \n        console.log(` ${level} `);\n    }\n\n\n\n    /**\n     * \n     * \n     */\n    public updateCollectionZiPositions(): void {\n        try {\n            // \n            for (let i = 0; i < this.m_PlaceHolders.length; i++) {\n                const zi = this.m_PlaceHolders[i];\n                \n                // \n                if (zi.isMarkElimnate) {\n                    continue;\n                }\n                \n                // \n                if (zi && zi.node && (zi.node as any).isValid) {\n                    // z-index\n                    zi.node.setSiblingIndex(this.collectArea.children.length - 1);\n                    \n                    // changeMoveingTargetIndex\n                    if (zi['m_MovingType'] !== 0) { // MovingType.none = 0\n                        zi.changeMoveingTargetIndex(i);\n                    } else {\n                        // \n                        zi.node.setPosition(new Vec3(i * 102, 0, 0));\n                    }\n                }\n            }\n            \n            // \n            this.updateProgress();\n        } catch (error) {\n            console.error('', error);\n        }\n    }\n\n    /** */\n    public removeZi(ziUE: Match3ZiUE) {\n        if (!ziUE) {\n            console.error(\"Cannot remove undefined ziUE\");\n            return;\n        }\n        \n        const index = this.m_ZiList.indexOf(ziUE);\n        if (index !== -1) {\n            this.m_ZiList.splice(index, 1);\n        }\n        \n        // rowcol\n        if (ziUE.row === undefined || ziUE.col === undefined || \n            typeof ziUE.row !== 'number' || typeof ziUE.col !== 'number') {\n            console.error(\"ziUE has invalid row or col properties in removeZi\", ziUE);\n            return;\n        }\n        \n        let ziCol = ziUE.col;\n        let ziRow = ziUE.row;\n        \n        // rowcol\n        if (isNaN(ziRow) || isNaN(ziCol)) {\n            console.error(\"ziUE has NaN row or col properties in removeZi\", ziUE);\n            return;\n        }\n        \n        //\n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                const targetRow = ziRow + r;\n                const targetCol = ziCol + c;\n                \n                // \n                if (isNaN(targetRow) || isNaN(targetCol)) {\n                    console.error(`Invalid target row or col calculation in removeZi: [${targetRow}][${targetCol}] from ziUE`, ziUE);\n                    continue;\n                }\n                \n                // \n                if (targetRow >= 0 && targetRow < this.stacks.length && \n                    targetCol >= 0 && this.stacks[targetRow] && targetCol < this.stacks[targetRow].length) {\n                    \n                    try {\n                        this.stacks[targetRow][targetCol].pop();\n                    } catch (error) {\n                        console.error(`Error popping from stack at [${targetRow}][${targetCol}]:`, error);\n                    }\n                } else {\n                    console.warn(`Attempted to access out-of-bounds stack in removeZi at [${targetRow}][${targetCol}]`);\n                }\n            }\n        }\n        \n        // \n        this.updateProgress();\n        \n        // \n        let stack: ZiStack = null;\n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                const targetRow = ziRow + r;\n                const targetCol = ziCol + c;\n                \n                // \n                if (isNaN(targetRow) || isNaN(targetCol)) {\n                    continue;\n                }\n                \n                // \n                if (targetRow >= 0 && targetRow < this.stacks.length && \n                    targetCol >= 0 && this.stacks[targetRow] && targetCol < this.stacks[targetRow].length) {\n                    \n                    stack = this.stacks[targetRow][targetCol];\n                    if (!stack.empty && stack.top && stack.top !== ziUE) {\n                        // \n                        if (stack.top.setClickable) {\n                            stack.top.setClickable(this.calcClickable(stack.top));\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param ziUE \n     */\n    private playFlyToCollectAreaAnimation(ziUE: Match3ZiUE): void {\n        // \n        ziUE.node.setParent(this.collectArea, true);\n        \n        // z-index\n        ziUE.node.setSiblingIndex(this.collectArea.children.length - 1);\n        \n        // \n        tween(ziUE.node)\n            .to(0.2, { position: new Vec3(0, 0, 0) })\n            .call(() => {\n                // \n                this.addCollectEventToQueue(ziUE);\n            })\n            .start();\n            \n        // \n        ziUE.isCollected = true;\n        ziUE.setClickable(true);\n    }\n    \n    /**\n     * \n     * @param ziUE \n     */\n    private addCollectEventToQueue(ziUE: Match3ZiUE): void {\n        // \n        this.m_CollectEventQueue.push(ziUE);\n        \n        // \n        if (!this.m_IsProcessingCollectEvent) {\n            this.processCollectEventQueue();\n        }\n    }\n    \n    /**\n     * \n     */\n    private async processCollectEventQueue(): Promise<void> {\n        // \n        if (this.m_CollectEventQueue.length === 0 || this.m_IsProcessingCollectEvent) {\n            return;\n        }\n        \n        // \n        this.m_IsProcessingCollectEvent = true;\n        \n        // \n        while (this.m_CollectEventQueue.length > 0) {\n            // \n            const ziUE = this.m_CollectEventQueue.shift();\n            \n            // \n            await this.processCollectEvent(ziUE);\n        }\n        \n        // \n        this.m_IsProcessingCollectEvent = false;\n    }\n    \n    /**\n     * \n     * @param ziUE \n     */\n    private async processCollectEvent(ziUE: Match3ZiUE): Promise<void> {\n        // \n        this.tryCollectingZi(ziUE);\n\n        // \n        this.checkWin();\n    }\n\n    /** */\n    private checkWin(): void {\n        // \n        if (this.m_ZiList.length === 0) {\n            console.log(` ${this.currentLevel} `);\n            \n            // \n            const winReward = this.calculateWinReward();\n            \n            // \n            this.grantWinReward(winReward);\n            \n            // \n            this.checkMatch3TaskCompletion();\n            \n            // \n            this.showGameSuccess(winReward);\n        }\n    }\n\n    /** */\n    private async nextLevel(): Promise<void> {\n        this.currentLevel++;\n        this.m_IsLose = false; // \n        console.log(` ${this.currentLevel} `);\n        \n        // \n        gCtrl.data.saveLevel(this.currentLevel);\n        \n        await this.initLevel(this.currentLevel);\n        // UI\n        this.updateUI();\n    }\n\n    /** */\n    private tryCollectingZi(clickZi: Match3ZiUE): boolean {\n        // \n        if (this.m_PlaceHolders.indexOf(clickZi) !== -1) {\n            return false;\n        }\n        \n        //7\n        if (this.m_PlaceHolders.length === 7) {\n            return false;\n        }\n        \n        // \n        if (clickZi.isMarkElimnate) {\n            console.log(\"\");\n            return false;\n        }\n        \n        //7\n        //1.\n        for (let i = this.m_PlaceHolders.length - 1; i >= 0; --i) {\n            let zi = this.m_PlaceHolders[i];\n            \n            // \n            if (zi.isMarkElimnate) {\n                continue;\n            }\n            \n            if (zi.style === clickZi.style) {\n                //zi\n                this.m_PlaceHolders.splice(i + 1, 0, clickZi);\n                //\n                let elimination: Match3ZiUE[] = [];\n                if (!zi.isMarkElimnate && (i >= 1) && (this.m_PlaceHolders[i - 1].style === clickZi.style) && !this.m_PlaceHolders[i - 1].isMarkElimnate) {\n                    //\n                    elimination.push(this.m_PlaceHolders[i - 1]);\n                    elimination.push(zi);\n                    elimination.push(clickZi);\n                    //\n                    elimination.forEach(it => it.isMarkElimnate = true);\n                }\n\n                // (0,0,0)\n                if (clickZi.node.position.equals(new Vec3(0, 0, 0))) {\n                    // z-index\n                    clickZi.node.setSiblingIndex(this.collectArea.children.length - 1);\n                    \n                    // \n                    clickZi.node.setPosition(new Vec3((i + 1) * 102, 0, 0));\n                    \n                    // \n                    //\n                    if (elimination.length > 0) {\n                        // \n                            setTimeout(() => {\n                                // \n                                const currentTime = Date.now();\n                                const isCombo = this.lastEliminateTime > 0 && (currentTime - this.lastEliminateTime) <= this.comboTimeout;\n                                \n                                if (isCombo) {\n                                    // \n                                    this.comboCount++;\n                                    this.totalComboCount++;\n                                    console.log(`: ${this.comboCount}, : ${this.totalComboCount}`);\n                                    \n                                    // \n                                    AudioManager.ins.playSound(createBundleObject(\"Res/Audio/combo\", \"LoginBN\"));\n                                    \n                                    // \n                                    this.showComboTextAnimation(this.comboCount, elimination[1].node.position); // \n                                } else {\n                                    // \n                                    this.comboCount = 1;\n                                    this.totalComboCount = Math.max(this.totalComboCount, 1); // 1\n                                    console.log(`: ${this.comboCount}, : ${this.totalComboCount}`);\n                                    \n                                    // \n                                    AudioManager.ins.playSound(createBundleObject(\"Res/Audio/clear\", \"LoginBN\"));\n                                }\n                                \n                                // \n                                this.lastEliminateTime = currentTime;\n                                \n                                //\n                                let startIndex = -1;\n                                elimination.forEach(it => {\n                                    if (startIndex == -1) {\n                                        startIndex = this.m_PlaceHolders.indexOf(it);\n                                    }\n                                    it.node.destroy();\n                                })\n                                for (let z = startIndex + 3; z < this.m_PlaceHolders.length; z++) {\n                                    this.m_PlaceHolders[z].changeMoveingTargetIndex(z - 3);\n                                }\n                                this.m_PlaceHolders.splice(startIndex, 3);\n                                \n                                // \n                                this.checkCollectAreaSpace();\n                                \n                                // \n                                this.updateProgress();\n                            }, 100); // \n                    } else {\n                        this.checkLose();\n                    }\n                } else {\n                    // \n                    clickZi.moveToTargetIndex(this.collectArea, i + 1, () => {\n                        //\n                        if (elimination.length > 0) {\n                            // \n                            setTimeout(() => {\n                                // \n                                const currentTime = Date.now();\n                                const isCombo = this.lastEliminateTime > 0 && (currentTime - this.lastEliminateTime) <= this.comboTimeout;\n                                \n                                if (isCombo) {\n                                    // \n                                    this.comboCount++;\n                                    this.totalComboCount++;\n                                    console.log(`: ${this.comboCount}, : ${this.totalComboCount}`);\n                                    \n                                    // \n                                    AudioManager.ins.playSound(createBundleObject(\"Res/Audio/combo\", \"LoginBN\"));\n                                    \n                                    // \n                                    this.showComboTextAnimation(this.comboCount, elimination[1].node.position); // \n                                } else {\n                                    // \n                                    this.comboCount = 1;\n                                    this.totalComboCount = Math.max(this.totalComboCount, 1); // 1\n                                    console.log(`: ${this.comboCount}, : ${this.totalComboCount}`);\n                                    \n                                    // \n                                    AudioManager.ins.playSound(createBundleObject(\"Res/Audio/clear\", \"LoginBN\"));\n                                }\n                                \n                                // \n                                this.lastEliminateTime = currentTime;\n                                \n                                //\n                                let startIndex = -1;\n                                elimination.forEach(it => {\n                                    if (startIndex == -1) {\n                                        startIndex = this.m_PlaceHolders.indexOf(it);\n                                    }\n                                    it.node.destroy();\n                                })\n                                for (let z = startIndex + 3; z < this.m_PlaceHolders.length; z++) {\n                                    this.m_PlaceHolders[z].changeMoveingTargetIndex(z - 3);\n                                }\n                                this.m_PlaceHolders.splice(startIndex, 3);\n                                \n                                // \n                                this.checkCollectAreaSpace();\n                                \n                                // \n                                this.updateProgress();\n                            }, 100); // \n                        } else {\n                            this.checkLose();\n                        }\n                    })\n                }\n                \n                // \n                this.checkCollectAreaSpace();\n                \n                //\n                for (let j = i + 2; j < this.m_PlaceHolders.length; ++j) {\n                    if (!this.m_PlaceHolders[j].isMarkElimnate) {\n                        this.m_PlaceHolders[j].changeMoveingTargetIndex(j);\n                    }\n                }\n                return true;\n            }\n        }\n\n        //2.\n        this.m_PlaceHolders.push(clickZi);\n        \n        // \n        this.checkCollectAreaSpace();\n        \n        // \n        if (clickZi.node.position.equals(new Vec3(0, 0, 0))) {\n            // z-index\n            clickZi.node.setSiblingIndex(this.collectArea.children.length - 1);\n            \n            // \n            clickZi.node.setPosition(new Vec3((this.m_PlaceHolders.length - 1) * 102, 0, 0));\n            \n            // \n            setTimeout(() => {\n                //\n                this.checkLose();\n            }, 100); // \n        } else {\n            // \n            clickZi.moveToTargetIndex(this.collectArea, this.m_PlaceHolders.length - 1, () => {\n                // \n                setTimeout(() => {\n                    //\n                    this.checkLose();\n                }, 100); // \n            })\n        }\n        return true;\n    }\n\n    private m_IsLose: boolean = false;\n\n    // \n    private warningMaskFlashTween: any = null;\n\n    /**\n     * \n     */\n    private startWarningMaskFlash(): void {\n        if (!this.warningMask) {\n            return;\n        }\n\n        // \n        this.warningMask.node.active = true;\n\n        // \n        this.stopWarningMaskFlash();\n\n        // \n        this.warningMaskFlashTween = tween(this.warningMask)\n            .to(0.5, { color: new Color(255, 0, 0, 180) }) // \n            .to(0.5, { color: new Color(255, 0, 0, 50) })  // \n            .union()\n            .repeatForever()\n            .start();\n    }\n\n    /**\n     * \n     */\n    private stopWarningMaskFlash(): void {\n        if (!this.warningMask) {\n            return;\n        }\n\n        // \n        if (this.warningMaskFlashTween) {\n            this.warningMaskFlashTween.stop();\n            this.warningMaskFlashTween = null;\n        }\n\n    }\n\n    /**\n     * \n     * 2\n     */\n    private checkCollectAreaSpace(): void {\n        // 7\n        const remainingSpaces = 7 - this.m_PlaceHolders.length;\n        \n        // 2\n        if (remainingSpaces <= 2 && this.warningMask) {\n            this.startWarningMaskFlash();\n        } else if (this.warningMask) {\n            this.warningMask.node.active = false;\n        }\n    }\n\n    /**\n     *  */\n    private checkLose(): void {\n        if (this.m_PlaceHolders.length < 7) {\n            return;\n        }\n        for (let i = 0; i < this.m_PlaceHolders.length; ++i) {\n            if (this.m_PlaceHolders[i].isMarkElimnate) {\n                return;\n            }\n        }\n        //\n        if (this.m_IsLose) {\n            return;\n        }\n        this.m_IsLose = true;\n        console.log(\"\");\n        \n        // \n        this.showGameFail();\n    }\n\n    /** */\n    public resetGame(level: number): void {\n        this.currentLevel = level;\n        this.isGameStarted = false; // \n        this.m_IsLose = false; // \n        \n        // \n        this.lastEliminateTime = 0;\n        this.comboCount = 0;\n        this.totalComboCount = 0;\n        \n        // \n        gCtrl.data.resetLevel(this.currentLevel);\n        \n        console.log(\"\");\n        \n        // \n        this.initLevel(this.currentLevel);\n    }\n    \n    /**\n     * \n     */\n    private async deductEntryFee(): Promise<void> {\n        if (!this.coinManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        const currentCoin = this.coinManager.getCurrentCoin();\n        \n        // \n        if (currentCoin < this.entryFee) {\n            console.log(`: ${currentCoin}, : ${this.entryFee}`);\n            \n            // \n            // \n            // \n            ToastManager.getInstance().showMessage(\"\");\n            // this.addCoinWithAnimation(this.entryFee - currentCoin, \"\");\n            console.log(`: ${this.coinManager.getCurrentCoin()}  ${this.entryFee}`);\n        }\n        \n        // \n        const success = this.coinManager.subtractCoin(this.entryFee, \"\");\n        if (success) {\n            this.isGameStarted = true;\n            console.log(`: ${this.entryFee}, : ${this.coinManager.getCurrentCoin()}`);\n        } else {\n            console.error(\"\");\n            ToastManager.getInstance().showMessage(\"\");\n            console.log(` : ${this.coinManager.getCurrentCoin()}  ${this.entryFee}`);\n        }\n    }\n    \n    /**\n     * \n     */\n    private grantWinReward(reward: number): void {\n        if (!this.coinManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        // \n        this.addCoinWithAnimation(reward, `${this.currentLevel}`);\n        \n        console.log(`: ${reward}, : ${this.coinManager.getCurrentCoin()}`);\n    }\n    \n    \n    /**\n     * \n     */\n    private setupAdEventListeners(): void {\n        if (!this.adManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        // \n        this.adManager.addEventListener((param) => {\n            if (param.type === AdEventType.CLOSED) {\n                console.log(`: ${param.adType}, : `, param);\n            } else if (param.type === AdEventType.REWARDED) {\n                console.log(`: ${param.adType}, : `, param);\n            }\n                \n            // ID\n            if (param.rewardKey === 'reward_video_match3_win_reward') {\n                // \n                this.handleWinAdReward(param);\n            } else if (param.rewardKey === 'reward_video_match3_lose_reward') {\n                // \n                this.handleLoseAdReward(param);\n            } else if (param.rewardKey === 'reward_video_match3_reborn_reward') {\n                // \n                this.handleRespawnAdReward(param);\n            }\n        });\n    }\n\n    async handleRespawnAdReward(param: AdEventParam) {\n        console.log(`: ${param.adType}, ID: ${param.rewardKey}`);\n        if (param.type === AdEventType.REWARDED) {\n            // \n\n            // \n            if (this.gameFail) {\n                this.gameFail.active = false;\n            }\n            // TuoDaoHuiMaSkill\n            await this.executeTuoDaoHuiMaSkill().then((success) => {\n                if (success) {\n                    console.log(\"\");\n                } else {\n                    console.warn(\"\");\n                }\n                \n                // \n                this.enableAllZiClicks();\n\n                this.m_IsLose = false;\n            }).catch((error) => {\n                console.error(\"\", error);\n            });\n        } else {\n            ToastManager.getInstance().showMessage(\"\");\n        }\n        this.isProcessingContinue = false;\n    }\n    \n    /**\n     * \n     */\n    private handleLoseAdReward(param: AdEventParam): void {\n        if (param.type !== AdEventType.REWARDED) {\n            ToastManager.getInstance().showMessage(\"\");\n            return;\n        }\n        \n        if (!this.coinManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        // \n        this.addCoinWithAnimation(this.entryFee, \"\");\n        console.log(`: ${this.entryFee}, : ${this.coinManager.getCurrentCoin()}`);\n        this.isProcessingContinue = false;\n        // UI\n        this.updateUI();\n        \n        // \n        this.cleanupFailPopupButtons();\n    }\n    \n    /**\n     * \n     */\n    private handleWinAdReward(param: AdEventParam): void {\n        if (!this.coinManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        if (param.type === AdEventType.REWARDED) {\n            // \n            // \n            const doubleReward = param?.customParams?.rewardCoins || 0;\n            //\n            this.addCoinWithAnimation(doubleReward, \"\");\n            console.log(`: ${doubleReward}`);\n            // \n            // \n            this.showContinueButton();\n                \n        } else {\n            // \n            ToastManager.getInstance().showMessage(\"\", 5);\n\n            // \n            // \n            this.showContinueButton();\n        }\n        // UI\n        this.updateUI();\n        \n        // \n        this.cleanupSuccessPopupButtons();\n    }\n    \n    /**\n     * \n     */\n    private checkAndShowInterstitialAd(): void {\n        if (!this.adManager || !this.isGameStarted || this.interstitialAdShown) {\n            return;\n        }\n        \n        // \n        const gameTimeInSeconds = (Date.now() - this.gameStartTime) / 1000;\n        \n        // 2\n        if (gameTimeInSeconds >= 120) {\n            // \n            if (!this.adManager.canWatchAd(AdType.INTERSTITIAL)) {\n                console.log(\"\");\n                return;\n            }\n            \n            // \n            if (!this.adManager.isAdLoaded(AdType.INTERSTITIAL)) {\n                console.log(\"\");\n                this.adManager.loadAd(AdType.INTERSTITIAL);\n                return;\n            }\n            \n            // \n            const success = this.adManager.showInterstitialAd();\n            if (success) {\n                console.log(\"\");\n                this.interstitialAdShown = true;\n            } else {\n                console.error(\"\");\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param fee \n     */\n    public setEntryFee(fee: number): void {\n        if (fee > 0) {\n            this.entryFee = fee;\n            console.log(`: ${this.entryFee}`);\n        }\n    }\n    \n    /**\n     * \n     * @param reward \n     */\n    public setWinReward(reward: number): void {\n        if (reward > 0) {\n            this.winReward = reward;\n            console.log(`: ${this.winReward}`);\n        }\n    }\n    \n    /**\n     * \n     */\n    private updateMatch3TaskProgress(): void {\n        if (!this.taskManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        try {\n            // \n            const dailyTaskId = 'daily_002';\n            const dailyTask = this.taskManager.getTaskById(dailyTaskId);\n            \n            if (dailyTask && dailyTask.status === TaskManager.TaskStatus.ACCEPTED) {\n                // \n                const currentProgress = dailyTask.progress || 0;\n                this.taskManager.updateTaskProgress(dailyTaskId, currentProgress + 1);\n                console.log(`: ${dailyTask.title}, : ${currentProgress + 1}/${dailyTask.target}`);\n            } else if (dailyTask && dailyTask.status === TaskManager.TaskStatus.UNACCEPTED) {\n                // \n                this.taskManager.acceptTask(dailyTaskId);\n                console.log(`: ${dailyTask.title}`);\n                \n                // \n                this.taskManager.updateTaskProgress(dailyTaskId, 1);\n                console.log(`: ${dailyTask.title}, : 1/${dailyTask.target}`);\n            }\n            \n            // \n            const achievementTaskId1 = 'achievement_001';\n            const achievementTask1 = this.taskManager.getTaskById(achievementTaskId1);\n            \n            if (achievementTask1 && achievementTask1.status === TaskManager.TaskStatus.ACCEPTED) {\n                // \n                const currentProgress = achievementTask1.progress || 0;\n                this.taskManager.updateTaskProgress(achievementTaskId1, currentProgress + 1);\n                console.log(`: ${achievementTask1.title}, : ${currentProgress + 1}/${achievementTask1.target}`);\n            } else if (achievementTask1 && achievementTask1.status === TaskManager.TaskStatus.UNACCEPTED) {\n                // \n                this.taskManager.acceptTask(achievementTaskId1);\n                console.log(`: ${achievementTask1.title}`);\n                \n                // \n                this.taskManager.updateTaskProgress(achievementTaskId1, 1);\n                console.log(`: ${achievementTask1.title}, : 1/${achievementTask1.target}`);\n            }\n            \n            // \n            const achievementTaskId2 = 'achievement_002';\n            const achievementTask2 = this.taskManager.getTaskById(achievementTaskId2);\n            \n            if (achievementTask2 && achievementTask2.status === TaskManager.TaskStatus.ACCEPTED) {\n                // \n                const currentProgress = achievementTask2.progress || 0;\n                this.taskManager.updateTaskProgress(achievementTaskId2, currentProgress + 1);\n                console.log(`: ${achievementTask2.title}, : ${currentProgress + 1}/${achievementTask2.target}`);\n            } else if (achievementTask2 && achievementTask2.status === TaskManager.TaskStatus.UNACCEPTED) {\n                // \n                this.taskManager.acceptTask(achievementTaskId2);\n                console.log(`: ${achievementTask2.title}`);\n                \n                // \n                this.taskManager.updateTaskProgress(achievementTaskId2, 1);\n                console.log(`: ${achievementTask2.title}, : 1/${achievementTask2.target}`);\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private checkMatch3TaskCompletion(): void {\n        if (!this.taskManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        try {\n            // \n            const dailyTaskId = 'daily_002';\n            const dailyTask = this.taskManager.getTaskById(dailyTaskId);\n            \n            if (dailyTask && dailyTask.status === TaskManager.TaskStatus.COMPLETED) {\n                // \n                const success = this.taskManager.claimTaskReward(dailyTaskId);\n                if (success) {\n                    console.log(`: ${dailyTask.title}`);\n                } else {\n                    console.error(`: ${dailyTask.title}`);\n                }\n            }\n            \n            // \n            const achievementTaskId1 = 'achievement_001';\n            const achievementTask1 = this.taskManager.getTaskById(achievementTaskId1);\n            \n            if (achievementTask1 && achievementTask1.status === TaskManager.TaskStatus.COMPLETED) {\n                // \n                const success = this.taskManager.claimTaskReward(achievementTaskId1);\n                if (success) {\n                    console.log(`: ${achievementTask1.title}`);\n                } else {\n                    console.error(`: ${achievementTask1.title}`);\n                }\n            }\n            \n            // \n            const achievementTaskId2 = 'achievement_002';\n            const achievementTask2 = this.taskManager.getTaskById(achievementTaskId2);\n            \n            if (achievementTask2 && achievementTask2.status === TaskManager.TaskStatus.COMPLETED) {\n                // \n                const success = this.taskManager.claimTaskReward(achievementTaskId2);\n                if (success) {\n                    console.log(`: ${achievementTask2.title}`);\n                } else {\n                    console.error(`: ${achievementTask2.title}`);\n                }\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n\n    /**\n     * \n     */\n    onDestroy(): void {\n        console.log('Match3UI: ');\n        \n        // \n        if (this.coinManager) {\n            this.coinManager.removeEventListener(CoinEventType.COIN_ADD, this.onCoinChanged.bind(this));\n            this.coinManager.removeEventListener(CoinEventType.COIN_SUBTRACT, this.onCoinChanged.bind(this));\n        }\n        \n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('ZouZouEntry: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('ZouZouEntry: ');\n        }\n    }\n\n    \n    \n    /**\n     * \n     * @returns \n     */\n    private calculateWinReward(): number {\n        // \n        let reward = this.winReward;\n        \n        // 5\n        const levelBonus = Math.floor(this.currentLevel * 5);\n        reward += levelBonus;\n        \n        // \n        const gameTime = Date.now() - this.gameStartTime;\n        if (gameTime < 30000) { // 30\n            reward += 20;\n        } else if (gameTime < 60000) { // 1\n            reward += 10;\n        }\n\n\n        // 1\n        const comboReward = this.totalComboCount > 0 ? this.totalComboCount * 2 : 0;\n        const totalReward = reward + comboReward;\n        \n        // \n        if (this.rewardDetailLabel) {\n            this.rewardDetailLabel.string = `: ${reward}\\n: ${comboReward}\\n: ${totalReward}`;\n        }\n\n        if (this.successLevelDetailLabel) {\n            this.successLevelDetailLabel.string = `${this.currentLevel}\\n${this.campTips}`;\n        }\n        \n        console.log(`: ${this.winReward} + ${levelBonus} + ${reward - this.winReward - levelBonus} = ${reward}`);\n        \n        return totalReward;\n    }\n    \n    /**\n     * \n     * @param reward \n     */\n    private showGameSuccess(reward: number): void {\n        if (!this.gameSuccess) {\n            console.error(\"\");\n            return;\n        }\n        \n        // \n        AudioManager.ins.playImportantSound(createBundleObject(\"Res/Audio/success\", \"LoginBN\"), 1.5);\n        \n        // \n        this.gameSuccess.active = true;\n        \n        // \n        this.disableAllZiClicks();\n        \n        // \n        if (this.successCoinLabel) {\n            this.successCoinLabel.getComponent(Label).string = `${reward}`;\n        }\n        \n        // \n        if (this.successContinueButton && this.successContinueButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.successContinueButton);\n            \n            // \n            this.successContinueButton.node.on(Button.EventType.CLICK, () => {\n                this.onSuccessContinueClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        if (this.successDoubleRewardButton && this.successDoubleRewardButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.successDoubleRewardButton);\n            \n            // \n            this.successDoubleRewardButton.node.on(Button.EventType.CLICK, () => {\n                this.onSuccessDoubleRewardClicked(reward);\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        if (this.successBuyButton && this.successBuyButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.successBuyButton);\n            \n            // \n            this.successBuyButton.node.on(Button.EventType.CLICK, () => {\n                this.onSuccessBuyButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        if (this.successShareButton && this.successShareButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.successShareButton);\n            \n            // \n            this.successShareButton.node.on(Button.EventType.CLICK, () => {\n                this.onSuccessShareButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        console.log(`: ${reward}`);\n    }\n    \n    /**\n     * \n     */\n    private onSuccessContinueClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        if (this.gameSuccess) {\n            this.gameSuccess.active = false;\n        }\n        \n        // \n        this.cleanupSuccessPopupButtons();\n        \n        // \n        this.enableAllZiClicks();\n        \n        // 5\n        if (this.currentLevel % 10 === 0) {\n            // \n            this.showRecommendationPopup();\n        }\n        \n        // \n        this.nextLevel().then(() => {\n            // \n            this.isProcessingContinue = false;\n        }).catch(() => {\n            // \n            this.isProcessingContinue = false;\n        });\n    }\n    \n    /**\n     * \n     */\n    private showContinueButton(): void {\n        // \n        this.isProcessingContinue = false;\n        // \n        this.cleanupSuccessPopupButtons();\n    }\n    \n    /**\n     * \n     * @param baseReward \n     */\n    private onSuccessDoubleRewardClicked(baseReward: number): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        if (this.adManager) {\n            const success = this.adManager.showAd(AdType.REWARD_VIDEO, 'reward_video_match3_win_reward', { rewardCoins:baseReward });\n            \n            if (!success) {\n                console.error(\"\");\n                \n                // UI\n                this.updateUI();\n                \n                // \n                // \n                this.showContinueButton();\n            }\n        } else {\n            console.error(\"\");\n            \n            // UI\n            this.updateUI();\n            \n            // \n            // \n            this.showContinueButton();\n        }\n    }\n    \n    /**\n     * \n     */\n    private showGameFail(): void {\n        if (!this.gameFail) {\n            console.error(\"\");\n            return;\n        }\n        AudioManager.ins.playImportantSound(createBundleObject(\"Res/Audio/fail\", \"LoginBN\"), 1.5);\n\n        \n        // \n        this.disableAllZiClicks();\n        \n        // \n        this.gameFail.active = true;\n\n        if (this.failCoinLabel) {\n            const lossAmount = this.entryFee; // \n            this.failCoinLabel.string = `-${lossAmount}`;\n        }\n        \n        // \n        if (this.failRetryButton && this.failRetryButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.failRetryButton);\n            \n            // \n            this.failRetryButton.node.on(Button.EventType.CLICK, () => {\n                this.onFailRetryClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        \n        if (this.failBuyButton && this.failBuyButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.failBuyButton);\n            \n            // \n            this.failBuyButton.node.on(Button.EventType.CLICK, () => {\n                this.onFailBuyButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        if (this.rebornButton && this.rebornButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.rebornButton);\n            \n            // \n            this.rebornButton.node.on(Button.EventType.CLICK, () => {\n                this.onRebornButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        console.log(\"\");\n    }\n    \n    /**\n     * \n     */\n    private onFailRetryClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        if (this.gameFail) {\n            this.gameFail.active = false;\n        }\n        \n        // \n        this.cleanupFailPopupButtons();\n        \n        // \n        this.enableAllZiClicks();\n        \n        // \n        this.resetGame(this.currentLevel);\n        \n        // \n        this.isProcessingContinue = false;\n    }\n    \n    /**\n     * \n     */\n    private onFailRecoverClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        if (this.adManager) {\n            const success = this.adManager.showAd(AdType.REWARD_VIDEO, 'reward_video_match3_lose_reward');\n            \n            if (!success) {\n                console.error(\"\");\n                \n                // \n                this.isProcessingContinue = false;\n                \n                // \n                this.cleanupFailPopupButtons();\n            }\n        } else {\n            console.error(\"\");\n            // \n            this.isProcessingContinue = false;\n            \n            // \n            this.cleanupFailPopupButtons();\n        }\n    }\n    \n    /**\n     * \n     */\n    private async onSuccessBuyButtonClicked(): Promise<void> {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        try {\n            // \n            await gCtrl.openShop();\n            console.log(\"\");\n            \n            // \n            this.updateUI();\n        } catch (error) {\n            console.error(\"\", error);\n        } finally {\n            // \n            this.isProcessingContinue = false;\n        }\n        \n        // \n        // \n    }\n    \n    /**\n     * \n     */\n    private async onFailBuyButtonClicked(): Promise<void> {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        try {\n            // \n            await gCtrl.openShop();\n            console.log(\"\");\n        } catch (error) {\n            console.error(\"\", error);\n        } finally {\n            // \n            this.isProcessingContinue = false;\n        }\n        \n        // \n        // \n    }\n\n    /**\n     * \n     * \n     */\n    private onRebornButtonClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        if (!this.m_PlaceHolders || this.m_PlaceHolders.length === 0) {\n            console.warn(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        if (this.adManager) {\n            const success = this.adManager.showAd(AdType.REWARD_VIDEO, 'reward_video_match3_reborn_reward');\n            if (!success) {\n                console.error(\"\");\n                \n                // \n                this.enableAllZiClicks();\n                \n                // \n                this.isProcessingContinue = false;\n                \n                // \n                this.cleanupFailPopupButtons();\n            }\n        } else {\n            // \n            this.enableAllZiClicks();\n            \n            // \n            this.isProcessingContinue = false;\n            \n            // \n            this.cleanupFailPopupButtons();\n        }\n    }\n\n    /**\n     * \n     * @returns \n     */\n    private async executeTuoDaoHuiMaSkill(): Promise<boolean> {\n        try {\n            // \n            const skillConfig: SkillConfig = {\n                id: 'tuo_dao_hui_ma',\n                name: '',\n                description: '',\n                cooldown: 0,\n                type: SkillType.TUO_DAO_HUI_MA,\n                icon: '',\n                duration: 0,\n                itemId: '',\n                targetType: '',\n                effectParams: undefined\n            };\n            \n            // \n            const skill = new TuoDaoHuiMaSkill(skillConfig, this);\n            \n            // \n            const success = await skill.onExecute({} as any);\n            \n            return success;\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n\n    /**\n     * \n     */\n    private initSkillSystem(): void {\n        console.log(\"\");\n        \n        // skills\n        if (!this.skillsNode) {\n            this.skillsNode = this.node.getChildByName('skills');\n            if (!this.skillsNode) {\n                console.error(\"skills\");\n                return;\n            }\n        }\n        \n        // GCtrlbundle\n        this.skillManager.init();\n        \n        // BagManagerUI\n        this.setupBagEventListeners();\n        \n        // \n        this.displayBagItems();\n        \n        console.log(\"\");\n    }\n    \n    \n    \n    /**\n     * UI\n     * @param items \n     * @returns UI\n     */\n    private checkIfNeedsUpdate(items: BagItem[]): boolean {\n        // \n        if (this.currentDisplayedItems.size === 0) {\n            return true;\n        }\n        \n        // \n        if (items.length !== this.currentDisplayedItems.size) {\n            return true;\n        }\n        \n        // \n        for (const item of items) {\n            const displayedItem = this.currentDisplayedItems.get(item.id);\n            if (!displayedItem || displayedItem.count !== item.count) {\n                return true;\n            }\n        }\n        \n        // \n        return false;\n    }\n    \n    /**\n     * \n     */\n    private setupBagEventListeners(): void {\n        console.log(\"\");\n        \n        // \n        this.bagManager.addEventListener(BagEventType.ITEM_ADDED, (event: any) => {\n            console.log(`: ${event.item?.name}`);\n            // UI\n            if (event.item?.type === ItemType.CONSUMABLE) {\n                this.displayBagItems();\n            }\n        });\n        \n        // \n        this.bagManager.addEventListener(BagEventType.ITEM_UPDATED, (event: any) => {\n            console.log(`: ${event.item?.name}`);\n            // UI\n            if (event.item?.type === ItemType.CONSUMABLE) {\n                this.displayBagItems();\n            }\n        });\n        \n        // \n        this.bagManager.addEventListener(BagEventType.ITEM_REMOVED, (event: any) => {\n            console.log(`: ${event.item?.name}`);\n            // UI\n            if (event.item?.type === ItemType.CONSUMABLE) {\n                this.displayBagItems();\n            }\n        });\n        \n        // \n        this.bagManager.addEventListener(BagEventType.ITEM_USED, (event: any) => {\n            console.log(`: ${event.item?.name}`);\n            // UI\n            if (event.item?.type === ItemType.CONSUMABLE) {\n                this.displayBagItems();\n            }\n        });\n        \n        console.log(\"\");\n    }\n    \n    /**\n     * \n     * @param event \n     */\n    private onSkillEvent(event: any): void {\n        console.log(`: ${event.type}`);\n        \n        switch (event.type) {\n            case 'skill_executed':\n                // \n                console.log(` ${event.skillId} `);\n                \n                // \n                this.enableAllZiClicks();\n                \n                // \n                this.updateProgress();\n                \n                // \n                this.checkWin();\n                break;\n                \n            case 'skill_cooldown_updated':\n                // \n                console.log(` ${event.skillId} : ${event.cooldownTime}ms`, event);\n                break;\n                \n            case 'skill_error':\n                // \n                console.error(` ${event.skillId} : ${event.message}`, event);\n                \n                // \n                this.enableAllZiClicks();\n                break;\n        }\n    }\n    \n    \n    \n    /**\n     * \n     */\n    private displayBagItems(): void {\n        console.log(\"\");\n        \n        // skillsNode\n        if (!this.skillsNode) {\n            console.error(\"skills\");\n            return;\n        }\n        \n        // \n        const consumables = this.bagManager.getItemsByType(ItemType.CONSUMABLE);\n        console.log(`${consumables.length}`);\n        \n        // UI\n        if (!this.checkIfNeedsUpdate(consumables)) {\n            console.log(\"UI\");\n            return;\n        }\n        \n        console.log(\"UI\");\n        \n        // \n        this.currentDisplayedItems.clear();\n        \n        // skills\n        const children = this.skillsNode.children;\n        for (let i = children.length - 1; i >= 0; i--) {\n            children[i].destroy();\n        }\n        \n        // skillsNode\n        this.skillsNode.active = true;\n    \n        \n        // skillsNodeSprite\n        if (!this.skillsNode.getComponent(Sprite)) {\n            const bgSprite = this.skillsNode.addComponent(Sprite);\n            bgSprite.color = new Color(255, 0, 0, 255); // \n        }\n        \n        // \n        consumables.forEach((item, index) => {\n            this.createItemIcon(item, index);\n            // \n            this.currentDisplayedItems.set(item.id, { ...item });\n        });\n        \n        // skillsNode\n        console.log(`skillsNode${this.skillsNode.children.length}`);\n        this.skillsNode.children.forEach((child, index) => {\n            console.log(`${index}: ${child.name}, (${child.position.x}, ${child.position.y}), : ${child.active}`);\n        });\n    }\n    \n    /**\n     * \n     * @param item \n     * @param index \n     */\n    private createItemIcon(item: BagItem, index: number): void {\n        // \n        if (!this.skillsNode) {\n            console.error(\"skills\");\n            return;\n        }\n        \n        if (!this.skillPrefab) {\n            console.error(\"skillPrefab\");\n            return;\n        }\n        \n        console.log(`: ${item.name}, : ${item.icon ? item.icon : ''}`);\n        \n        // Skill\n        const skillNode = instantiate(this.skillPrefab);\n        skillNode.setParent(this.skillsNode);\n        skillNode.active = true;\n        \n        // \n        const x = -110 + index * 112; // 100\n        const y = 0;\n        skillNode.setPosition(x, y, 0);\n        \n        console.log(`: (${x}, ${y})`);\n        \n        // layer\n        skillNode.layer = this.skillsNode.layer;\n        \n        // iconSprite\n        const iconSpriteNode = skillNode.getChildByName('iconSprite');\n        if (!iconSpriteNode) {\n            console.error(\"iconSprite\");\n            return;\n        }\n        \n        // Sprite\n        const sprite = iconSpriteNode.getComponent(Sprite);\n        if (!sprite) {\n            console.error(\"Sprite\");\n            return;\n        }\n        \n        // Button\n        const iconButton = iconSpriteNode.getComponent(Button);\n        if (!iconButton) {\n            console.error(\"Button\");\n            return;\n        }\n        \n        // useButton\n        const useButtonNode = skillNode.getChildByName('useButton');\n        if (!useButtonNode) {\n            console.error(\"useButton\");\n            return;\n        }\n        \n        // useButton\n        const useButton = useButtonNode.getComponent(Button);\n        if (!useButton) {\n            console.error(\"useButton\");\n            return;\n        }\n        \n        // \n        if (item.icon) {\n            const iconPath = item.icon;\n            const bundleName = 'CommonUI'; // bundle\n            const assetPath = `ui/${iconPath}`; //  \"ui/skills/tuodaohuima_btn\"\n            \n            console.log(`: ${assetPath}  bundle: ${bundleName}`);\n            \n            // bundle\n            assetManager.loadBundle(bundleName, (err, bundle) => {\n                if (err) {\n                    console.error(`Failed to load bundle: ${bundleName}`, err);\n                    // \n                    sprite.color = new Color(255, 0, 0, 255); // \n                    return;\n                }\n                \n                // bundle\n                bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                    if (err) {\n                        console.error(`Failed to load sprite frame: ${assetPath} from bundle: ${bundleName}`, err);\n                        // \n                        sprite.color = new Color(255, 0, 0, 255); // \n                        return;\n                    }\n                    \n                    if (spriteFrame) {\n                        console.log(`: ${assetPath}, : ${spriteFrame.originalSize.width}x${spriteFrame.originalSize.height}`);\n                        \n                        sprite.spriteFrame = spriteFrame;\n                        sprite.color = new Color(255, 255, 255, 255); // \n                        \n                        // Sprite\n                        sprite.enabled = false;\n                        sprite.enabled = true;\n                        \n                        // \n                        skillNode.active = true;\n                        \n                        // \n                        console.log(`: (${skillNode.position.x}, ${skillNode.position.y}), : ${skillNode.active}, layer: ${skillNode.layer}`, skillNode);\n                    } else {\n                        console.error(`Failed to get sprite frame: ${assetPath} from bundle: ${bundleName}`);\n                        // \n                        sprite.color = new Color(255, 0, 0, 255); // \n                    }\n                });\n            });\n        } else {\n            // \n            console.log(` ${item.name} `);\n            sprite.color = new Color(255, 255, 0, 255); // \n            \n            // Sprite\n            sprite.enabled = false;\n            sprite.enabled = true;\n        }\n        \n        // \n        const countLabelNode = new Node('count');\n        countLabelNode.setParent(iconSpriteNode);\n        countLabelNode.setPosition(30, 36, 0); // \n\n        countLabelNode.layer = this.skillsNode.layer;\n        \n        const countLabelTransform = countLabelNode.addComponent(UITransform);\n        countLabelTransform.setContentSize(40, 30);\n        \n        const countLabel = countLabelNode.addComponent(Label);\n        countLabel.string = item.count.toString();\n        countLabel.fontSize = 28;\n        countLabel.color = new Color(255, 0, 0, 255); // \n        \n        // iconButton\n        iconButton.node.on(Button.EventType.CLICK, () => {\n            this.onItemIconClicked(skillNode);\n        }, this);\n        \n        // useButton\n        useButton.node.on(Button.EventType.CLICK, () => {\n            this.onUseItemButtonClicked();\n        }, this);\n        \n        // \n        // \n        skillNode['itemData'] = item;\n        skillNode.active = true;\n        \n        console.log(`: ${item.name}, : ${item.count}`, item);\n    }\n    \n    /**\n     * \n     * @param skillNode \n     */\n    private onItemIconClicked(skillNode: Node): void {\n        // \n        const item = skillNode['itemData'] as BagItem;\n        if (!item) {\n            console.error(\"\");\n            return;\n        }\n        \n        console.log(`: ${item.name}`);\n        \n        // \n        this.currentItem = item;\n        \n        // useButton\n        const useButtonNode = skillNode.getChildByName('useButton');\n        if (!useButtonNode) {\n            console.error(\"useButton\");\n            return;\n        }\n        \n        // useButton\n        useButtonNode.active = true;\n    }\n    \n\n    \n    /**\n     * \n     */\n    private async onUseItemButtonClicked(): Promise<void> {\n        if (!this.currentItem) {\n            console.error(\"\");\n            return;\n        }\n        \n        console.log(`: ${this.currentItem.name}`);\n        \n        // \n        this.disableAllZiClicks();\n        \n        // BagManageruseItem\n        const useSuccess = this.bagManager.useItem(this.currentItem.itemId, 1);\n        \n        if (useSuccess) {\n            console.log(`: ${this.currentItem.name}`);\n            \n            // \n            const skillSuccess = await this.skillManager.useSkillByItem(this.currentItem.itemId);\n            \n            if (skillSuccess) {\n                console.log(` ${this.currentItem.itemId} `);\n                \n                // \n                this.skillManager.addEventListener(SkillEventType.SKILL_EXECUTED, (event) => {\n                    this.onSkillEvent(event);\n                });\n                this.skillManager.addEventListener(SkillEventType.SKILL_ERROR, (event) => {\n                    this.onSkillEvent(event);\n                });\n            } else {\n                console.warn(` ${this.currentItem.itemId} , `);\n                // \n                this.bagManager.addItemByItemId(this.currentItem.itemId, 1);\n            }\n            \n            // \n            this.displayBagItems();\n        } else {\n            console.error(`: ${this.currentItem.name}`);\n        }\n        //\n        this.enableAllZiClicks();\n        \n        // \n        this.currentItem = null;\n    }\n    \n    /**\n     * \n     */\n    private onSuccessShareButtonClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        this.shareToWeChat();\n    }\n    \n\n    /**\n     * CameraRenderTexture\n     */\n    private shareToWeChat(): void {\n        try {\n            // \n            const camera = director.getScene().getChildByName('Canvas')?.getChildByName('Camera')?.getComponent(Camera);\n            if (!camera) {\n                console.error(\"\");\n                this.isProcessingContinue = false;\n                return;\n            }\n            \n            // RenderTexture\n            const renderTexture = new RenderTexture();\n            renderTexture.reset({\n                width: 500,\n                height: 400\n            });\n            \n            // \n            const originalTargetTexture = camera.targetTexture;\n            \n            // RenderTexture\n            camera.targetTexture = renderTexture;\n            \n            // \n            director.once(Director.EVENT_AFTER_DRAW, () => {\n                try {\n                    // \n                    camera.targetTexture = originalTargetTexture;\n                    \n                    // \n                    if (typeof wx !== 'undefined') {\n                        // Canvas\n                        const canvas = (wx as any).createCanvas();\n                        canvas.width = 500;\n                        canvas.height = 400;\n                        \n                        // Canvas2D\n                        const ctx = canvas.getContext('2d');\n                        \n                        // RenderTextureCanvas\n                        const data = renderTexture.readPixels(0, 0, 500, 400);\n                        \n                        // ImageData\n                        const imageData = ctx.createImageData(500, 400);\n                        imageData.data.set(data);\n                        \n                        // ImageDataCanvas\n                        ctx.putImageData(imageData, 0, 0);\n                        \n                        // Canvas.toTempFilePath\n                        const tempFilePath = canvas.toTempFilePathSync({\n                            destWidth: 500,\n                            destHeight: 400\n                        });\n                        \n                        console.log(\":\", tempFilePath);\n                        \n                        // \n                        (wx as any).onShareAppMessage(() => {\n                            return {\n                                title: ' - ',\n                                imageUrl: tempFilePath\n                            };\n                        });\n                        \n                        // \n                        (wx as any).shareAppMessage({\n                            success: () => {\n                                console.log(\"\");\n                                // \n                                this.giveShareReward();\n                            },\n                            fail: (error) => {\n                                console.error(\":\", error);\n                            },\n                            complete: () => {\n                                // \n                                this.isProcessingContinue = false;\n                            }\n                        });\n                    } else {\n                        // jsb\n                        if (typeof jsb !== 'undefined' && jsb.fileUtils && jsb.saveImageData) {\n                            const data = renderTexture.readPixels(0, 0, 500, 400);\n                            const tempFilePath = `${jsb.fileUtils.getWritablePath()}temp_share.png`;\n                            jsb.saveImageData(data, 500, 400, tempFilePath);\n                            \n                            // \n                            console.log(\":\", tempFilePath);\n                            this.giveShareReward();\n                            this.isProcessingContinue = false;\n                        } else {\n                            console.error(\"\");\n                            this.isProcessingContinue = false;\n                        }\n                    }\n                } catch (error) {\n                    console.error(\":\", error);\n                    // \n                    camera.targetTexture = originalTargetTexture;\n                    // \n                    this.isProcessingContinue = false;\n                }\n            });\n        } catch (error) {\n            console.error(\":\", error);\n            // \n            this.isProcessingContinue = false;\n        }\n    }\n    \n    /**\n     * \n     */\n    private giveShareReward(): void {\n        try {\n            // \n            const shareReward = 50;\n            \n            // \n            if (this.coinManager) {\n                this.coinManager.addCoin(shareReward);\n                console.log(`${shareReward}`);\n                \n                // UI\n                this.updateUI();\n                \n                // \n                this.showRewardToast(`${shareReward}`);\n            } else {\n                console.error(\"\");\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        } finally {\n            // \n            this.isProcessingContinue = false;\n            \n            // \n            this.cleanupSuccessPopupButtons();\n        }\n    }\n    \n    /**\n     * \n     * @param message \n     */\n    private showRewardToast(message: string): void {\n        try {\n            // UI\n            console.log(`: ${message}`);\n            \n            // Toast\n            // UI\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n    \n    /**\n     * \n     * @param comboCount \n     * @param position \n     */\n    private showComboTextAnimation(comboCount: number, position: Vec3): void {\n        try {\n            // \n            const comboTextNode = new Node('ComboText');\n            comboTextNode.layer = Layers.Enum.UI_2D;\n            \n            // UI\n            this.collectArea.addChild(comboTextNode);\n            \n            // \n            comboTextNode.position = new Vec3(position.x, position.y + 150, 0); // \n            \n            // UITransform\n            const uiTransform = comboTextNode.addComponent(UITransform);\n            uiTransform.setContentSize(200, 80);\n            \n            // \n            const label = comboTextNode.addComponent(Label);\n            label.string = `X${comboCount}`;\n            label.fontSize = 48;\n            label.color = new Color(255, 215, 0, 255); // \n            label.horizontalAlign = 1; // CENTER\n            label.verticalAlign = 1; // CENTER\n            \n            // \n            label.enableOutline = true;\n            label.outlineColor = new Color(139, 69, 19, 255); // \n            label.outlineWidth = 3;\n            \n            // \n            label.enableShadow = true;\n            label.shadowColor = new Color(0, 0, 0, 255); // \n            label.shadowOffset = new Vec2(2, -2);\n            label.shadowBlur = 4;\n            \n            // \n            comboTextNode.setScale(0, 0, 0);\n            tween(comboTextNode)\n                .to(0.2, { scale: new Vec3(1.5, 1.5, 1.5) }, { easing: 'backOut' })\n                .to(0.1, { scale: new Vec3(1.2, 1.2, 1.2) })\n                .delay(0.3)\n                .to(0.2, { scale: new Vec3(0, 0, 0) }, { easing: 'backIn' })\n                .call(() => {\n                    // \n                    comboTextNode.destroy();\n                })\n                .start();\n                \n            console.log(`: X${comboCount}`);\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n\n\n}\n\n\n","import { _decorator, Color, Component, Node, Sprite, SpriteFrame, Vec3, UITransform, Size, tween, Label } from 'cc';\nimport { SpriteFramesCfg } from '../../../auto/SpriteFramesCfg';\nconst { ccclass, property } = _decorator;\n\nenum MovingType {\n    /** */\n    none = 0,\n    /** */\n    flying,\n    /** */\n    adjusting\n}\n\n@ccclass('Match3ZiUE')\nexport class Match3ZiUE extends Component {\n\n    /** */\n    @property(Sprite)\n    private bg: Sprite = null;\n\n    /** */\n    @property(Sprite)\n    private sprite: Sprite = null;\n\n    public col: number = 0;\n    public row: number = 0;\n    public style: number = 0;\n\n    /** */\n    private m_ClickFunc: (zi: Match3ZiUE) => any = null;\n\n    /** */\n    private m_MovingType: MovingType = MovingType.none;\n    /** */\n    private m_TargetPosition: Vec3 = new Vec3(0, 0, 0);\n    /** */\n    private m_SmoothFactor: number = 0.4;\n    /** */\n    private m_FlyingCallBack: Function = null;\n\n    /** */\n    public isMarkElimnate: boolean = false;\n\n    /** -  */\n    public isCollected: boolean = false;\n    \n    /** - false */\n    public static globalClickable: boolean = true;\n\n    /**\n     * \n     * @param col \n     * @param row \n     * @param style \n     */\n    public init(col: number, row: number, style: number, clickFunc: (zi: Match3ZiUE) => any) {\n        this.col = col;\n        this.row = row;\n        this.style = style;\n        this.m_ClickFunc = clickFunc;\n        this.node.setPosition(col * 17, row * 20);\n        this.setDisplay(style);\n\n        let node = new Node();\n        let label = node.addComponent(Label);\n        label.string = `[${this.col},${this.row}]`;\n        node.setParent(this.node);\n        node.setPosition(0, 0, 100);\n    }\n\n    click() {\n        // \n        if (!Match3ZiUE.globalClickable) {\n            console.log(\"Global clickable is false, cannot click\");\n            return;\n        }\n        \n        // \n        if (this.isCollected) {\n            console.log(\"Card is already collected, cannot click\");\n            return;\n        }\n        \n        // \n        if (this.isMarkElimnate) {\n            console.log(\"Card is marked for elimination, cannot click\");\n            return;\n        }\n\n        this.m_ClickFunc(this);\n    }\n\n    /** */\n    public async setDisplay(style: number) {\n        // style(1-30)characters(0-44)\n        // style\n        let characterIndex: number = style - 1;\n\n\n        // spriteFrame\n        let spriteFrame = await SpriteFramesCfg.paiAsync(characterIndex);\n        if (spriteFrame) {\n            this.sprite.spriteFrame = spriteFrame;\n\n            // sprite80x80\n            const uiTransform = this.sprite.getComponent(UITransform);\n            if (uiTransform) {\n                uiTransform.setContentSize(new Size(92,98));\n            }\n\n            // sprite\n            this.sprite.type = Sprite.Type.SIMPLE;\n            this.sprite.sizeMode = Sprite.SizeMode.CUSTOM;\n\n            // \n            // TODO: \n\n        } else {\n            console.warn(`Failed to get character sprite frame for style: ${style}, mapped to index: ${characterIndex}`);\n        }\n    }\n\n    /**() */\n    public setClickable(bClickable: boolean) {\n        // \n        if (this.isCollected) {\n            // \n            this.bg.color = Color.WHITE;\n            this.sprite.color = Color.WHITE;\n            return;\n        }\n\n        // \n        this.bg.color = bClickable ? Color.WHITE : new Color(120, 120, 120, 180);\n        this.sprite.color = bClickable ? Color.WHITE : new Color(120, 120, 120, 180);\n    }\n\n    /**, */\n    public moveToTargetIndex(collectArea: Node, index: number, cb: Function) {\n        if (this.m_MovingType !== MovingType.none) {\n            return;\n        }\n        this.m_MovingType = MovingType.flying;\n        this.m_FlyingCallBack = cb;\n\n        // \n        this.isCollected = true;\n\n        // \n        this.setClickable(true); // setClickableisCollected\n\n        //collectArea\n        this.node.setParent(collectArea, true);\n        \n        // z-index\n        this.node.setSiblingIndex(collectArea.children.length - 1);\n        \n        // tweenschedule\n        const targetPosition = new Vec3(index * 102, 0, 0);\n        \n        // \n        const currentPosition = this.node.position;\n        const distance = Vec3.distance(currentPosition, targetPosition);\n        \n        // m_SmoothFactor\n        // 0.1\n        const duration = Math.max(0.4, distance * 0.01 * this.m_SmoothFactor);\n        \n        tween(this.node)\n            .to(duration, { position: targetPosition })\n            .call(() => {\n                // \n                this.m_MovingType = MovingType.none;\n                if (this.m_FlyingCallBack) {\n                    const callback = this.m_FlyingCallBack;\n                    this.m_FlyingCallBack = null;\n                    callback();\n                }\n            })\n            .start();\n    }\n\n  \n\n    /** */\n    public changeMoveingTargetIndex(index: number): void {\n        //\n        const newTargetPosition = new Vec3(index * 102, 0, 0);\n        \n        // tween\n        tween(this.node).stop();\n        \n        // z-index\n        if (this.node.parent) {\n            this.node.setSiblingIndex(this.node.parent.children.length - 1);\n        }\n        \n        // \n        const currentPosition = this.node.position;\n        const distance = Vec3.distance(currentPosition, newTargetPosition);\n        \n        // m_SmoothFactor\n        // 0.05\n        const duration = 0.2;//Math.min(0.2, distance * 0.01 * this.m_SmoothFactor);\n        \n        switch (this.m_MovingType) {\n            case MovingType.none:\n                //\n                this.m_MovingType = MovingType.adjusting;\n                // tween\n                tween(this.node)\n                    .to(duration, { position: newTargetPosition })\n                    .call(() => {\n                        this.m_MovingType = MovingType.none;\n                    })\n                    .start();\n                break;\n            case MovingType.adjusting:\n            case MovingType.flying:\n                // \n                // \n                tween(this.node)\n                    .to(duration, { position: newTargetPosition })\n                    .call(() => {\n                        // \n                        if (this.m_MovingType === MovingType.adjusting) {\n                            this.m_MovingType = MovingType.none;\n                        }\n                    })\n                    .start();\n                break;\n        }\n    }\n}\n\n\n","import { _decorator, sys } from 'cc';\nimport CoinManager from '../coin/CoinManager';\nimport { GameDataManager } from '../data/GameDataManager';\nimport { BagManager, BagItem, ItemType } from '../bag/BagManager';\nimport { WechatOpenDataContext } from './WechatOpenDataContext';\n\n/**\n * \n */\nexport interface OpenDataInfo {\n    userId: string;           // ID\n    username: string;         // \n    avatar: string;           // \n    coin: number;             // \n    level: number;            // \n    items: OpenDataItem[];    // \n    update_time: number;      // \n    isRecommended?: boolean;  // \n}\n\n/**\n * \n */\nexport interface OpenDataItem {\n    itemId: string;           // ID\n    name: string;             // \n    count: number;            // \n    quality: number;          // \n}\n\n/**\n * \n * \n */\nexport class OpenDataManager {\n    private static instance: OpenDataManager;\n    \n    // \n    private cachedData: OpenDataInfo;\n    \n    // \n    private static readonly SYNC_INTERVAL = 60000; // 1\n    \n    // \n    private lastSyncTime: number = 0;\n    \n    // \n    public static getInstance(): OpenDataManager {\n        if (!OpenDataManager.instance) {\n            OpenDataManager.instance = new OpenDataManager();\n        }\n        return OpenDataManager.instance;\n    }\n    \n    // \n    private constructor() {\n        this.cachedData = this.getDefaultData();\n        this.init();\n    }\n    \n    // \n    private init(): void {\n        console.log('OpenDataManager: ');\n        this.loadLocalData();\n        \n        // \n        this.startPeriodicSync();\n    }\n    \n    // \n    private getDefaultData(): OpenDataInfo {\n        return {\n            userId: '',\n            username: '',\n            avatar: '',\n            coin: 0,\n            level: 1,\n            items: [],\n            update_time: 0\n        };\n    }\n    \n    // \n    private loadLocalData(): void {\n        try {\n            const dataStr = sys.localStorage.getItem('open_data_cache');\n            if (dataStr) {\n                this.cachedData = JSON.parse(dataStr);\n                console.log('OpenDataManager: ');\n            } else {\n                console.log('OpenDataManager: ');\n            }\n        } catch (error) {\n            console.error('OpenDataManager: ', error);\n            this.cachedData = this.getDefaultData();\n        }\n    }\n    \n    // \n    private saveLocalData(): void {\n        try {\n            sys.localStorage.setItem('open_data_cache', JSON.stringify(this.cachedData));\n            console.log('OpenDataManager: ');\n        } catch (error) {\n            console.error('OpenDataManager: ', error);\n        }\n    }\n    \n    // \n    private startPeriodicSync(): void {\n        // \n        setInterval(() => {\n            this.syncDataToOpenDomain();\n        }, OpenDataManager.SYNC_INTERVAL);\n    }\n    \n    // \n    public syncDataToOpenDomain(): void {\n        // \n        if (!WechatOpenDataContext.getInstance().isWechatEnvironment()) {\n            console.log('OpenDataManager: ');\n            return;\n        }\n        \n        // \n        this.updateLocalCache();\n        \n        // \n        this.uploadToOpenDomain();\n        \n        // \n        this.lastSyncTime = Date.now();\n    }\n    \n    // \n    private updateLocalCache(): void {\n        // \n        const userInfo = GameDataManager.getInstance().getUserInfo();\n        this.cachedData.userId = userInfo.userId;\n        this.cachedData.username = userInfo.username;\n        this.cachedData.avatar = userInfo.avatar;\n        this.cachedData.level = userInfo.level;\n        this.cachedData.isRecommended = userInfo.isRecommended;\n        \n        // \n        this.cachedData.coin = CoinManager.getInstance().getCurrentCoin();\n        \n        // \n        const bagItems = BagManager.getInstance().getAllItems();\n        this.cachedData.items = this.convertBagItemsToOpenData(bagItems);\n        \n        // \n        this.cachedData.update_time = Date.now();\n        \n        // \n        this.saveLocalData();\n    }\n    \n    // \n    private convertBagItemsToOpenData(bagItems: BagItem[]): OpenDataItem[] {\n        return bagItems.map(item => ({\n            itemId: item.itemId,\n            name: item.name,\n            count: item.count,\n            quality: item.quality\n        }));\n    }\n    \n    // \n    private uploadToOpenDomain(): void {\n        // API\n        if (typeof window !== 'undefined' && window['wx']) {\n            try {\n                const wx = window['wx'];\n                \n                // \n                wx.setStorage({\n                    key: 'basic_data',\n                    data: JSON.stringify({\n                        coin: this.cachedData.coin,\n                        level: this.cachedData.level\n                    }),\n                    success: () => {\n                        console.log('OpenDataManager: ');\n                    },\n                    fail: (err) => {\n                        console.error('OpenDataManager: ', err);\n                    }\n                });\n                \n                // \n                wx.setStorage({\n                    key: 'game_data',\n                    data: JSON.stringify(this.cachedData),\n                    success: () => {\n                        console.log('OpenDataManager: ');\n                    },\n                    fail: (err) => {\n                        console.error('OpenDataManager: ', err);\n                    }\n                });\n            } catch (error) {\n                console.error('OpenDataManager: ', error);\n            }\n        }\n    }\n    \n    // \n    public async getFriendsData(): Promise<OpenDataInfo[]> {\n        // \n        if (!WechatOpenDataContext.getInstance().isWechatEnvironment()) {\n            console.log('OpenDataManager: ');\n            return [];\n        }\n        \n        try {\n            // API\n            const wx = window['wx'];\n            \n            return new Promise((resolve, reject) => {\n                wx.getFriendCloudStorage({\n                    keyList: ['game_data'],\n                    success: (res) => {\n                        console.log('OpenDataManager: ');\n                        \n                        // \n                        const result: OpenDataInfo[] = [];\n                        res.data.forEach(item => {\n                            const gameData = item.KVDataList.find((kv: any) => kv.key === 'game_data');\n                            if (gameData) {\n                                try {\n                                    const openDataInfo: OpenDataInfo = JSON.parse(gameData.value);\n                                    result.push(openDataInfo);\n                                } catch (error) {\n                                    console.error('OpenDataManager: ', error);\n                                }\n                            }\n                        });\n                        \n                        resolve(result);\n                    },\n                    fail: (err) => {\n                        console.error('OpenDataManager: ', err);\n                        reject(err);\n                    }\n                });\n            });\n        } catch (error) {\n            console.error('OpenDataManager: ', error);\n            return [];\n        }\n    }\n    \n    // \n    public getCachedData(): OpenDataInfo {\n        return { ...this.cachedData }; // \n    }\n    \n    // \n    public async restoreGameData(): Promise<boolean> {\n        return new Promise((resolve) => {\n            // \n            if (!WechatOpenDataContext.getInstance().isWechatEnvironment()) {\n                console.log('OpenDataManager: ');\n                resolve(false);\n                return;\n            }\n            \n            // wx\n            if (typeof wx === 'undefined') {\n                console.log('OpenDataManager: wx');\n                resolve(false);\n                return;\n            }\n            \n            // \n            this.restoreFromLocalStorage(resolve);\n        });\n    }\n    \n    // \n    private restoreFromLocalStorage(resolve: (value: boolean) => void): void {\n        const wx = window['wx'];\n        if (!wx) {\n            resolve(false);\n            return;\n        }\n        \n        wx.getStorage({\n            key: 'game_data',\n            success: (res) => {\n                try {\n                    console.log('OpenDataManager: ', res.data);\n                    this.processRestoredData(res.data);\n                    resolve(true);\n                } catch (error) {\n                    console.error('OpenDataManager: ', error);\n                    resolve(false);\n                }\n            },\n            fail: (err) => {\n                console.log('OpenDataManager: ', err);\n                resolve(false);\n            }\n        });\n    }\n    \n    // \n    private processRestoredData(data: any): void {\n        try {\n            const openDataInfo: OpenDataInfo = typeof data === 'string' ? JSON.parse(data) : data;\n            \n            // \n            GameDataManager.getInstance().updateUserInfo({\n                level: openDataInfo.level,\n                isRecommended: openDataInfo.isRecommended !== undefined ? openDataInfo.isRecommended : false\n            });\n            \n            // \n            if (openDataInfo.coin > 0) {\n                const currentCoin = CoinManager.getInstance().getCurrentCoin();\n                if (currentCoin < openDataInfo.coin) {\n                    // \n                    CoinManager.getInstance().addCoin(openDataInfo.coin - currentCoin, \"cloud_restore\", false);\n                    console.log(`OpenDataManager: : ${openDataInfo.coin - currentCoin}`);\n                }\n            }\n            \n            // \n            if (openDataInfo.items && openDataInfo.items.length > 0) {\n                const bagManager = BagManager.getInstance();\n                openDataInfo.items.forEach(item => {\n                    // \n                    const localItem = bagManager.getItem(item.itemId);\n                    if (!localItem || localItem.count < item.count) {\n                        // \n                        const addCount = localItem ? item.count - localItem.count : item.count;\n                        // BagItem\n                        const bagItem: BagItem = {\n                            id: '',\n                            itemId: item.itemId,\n                            type: ItemType.CONSUMABLE,\n                            name: item.name,\n                            description: '',\n                            icon: '',\n                            count: addCount,\n                            maxStack: 99,\n                            quality: item.quality,\n                            canUse: true,\n                            canSell: false,\n                            sellPrice: 0,\n                            createTime: Date.now()\n                        };\n                        \n                        bagManager.addItem(bagItem, false);\n                        console.log(`OpenDataManager:  ${item.name}: ${addCount}`);\n                    }\n                });\n            }\n            \n            console.log('OpenDataManager: ');\n        } catch (error) {\n            console.error('OpenDataManager: ', error);\n            throw error;\n        }\n    }\n    \n    // \n    public clearCache(): void {\n        this.cachedData = this.getDefaultData();\n        sys.localStorage.removeItem('open_data_cache');\n        console.log('OpenDataManager: ');\n    }\n}\n\n// \n(window as any).OpenDataManager = OpenDataManager.getInstance();","import { AdPlatform } from './AdManager';\n\n/**\n * \n * \n */\nexport class PlatformDetector {\n    private static _instance: PlatformDetector | null = null;\n    \n    /**\n     * PlatformDetector\n     */\n    public static getInstance(): PlatformDetector {\n        if (!PlatformDetector._instance) {\n            PlatformDetector._instance = new PlatformDetector();\n        }\n        return PlatformDetector._instance;\n    }\n    \n    /**\n     * \n     */\n    private currentPlatform: AdPlatform = AdPlatform.DEFAULT;\n    \n    /**\n     * \n     */\n    private detected: boolean = false;\n    \n    /**\n     * \n     */\n    private constructor() {\n        // detectPlatform\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public detectPlatform(): AdPlatform {\n        if (this.detected) {\n            return this.currentPlatform;\n        }\n        \n        // \n        if (this.isWechatPlatform()) {\n            this.currentPlatform = AdPlatform.WECHAT;\n            console.log('PlatformDetector: ');\n        }\n        // \n        else if (this.isByteDancePlatform()) {\n            this.currentPlatform = AdPlatform.BYTEDANCE;\n            console.log('PlatformDetector: ');\n        }\n        // \n        else {\n            this.currentPlatform = AdPlatform.DEFAULT;\n            console.log('PlatformDetector: ');\n        }\n        \n        this.detected = true;\n        return this.currentPlatform;\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getCurrentPlatform(): AdPlatform {\n        if (!this.detected) {\n            return this.detectPlatform();\n        }\n        return this.currentPlatform;\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public isWechatPlatform(): boolean {\n        try {\n            // wx\n            if (typeof window !== 'undefined' && window['wx']) {\n                const wx = window['wx'];\n                // API\n                return !!(wx.createRewardedVideoAd && wx.createInterstitialAd);\n            }\n            return false;\n        } catch (error) {\n            console.error('PlatformDetector: ', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public isByteDancePlatform(): boolean {\n        try {\n            // tt\n            if (typeof window !== 'undefined' && window['tt']) {\n                const tt = window['tt'];\n                // API\n                return !!(tt.createRewardedVideoAd && tt.createInterstitialAd);\n            }\n            return false;\n        } catch (error) {\n            console.error('PlatformDetector: ', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public isDefaultPlatform(): boolean {\n        return this.getCurrentPlatform() === AdPlatform.DEFAULT;\n    }\n    \n    /**\n     * \n     */\n    public reset(): void {\n        this.detected = false;\n        this.currentPlatform = AdPlatform.DEFAULT;\n    }\n    \n    /**\n     * \n     * @param platform \n     * @returns \n     */\n    public getPlatformName(platform?: AdPlatform): string {\n        const targetPlatform = platform || this.getCurrentPlatform();\n        \n        switch (targetPlatform) {\n            case AdPlatform.WECHAT:\n                return '';\n            case AdPlatform.BYTEDANCE:\n                return '';\n            case AdPlatform.DEFAULT:\n                return '';\n            default:\n                return '';\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getPlatformInfo(): { platform: AdPlatform; name: string; supportsAds: boolean } {\n        const platform = this.getCurrentPlatform();\n        const name = this.getPlatformName(platform);\n        const supportsAds = platform !== AdPlatform.DEFAULT;\n        \n        return {\n            platform,\n            name,\n            supportsAds,\n        };\n    }\n}","import { createBundleObject } from \"../core/modules/res/ResConst\";\n\nexport const PrefabCfg = {\n    //-----------Match3BN---------\n    Match3UI: createBundleObject(\"Match3UI\", \"Match3BN\"),\n    Match3ZiUE: createBundleObject(\"Match3ZiUE\", \"Match3BN\"),\n    \n    //-----------ZouZouBN---------\n    ZouZouEntry: createBundleObject(\"ZouZouEntry\", \"ZouZouBN\"),\n    \n    //-----------CommonUI---------\n    ShopUI: createBundleObject(\"Shop\", \"CommonUI\"),\n    BagUI: createBundleObject(\"Bag\", \"CommonUI\"),\n    LotteryUI: createBundleObject(\"Lottery\", \"CommonUI\"),\n    SignUI: createBundleObject(\"Sign\", \"CommonUI\"),\n    SettingUI: createBundleObject(\"Settings\", \"CommonUI\"),\n    RankUI: createBundleObject(\"Rank\", \"CommonUI\"),\n    \n    //-----------ToastUI---------\n    ToastUI: createBundleObject(\"\", \"\"),\n}","import { AudioManager } from '../audio/AudioManager';\nimport { createBundleObject } from '../res/ResConst';\nimport { BaseSkill, SkillConfig, SkillType, SkillState } from './SkillBase';\nimport { Node, tween, Vec3, UITransform, Color, Sprite } from 'cc';\n\n/**\n * \n * \n */\nexport class QianKunNuoYiSkill extends BaseSkill {\n    private gameUI: any;\n    \n    constructor(config: SkillConfig, gameUI: any) {\n        super(config);\n        this.gameUI = gameUI;\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected async onExecute(params?: any): Promise<boolean> {\n        try {\n            console.log(`: ${this.config.name}`);\n            \n            // \n            const boardZis = this.getAllZisFromBoard();\n            \n            if (!boardZis || boardZis.length === 0) {\n                console.warn('');\n                return false;\n            }\n            \n            // \n            const originalPositions = this.recordZiPositions(boardZis);\n            \n            // \n            const shuffledZis = this.shuffleZis(boardZis);\n            \n            // \n            const success = await this.reassignZiPositions(shuffledZis, originalPositions);\n            \n            if (success) {\n                // \n                // this.playPositionChangeAnimation(shuffledZis);\n                \n                console.log(`${boardZis.length}`);\n                return true;\n            } else {\n                console.warn('');\n                return false;\n            }\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    private getAllZisFromBoard(): any[] {\n        // \n        const boardZiList = this.gameUI.m_ZiList;\n        \n        if (!boardZiList || boardZiList.length === 0) {\n            return [];\n        }\n        \n        // \n        return [...boardZiList];\n    }\n    \n    /**\n     * \n     * @param zis \n     * @returns \n     */\n    private recordZiPositions(zis: any[]): any[] {\n        const positions: any[] = [];\n        \n        zis.forEach(zi => {\n            if (zi && zi.node && (zi.node as any).isValid) {\n                // \n                positions.push({\n                    x: zi.node.position.x,\n                    y: zi.node.position.y,\n                    z: zi.node.position.z\n                });\n            } else {\n                // \n                positions.push({ x: 0, y: 0, z: 0 });\n            }\n        });\n        \n        return positions;\n    }\n    \n    /**\n     * \n     * @param zis \n     * @returns \n     */\n    private shuffleZis(zis: any[]): any[] {\n        // \n        const shuffled = [...zis];\n        \n        // Fisher-Yates \n        for (let i = shuffled.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n        }\n        \n        return shuffled;\n    }\n    \n    /**\n     * \n     * @param zis \n     * @param positions \n     * @returns \n     */\n    private async reassignZiPositions(zis: any[], positions: any[]): Promise<boolean> {\n        try {\n            // \n            if (zis.length !== positions.length) {\n                console.warn('');\n                return false;\n            }\n            \n            // Promise\n            const animationPromises: Promise<void>[] = [];\n            \n            // \n            AudioManager.ins.playSound(createBundleObject(\"Res/Audio/wind\", \"LoginBN\"));\n            \n            // \n            for (let i = 0; i < zis.length; i++) {\n                const zi = zis[i];\n                const position = positions[i];\n                \n                if (zi && zi.node && (zi.node as any).isValid) {\n                    // \n                    const originalPosition = zi.node.position.clone();\n                    \n                    // z-index\n                    zi.node.setSiblingIndex(this.gameUI.board.children.length - 1);\n                    \n                    // Promise\n                    const animationPromise = new Promise<void>((resolve) => {\n                        // \n                        this.playBlinkEffect(zi.node);\n                        \n                        // tween\n                        tween(zi.node)\n                            .to(0.5, { position: new Vec3(position.x, position.y, position.z) })\n                            .call(() => {\n                                // \n                                if (zi.updatePosition) {\n                                    zi.updatePosition();\n                                }\n                                \n                                // \n                                // 17x20\n                                zi.col = Math.round(position.x / 17);\n                                zi.row = Math.round(position.y / 20);\n                                \n                                // \n                                if (zi.setClickable) {\n                                    zi.setClickable(this.gameUI.calcClickable(zi));\n                                }\n                                \n                                resolve();\n                            })\n                            .start();\n                    });\n                    \n                    animationPromises.push(animationPromise);\n                }\n            }\n            \n            // \n            await Promise.all(animationPromises);\n            \n            // \n            this.gameUI.clearQipan();\n            zis.forEach(zi => {\n                this.gameUI.addZi(zi);\n            });\n            \n            // \n            this.gameUI.enableAllZiClicks();\n            \n            // \n            this.updateAllZisClickable(zis);\n            \n            // UI\n            this.gameUI.updateUI();\n            \n            return true;\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param zis \n     */\n    private updateAllZisClickable(zis: any[]): void {\n        // \n        zis.forEach(zi => {\n            if (zi && zi.setClickable) {\n                zi.setClickable(this.gameUI.calcClickable(zi));\n            }\n        });\n        \n        // \n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                const stack = this.gameUI.stacks[r][c];\n                if (!stack.empty && stack.top && stack.top.setClickable) {\n                    stack.top.setClickable(this.gameUI.calcClickable(stack.top));\n                }\n            }\n        }\n    }\n    \n    \n    \n    /**\n     * \n     * @param node \n     */\n    private playBlinkEffect(node: Node): void {\n        if (!node || !(node as any).isValid) {\n            return;\n        }\n        \n        const sprite = node.getComponent(Sprite);\n        if (!sprite) {\n            return;\n        }\n        \n        // \n        const originalColor = sprite.color.clone();\n        \n        // \n        tween(sprite)\n            .to(0.2, { color: new Color(originalColor.r, originalColor.g, originalColor.b, 50) })\n            .to(0.2, { color: originalColor })\n            .to(0.2, { color: new Color(originalColor.r, originalColor.g, originalColor.b, 50) })\n            .to(0.2, { color: originalColor })\n            .start();\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected onBeforeActivate(params?: any): boolean {\n        // \n        const boardZiList = this.gameUI.m_ZiList;\n        \n        if (!boardZiList || boardZiList.length === 0) {\n            console.warn('');\n            return false;\n        }\n        \n        return true;\n    }\n}","import { _decorator, Component, Node, Button, Label, ScrollView, Sprite, UITransform, Size, Vec3, Toggle, ToggleContainer, Widget, instantiate } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { UILayer } from './UILayer';\nimport { RankManager, RankData, RankType, RankEventType } from '../rank/RankManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('RankItemUI')\nexport class RankItemUI extends Component {\n    // \n    @property(Label)\n    rankLabel: Label = null;\n    \n    // \n    @property(Sprite)\n    avatarSprite: Sprite = null;\n    \n    // \n    @property(Label)\n    nameLabel: Label = null;\n    \n    // \n    @property(Label)\n    valueLabel: Label = null;\n    \n    // \n    @property(Node)\n    rankBgNode: Node = null;\n    \n    // \n    @property(Sprite)\n    rankBgSprite: Sprite = null;\n    \n    /**\n     * \n     * @param data \n     * @param rankType \n     * @param index \n     */\n    public init(data: RankData, rankType: RankType, index: number): void {\n        if (!this.rankLabel || !this.nameLabel || !this.valueLabel) {\n            console.error('RankItemUI: UI');\n            return;\n        }\n        \n        // \n        this.rankLabel.string = `${index + 1}`;\n        \n        // \n        this.nameLabel.string = data.nickname || '';\n        \n        // \n        if (rankType === RankType.COIN) {\n            this.valueLabel.string = `${data.coin} `;\n        } else if (rankType === RankType.LEVEL) {\n            this.valueLabel.string = ` ${data.level} `;\n        }\n        \n        // \n        this.setRankStyle(index);\n        \n        // TODO: \n        this.loadAvatar(data.avatarUrl);\n    }\n    \n    /**\n     * \n     * @param index \n     */\n    private setRankStyle(index: number): void {\n        if (!this.rankBgNode) return;\n        \n        // \n        if (index === 0) {\n            // \n            this.rankBgNode.active = true;\n            if (this.rankBgSprite) {\n                // TODO: \n            }\n        } else if (index === 1) {\n            // \n            this.rankBgNode.active = true;\n            if (this.rankBgSprite) {\n                // TODO: \n            }\n        } else if (index === 2) {\n            // \n            this.rankBgNode.active = true;\n            if (this.rankBgSprite) {\n                // TODO: \n            }\n        } else {\n            // \n            this.rankBgNode.active = false;\n        }\n    }\n    \n    /**\n     * \n     * @param avatarUrl URL\n     */\n    private loadAvatar(avatarUrl: string): void {\n        if (!this.avatarSprite || !avatarUrl) return;\n        \n        // TODO: \n        // \n        // resources.load\n    }\n}","import { _decorator, sys } from 'cc';\nimport { WechatOpenDataContext } from './WechatOpenDataContext';\nimport CoinManager from '../coin/CoinManager';\nimport { GameDataManager } from '../data/GameDataManager';\n\n/**\n * \n */\nexport interface RankData {\n    openid: string;           // openid\n    nickname: string;         // \n    avatarUrl: string;        // URL\n    coin: number;             // \n    level: number;            // \n    timestamp: number;        // \n}\n\n/**\n * \n */\nexport enum RankType {\n    COIN = 'coin',            // \n    LEVEL = 'level'           // \n}\n\n/**\n * \n */\nexport enum RankEventType {\n    DATA_UPDATED = 'data_updated',    // \n    REFRESH_SUCCESS = 'refresh_success', // \n    REFRESH_FAILED = 'refresh_failed'   // \n}\n\n/**\n * \n */\nexport interface RankEventParam {\n    eventType: RankEventType;  // \n    rankType: RankType;       // \n    data?: RankData[];         // \n    message?: string;         // \n}\n\n/**\n * \n */\nexport type RankEventCallback = (param: RankEventParam) => void;\n\n/**\n * \n * \n */\nexport class RankManager {\n    private static instance: RankManager;\n    \n    // \n    private coinRankData: RankData[] = [];\n    \n    // \n    private levelRankData: RankData[] = [];\n    \n    // \n    private wechatOpenDataContext: WechatOpenDataContext = null;\n    \n    // \n    private eventListeners: Map<RankEventType, RankEventCallback[]> = new Map();\n    \n    // \n    public static getInstance(): RankManager {\n        if (!RankManager.instance) {\n            RankManager.instance = new RankManager();\n        }\n        return RankManager.instance;\n    }\n    \n    // \n    private constructor() {\n        this.initEventListeners();\n        this.loadLocalData();\n        \n        // \n        // this.wechatOpenDataContext = WechatOpenDataContext.getInstance();\n        // this.wechatOpenDataContext.init();\n    }\n    \n    // \n    private initEventListeners(): void {\n        this.eventListeners.set(RankEventType.DATA_UPDATED, []);\n        this.eventListeners.set(RankEventType.REFRESH_SUCCESS, []);\n        this.eventListeners.set(RankEventType.REFRESH_FAILED, []);\n    }\n    \n    // \n    private loadLocalData(): void {\n        try {\n            // \n            const coinRankStr = sys.localStorage.getItem('rank_coin_data');\n            if (coinRankStr) {\n                this.coinRankData = JSON.parse(coinRankStr);\n                console.log(`: ${this.coinRankData.length}`);\n            }\n            \n            // \n            const levelRankStr = sys.localStorage.getItem('rank_level_data');\n            if (levelRankStr) {\n                this.levelRankData = JSON.parse(levelRankStr);\n                console.log(`: ${this.levelRankData.length}`);\n            }\n        } catch (error) {\n            console.error(':', error);\n            this.coinRankData = [];\n            this.levelRankData = [];\n        }\n    }\n    \n    // \n    private saveLocalData(): void {\n        try {\n            // \n            sys.localStorage.setItem('rank_coin_data', JSON.stringify(this.coinRankData));\n            \n            // \n            sys.localStorage.setItem('rank_level_data', JSON.stringify(this.levelRankData));\n            \n            console.log('');\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    // \n    public getCoinRankData(): RankData[] {\n        return [...this.coinRankData]; // \n    }\n    \n    // \n    public getLevelRankData(): RankData[] {\n        return [...this.levelRankData]; // \n    }\n    \n    // \n    public getRankData(rankType: RankType): RankData[] {\n        if (rankType === RankType.COIN) {\n            return this.getCoinRankData();\n        } else if (rankType === RankType.LEVEL) {\n            return this.getLevelRankData();\n        }\n        return [];\n    }\n    \n    // \n    public getWechatOpenDataContext(): WechatOpenDataContext {\n        if (!this.wechatOpenDataContext) {\n            this.wechatOpenDataContext = WechatOpenDataContext.getInstance();\n            this.wechatOpenDataContext.init();\n        }\n        return this.wechatOpenDataContext;\n    }\n    \n    // \n    public updateLocalUserData(): void {\n        try {\n            // \n            const coinManager = CoinManager.getInstance();\n            const gameDataManager = GameDataManager.getInstance();\n            \n            const currentCoin = coinManager.getCurrentCoin();\n            const currentLevel = gameDataManager.loadLevel();\n            \n            // \n            const userInfo = gameDataManager.getUserInfo();\n            \n            // \n            const userData: RankData = {\n                openid: userInfo.userId,\n                nickname: userInfo.username,\n                avatarUrl: userInfo.avatar,\n                coin: currentCoin,\n                level: currentLevel,\n                timestamp: Date.now()\n            };\n            \n            // \n            this.updateUserDataInRank(this.coinRankData, userData);\n            \n            // \n            this.updateUserDataInRank(this.levelRankData, userData);\n            \n            // \n            this.saveLocalData();\n            \n            console.log('');\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    // \n    private updateUserDataInRank(rankData: RankData[], userData: RankData): void {\n        // \n        const index = rankData.findIndex(item => item.openid === userData.openid);\n        \n        if (index >= 0) {\n            // \n            rankData[index] = { ...rankData[index], ...userData };\n        } else {\n            // \n            rankData.push(userData);\n        }\n        \n        // \n        this.sortRankData(rankData, userData.coin > userData.level ? RankType.COIN : RankType.LEVEL);\n        \n        // \n        if (rankData.length > 100) {\n            rankData.length = 100;\n        }\n    }\n    \n    // \n    private extractScore(item: any, rankType: RankType): number {\n        if (!item) return 0;\n        \n        // KVDataList\n        if (item.KVDataList && item.KVDataList.length > 0) {\n            const key = rankType === RankType.COIN ? 'coin' : 'level';\n            const kvData = item.KVDataList.find(kv => kv.key === key);\n            if (kvData && kvData.value) {\n                return parseInt(kvData.value) || 0;\n            }\n        }\n        \n        // \n        if (rankType === RankType.COIN && item.coin) {\n            return parseInt(item.coin) || 0;\n        }\n        \n        if (rankType === RankType.LEVEL && item.level) {\n            return parseInt(item.level) || 0;\n        }\n        \n        return 0;\n    }\n    \n    // \n    private sortRankData(rankData: RankData[], rankType: RankType): void {\n        if (rankType === RankType.COIN) {\n            // \n            rankData.sort((a, b) => b.coin - a.coin);\n        } else if (rankType === RankType.LEVEL) {\n            // \n            rankData.sort((a, b) => {\n                if (a.level !== b.level) {\n                    return b.level - a.level;\n                }\n                return a.timestamp - b.timestamp;\n            });\n        }\n    }\n    \n    // \n    public addEventListener(eventType: RankEventType, callback: RankEventCallback): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners) {\n            listeners.push(callback);\n        }\n    }\n    \n    // \n    public removeEventListener(eventType: RankEventType, callback: RankEventCallback): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners) {\n            const index = listeners.indexOf(callback);\n            if (index >= 0) {\n                listeners.splice(index, 1);\n            }\n        }\n    }\n    \n    // \n    private triggerEvent(eventType: RankEventType, rankType: RankType, data?: RankData[], message?: string): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners) {\n            const param: RankEventParam = {\n                eventType,\n                rankType,\n                data,\n                message\n            };\n            \n            listeners.forEach(callback => {\n                try {\n                    callback(param);\n                } catch (error) {\n                    console.error(':', error);\n                }\n            });\n        }\n    }\n    \n    // \n    public getGroupRankData(shareTicket: string, rankType: RankType): void {\n        // \n        this.getWechatOpenDataContext().getGroupRankData(\n            shareTicket,\n            rankType,\n            (data) => {\n                console.log('');\n                // \n            },\n            (err) => {\n                console.error(':', err);\n            }\n        );\n    }\n    \n    // \n    public refreshRankData(rankType: RankType): void {\n        // \n        if (typeof window !== 'undefined' && window['wx']) {\n            this.refreshWechatRankData(rankType);\n        } else {\n            // \n            this.updateLocalUserData();\n            this.triggerEvent(RankEventType.REFRESH_SUCCESS, rankType, this.getRankData(rankType), '');\n        }\n    }\n    \n    // \n    private refreshWechatRankData(rankType: RankType): void {\n        // \n        this.updateLocalUserData();\n        \n        // \n        this.getWechatOpenDataContext().getFriendRankData(\n            rankType,\n            (data) => {\n                console.log('');\n                // \n            },\n            (err) => {\n                console.error(':', err);\n            }\n        );\n    }\n    \n    // \n    private processWechatRankData(data: any[], rankType: RankType): void {\n        try {\n            const rankData: RankData[] = [];\n            \n            data.forEach(item => {\n                // KVData\n                const coin = this.extractScore(item, RankType.COIN);\n                const level = this.extractScore(item, RankType.LEVEL);\n                \n                rankData.push({\n                    openid: item.openid || item.playerId,\n                    nickname: item.nickname || '',\n                    avatarUrl: item.avatarUrl || '',\n                    coin,\n                    level,\n                    timestamp: Date.now()\n                });\n            });\n            \n            // \n            this.sortRankData(rankData, rankType);\n            \n            // \n            if (rankType === RankType.COIN) {\n                this.coinRankData = rankData;\n            } else if (rankType === RankType.LEVEL) {\n                this.levelRankData = rankData;\n            }\n            \n            // \n            this.saveLocalData();\n            \n            // \n            this.triggerEvent(RankEventType.DATA_UPDATED, rankType, rankData);\n            \n            console.log(`${rankType === RankType.COIN ? '' : ''}: ${rankData.length}`);\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    // \n    public uploadUserDataToWechat(): void {\n        // \n        try {\n            const coinManager = CoinManager.getInstance();\n            const gameDataManager = GameDataManager.getInstance();\n            \n            const currentCoin = coinManager.getCurrentCoin();\n            const currentLevel = gameDataManager.loadLevel();\n            \n            // \n            this.getWechatOpenDataContext().uploadUserData(currentCoin, currentLevel);\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    // \n    public getUserRanking(rankType: RankType): number {\n        try {\n            // \n            const gameDataManager = GameDataManager.getInstance();\n            const userInfo = gameDataManager.getUserInfo();\n            \n            // \n            const rankData = this.getRankData(rankType);\n            \n            // \n            const index = rankData.findIndex(item => item.openid === userInfo.userId);\n            \n            // 1\n            return index >= 0 ? index + 1 : -1;\n        } catch (error) {\n            console.error(':', error);\n            return -1;\n        }\n    }\n}","import { _decorator, Component, Node, Button, Label, ScrollView, Sprite, UITransform, Size, Vec3, Toggle, ToggleContainer, Widget, instantiate, Prefab } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { UILayer } from './UILayer';\nimport { RankManager, RankData, RankType, RankEventType } from '../rank/RankManager';\nimport { RankItemUI } from './RankItemUI';\nimport { GameDataManager } from '../data/GameDataManager';\nimport CoinManager from '../coin/CoinManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('RankUI')\nexport class RankUI extends BaseUI {\n    // UI\n    public static readonly viewLayer = UILayer.UI;\n    \n    // \n    @property(Node)\n    closeButton: Node = null;\n    \n    // \n    @property(Node)\n    refreshButton: Node = null;\n    \n    // Tab\n    @property(ToggleContainer)\n    tabContainer: ToggleContainer = null;\n    \n    // Tab\n    @property(Toggle)\n    coinTab: Toggle = null;\n    \n    // Tab\n    @property(Toggle)\n    levelTab: Toggle = null;\n    \n    // \n    @property(ScrollView)\n    coinScrollView: ScrollView = null;\n    \n    // \n    @property(ScrollView)\n    levelScrollView: ScrollView = null;\n    \n    // \n    @property(Node)\n    playerInfoNode: Node = null;\n    \n    // \n    @property(Label)\n    playerRankLabel: Label = null;\n    \n    // \n    @property(Label)\n    playerNameLabel: Label = null;\n    \n    // \n    @property(Label)\n    playerValueLabel: Label = null;\n    \n    // \n    @property(Prefab)\n    rankItemPrefab: Prefab = null;\n    \n    // \n    private currentRankType: RankType = RankType.COIN;\n    \n    // \n    private coinContentNode: Node = null;\n    \n    // \n    private levelContentNode: Node = null;\n    \n    // \n    private coinRankItemUIs: RankItemUI[] = [];\n    \n    // \n    private levelRankItemUIs: RankItemUI[] = [];\n    \n    // \n    private rankManager: RankManager = null;\n    \n    protected start(): void {\n        // \n        this.rankManager = RankManager.getInstance();\n        \n        // \n        if (this.closeButton) {\n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        if (this.refreshButton) {\n            this.refreshButton.on(Node.EventType.TOUCH_END, this.onRefreshClick, this);\n        }\n        \n        // Tab\n        if (this.coinTab) {\n            this.coinTab.node.on(Toggle.EventType.TOGGLE, this.onCoinTabToggle, this);\n        }\n        \n        if (this.levelTab) {\n            this.levelTab.node.on(Toggle.EventType.TOGGLE, this.onLevelTabToggle, this);\n        }\n        \n        // \n        if (this.coinScrollView) {\n            this.coinContentNode = this.coinScrollView.content;\n        }\n        \n        if (this.levelScrollView) {\n            this.levelContentNode = this.levelScrollView.content;\n        }\n        \n        // \n        this.initRankUI();\n        \n        // \n        this.addRankEventListeners();\n    }\n    \n    /**\n     * \n     */\n    private initRankUI(): void {\n        // Tab\n        if (this.coinTab) {\n            this.coinTab.isChecked = true;\n        }\n        \n        // \n        this.updatePlayerInfo();\n        \n        // \n        this.loadRankData(RankType.COIN);\n    }\n    \n    /**\n     * \n     */\n    private addRankEventListeners(): void {\n        if (!this.rankManager) return;\n        \n        // \n        this.rankManager.addEventListener(RankEventType.DATA_UPDATED, (param) => {\n            if (param.rankType === this.currentRankType) {\n                this.updateRankUI(param.rankType);\n            }\n        });\n        \n        // \n        this.rankManager.addEventListener(RankEventType.REFRESH_SUCCESS, (param) => {\n            if (param.rankType === this.currentRankType) {\n                this.updateRankUI(param.rankType);\n                console.log(`: ${param.message}`);\n            }\n        });\n        \n        // \n        this.rankManager.addEventListener(RankEventType.REFRESH_FAILED, (param) => {\n            console.error(`: ${param.message}`);\n            // TODO: \n        });\n    }\n    \n    /**\n     * \n     * @param rankType \n     */\n    private loadRankData(rankType: RankType): void {\n        if (!this.rankManager) return;\n        \n        // \n        this.rankManager.refreshRankData(rankType);\n        \n        // UI\n        this.updateRankUI(rankType);\n    }\n    \n    /**\n     * UI\n     * @param rankType \n     */\n    private updateRankUI(rankType: RankType): void {\n        if (!this.rankManager) return;\n        \n        // \n        const rankData = this.rankManager.getRankData(rankType);\n        \n        // UI\n        if (rankType === RankType.COIN) {\n            this.updateCoinRankUI(rankData);\n        } else if (rankType === RankType.LEVEL) {\n            this.updateLevelRankUI(rankData);\n        }\n        \n        // \n        this.updatePlayerInfo();\n    }\n    \n    /**\n     * UI\n     * @param rankData \n     */\n    private updateCoinRankUI(rankData: RankData[]): void {\n        if (!this.coinContentNode || !this.rankItemPrefab) return;\n        \n        // \n        this.clearCoinRankItems();\n        \n        // \n        this.generateRankItems(rankData, this.coinContentNode, this.coinRankItemUIs);\n    }\n    \n    /**\n     * UI\n     * @param rankData \n     */\n    private updateLevelRankUI(rankData: RankData[]): void {\n        if (!this.levelContentNode || !this.rankItemPrefab) return;\n        \n        // \n        this.clearLevelRankItems();\n        \n        // \n        this.generateRankItems(rankData, this.levelContentNode, this.levelRankItemUIs);\n    }\n    \n    /**\n     * \n     * @param rankData \n     * @param contentNode \n     * @param rankItemUIs UI\n     */\n    private generateRankItems(rankData: RankData[], contentNode: Node, rankItemUIs: RankItemUI[]): void {\n        if (!contentNode || !this.rankItemPrefab) return;\n        \n        // \n        const itemHeight = 80;\n        const gapHeight = 10;\n        \n        // \n        const contentHeight = rankData.length * itemHeight + (rankData.length - 1) * gapHeight;\n        \n        // \n        const contentTransform = contentNode.getComponent(UITransform);\n        if (contentTransform) {\n            contentTransform.setContentSize(new Size(contentTransform.width, contentHeight));\n        }\n        \n        // \n        rankData.forEach((data, index) => {\n            this.createRankItem(data, this.currentRankType, index, contentNode, rankItemUIs);\n        });\n    }\n    \n    /**\n     * \n     * @param data \n     * @param rankType \n     * @param index \n     * @param contentNode \n     * @param rankItemUIs UI\n     */\n    private createRankItem(data: RankData, rankType: RankType, index: number, contentNode: Node, rankItemUIs: RankItemUI[]): void {\n        if (!contentNode || !this.rankItemPrefab) return;\n        \n        // \n        const rankItemNode = instantiate(this.rankItemPrefab);\n        \n        // \n        const itemHeight = 80;\n        const gapHeight = 10;\n        const yPos = -index * itemHeight - itemHeight / 2 - gapHeight * index;\n        rankItemNode.setPosition(new Vec3(0, yPos, 0));\n        \n        // \n        contentNode.addChild(rankItemNode);\n        \n        // RankItemUI\n        const rankItemUI = rankItemNode.getComponent(RankItemUI);\n        if (rankItemUI) {\n            // \n            rankItemUI.init(data, rankType, index);\n            \n            // \n            rankItemUIs.push(rankItemUI);\n        }\n    }\n    \n    /**\n     * \n     */\n    private clearCoinRankItems(): void {\n        if (!this.coinContentNode) return;\n        \n        // \n        this.coinRankItemUIs.forEach(rankItemUI => {\n            if (rankItemUI && rankItemUI.node) {\n                rankItemUI.node.destroy();\n            }\n        });\n        \n        // \n        this.coinRankItemUIs = [];\n        \n        // \n        const contentTransform = this.coinContentNode.getComponent(UITransform);\n        if (contentTransform) {\n            contentTransform.setContentSize(new Size(contentTransform.width, 0));\n        }\n    }\n    \n    /**\n     * \n     */\n    private clearLevelRankItems(): void {\n        if (!this.levelContentNode) return;\n        \n        // \n        this.levelRankItemUIs.forEach(rankItemUI => {\n            if (rankItemUI && rankItemUI.node) {\n                rankItemUI.node.destroy();\n            }\n        });\n        \n        // \n        this.levelRankItemUIs = [];\n        \n        // \n        const contentTransform = this.levelContentNode.getComponent(UITransform);\n        if (contentTransform) {\n            contentTransform.setContentSize(new Size(contentTransform.width, 0));\n        }\n    }\n    \n    /**\n     * \n     */\n    private updatePlayerInfo(): void {\n        if (!this.rankManager || !this.playerRankLabel || !this.playerNameLabel || !this.playerValueLabel) return;\n        \n        // \n        const userRanking = this.rankManager.getUserRanking(this.currentRankType);\n        \n        // \n        const gameDataManager = GameDataManager.getInstance();\n        const userInfo = gameDataManager.getUserInfo();\n        \n        // \n        let value = 0;\n        if (this.currentRankType === RankType.COIN) {\n            const coinManager = CoinManager.getInstance();\n            value = coinManager.getCurrentCoin();\n        } else if (this.currentRankType === RankType.LEVEL) {\n            value = gameDataManager.loadLevel();\n        }\n        \n        // \n        this.playerRankLabel.string = userRanking > 0 ? `${userRanking}` : '';\n        this.playerNameLabel.string = userInfo.username || '';\n        \n        if (this.currentRankType === RankType.COIN) {\n            this.playerValueLabel.string = `${value} `;\n        } else if (this.currentRankType === RankType.LEVEL) {\n            this.playerValueLabel.string = ` ${value} `;\n        }\n    }\n    \n    /**\n     * Tab\n     */\n    private onCoinTabToggle(): void {\n        if (!this.coinTab || !this.coinTab.isChecked) return;\n        \n        // \n        this.currentRankType = RankType.COIN;\n        \n        // \n        if (this.coinScrollView) {\n            this.coinScrollView.node.active = true;\n        }\n        \n        if (this.levelScrollView) {\n            this.levelScrollView.node.active = false;\n        }\n        \n        // \n        this.loadRankData(RankType.COIN);\n    }\n    \n    /**\n     * Tab\n     */\n    private onLevelTabToggle(): void {\n        if (!this.levelTab || !this.levelTab.isChecked) return;\n        \n        // \n        this.currentRankType = RankType.LEVEL;\n        \n        // \n        if (this.coinScrollView) {\n            this.coinScrollView.node.active = false;\n        }\n        \n        if (this.levelScrollView) {\n            this.levelScrollView.node.active = true;\n        }\n        \n        // \n        this.loadRankData(RankType.LEVEL);\n    }\n    \n    /**\n     * \n     */\n    private onRefreshClick(): void {\n        // \n        this.loadRankData(this.currentRankType);\n    }\n    \n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('RankUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('RankUI: ');\n        }\n        \n        // \n        this.hide();\n    }\n    \n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        if (this.refreshButton) {\n            this.refreshButton.off(Node.EventType.TOUCH_END, this.onRefreshClick, this);\n        }\n        \n        // Tab\n        if (this.coinTab) {\n            this.coinTab.node.off(Toggle.EventType.TOGGLE, this.onCoinTabToggle, this);\n        }\n        \n        if (this.levelTab) {\n            this.levelTab.node.off(Toggle.EventType.TOGGLE, this.onLevelTabToggle, this);\n        }\n        \n        // \n        if (this.rankManager) {\n            this.rankManager.removeEventListener(RankEventType.DATA_UPDATED, (param) => {\n                if (param.rankType === this.currentRankType) {\n                    this.updateRankUI(param.rankType);\n                }\n            });\n            \n            this.rankManager.removeEventListener(RankEventType.REFRESH_SUCCESS, (param) => {\n                if (param.rankType === this.currentRankType) {\n                    this.updateRankUI(param.rankType);\n                    console.log(`: ${param.message}`);\n                }\n            });\n            \n            this.rankManager.removeEventListener(RankEventType.REFRESH_FAILED, (param) => {\n                console.error(`: ${param.message}`);\n            });\n        }\n        \n        // \n        this.clearCoinRankItems();\n        this.clearLevelRankItems();\n        \n        super.onDestroy();\n    }\n}","declare global {\n    interface IBundleUrl {\n        /** */\n        bundleName: string,\n        /** */\n        url: string,\n        /** */\n        id: string,\n    }\n}\n\n/**\n * Bundle\n * @param url \n * @param bundleName bundle\n * @param key \n */\nexport function createBundleObject(url: string, bundleName: string, key?: string): IBundleUrl {\n    let obj: IBundleUrl = Object.create(null);\n    obj.bundleName = bundleName;\n    obj.url = url;\n    obj.id = `${bundleName}/${url}`;\n    return obj;\n}","import { Asset, Burst, Component, Constructor, Prefab, SpriteFrame, assert } from \"cc\";\nimport { getUIClassBUrl } from \"../ui/UIManager\";\nimport { DestoryHook } from \"./DestoryHook\";\n\n/**\n * \n */\nexport class ResLoader {\n\n    /** */\n    private toLoadAssets: { type: Constructor<Asset> | null, bUrl: IBundleUrl }[] = [];\n\n    /** */\n    private loadedAssets: Asset[] = [];\n\n    /** */\n    private m_Released: boolean = false;\n\n    /** */\n    public addSpriteFrame(bUrl: IBundleUrl) {\n        return this.addAsset(bUrl, SpriteFrame);\n    }\n\n    /**UI */\n    public addUI<UI extends Component>(uiClass: Constructor<UI>) {\n        const bUrl = getUIClassBUrl(uiClass);\n        // bundleURL\n        if (bUrl.bundleName && bUrl.url) {\n            this.addAsset(bUrl, Prefab);\n        }\n        if (typeof uiClass['R'] == \"function\") {\n            (uiClass['R'] as Function).call(uiClass, this);\n        }\n        return this;\n    }\n\n    /** */\n    public addAsset(bUrl: IBundleUrl, type: Constructor<Asset> | null) {\n        this.toLoadAssets.push({\n            type: type,\n            bUrl: bUrl\n        });\n        return this;\n    }\n\n    public async load() {\n        let toLoadPromises = this.toLoadAssets.map(toLoad => gCtrl.res.loadAssetAsync(toLoad.bUrl, toLoad.type));\n        let toLoadResults = await Promise.all(toLoadPromises);\n        toLoadResults.forEach(asset => {\n            //\n            asset.addRef();\n            if (!this.m_Released) {\n                this.loadedAssets.push(asset);\n            } else {\n                asset.decRef();\n            }\n        })\n    }\n\n    /** */\n    public releaseResRef() {\n        if (this.m_Released) {\n            return;\n        }\n        this.m_Released = true;\n        while (this.loadedAssets.length > 0) {\n            this.loadedAssets.pop().decRef(true);\n        }\n    }\n\n    /** */\n    public autoRelease(comp: Component) {\n        comp.node.addComponent(DestoryHook).addHook(() => {\n            this.releaseResRef();\n        });\n        return this;\n    }\n}\n","import { Asset, AssetManager, AudioClip, Constructor, Prefab, assetManager } from \"cc\";\nimport { BundleDownloadManager } from \"../bundle/BundleDownloadManager\";\n\n/** */\nexport class ResManager {\n    private bundleDownloadManager: BundleDownloadManager = BundleDownloadManager.getInstance();\n\n    /**\n     * bundle\n     * @param bundleName \n     * @param callback \n     */\n    public loadBundle(bundleName: string, callback?: (bundle: AssetManager.Bundle) => void) {\n        // \n        if (this.bundleDownloadManager.isBundleDownloaded(bundleName)) {\n            // bundle\n            const bundle = assetManager.getBundle(bundleName);\n            if (bundle) {\n                callback && callback(bundle);\n                return;\n            }\n        }\n        \n        // \n        assetManager.loadBundle(bundleName, (e, bundle) => {\n            if (!e) {\n                // \n                this.bundleDownloadManager['downloadedBundles'].add(bundleName);\n            }\n            callback && callback(bundle);\n        });\n    }\n\n    /**\n     * AssetManager.Bundle\n     * @param bundleName \n     */\n    public loadBundleAsync(bundleName: string): Promise<AssetManager.Bundle> {\n        return new Promise<AssetManager.Bundle>(resolve => {\n            this.loadBundle(bundleName, resolve);\n        })\n    }\n\n\n    /** */\n    public loadAssetAsync<T extends Asset>(bUrl: IBundleUrl, type: Constructor<T> | null) {\n        return new Promise<T>(resolve => {\n            this.loadAsset(bUrl, type, resolve as any);\n        })\n    }\n\n\n    /**\n     * \n     * @param bUrl \n     * @param type \n     * @param callBack \n     */\n    public loadAsset<T extends Asset>(bUrl: IBundleUrl, type: Constructor<T> | null, callBack: (asset: T | null) => void) {\n        assetManager.loadBundle(bUrl.bundleName, (e, bundle) => {\n            bundle.load(bUrl.url, type, (err, _asset) => {\n                if (err) {\n                    console.error(err);\n                    return callBack(null);\n                }\n                callBack(_asset);\n            })\n        })\n    }\n\n    /** */\n    public getAsset<T extends Asset>(bUrl: IBundleUrl, type: Constructor<T> | null): T {\n        let assetBundle = assetManager.getBundle(bUrl.bundleName);\n        return assetBundle.get(bUrl.url, type);\n    }\n\n    /**\n     * \n     */\n    public async preloadAllBundles(): Promise<void> {\n        return this.bundleDownloadManager.autoDownloadAllBundles();\n    }\n}","import { _decorator, sys } from 'cc';\n\n/**\n * \n */\nexport enum SettingType {\n    SOUND = 'sound',          // \n    MUSIC = 'music',          // \n    GRAPHICS = 'graphics',    // \n    CONTROL = 'control',      // \n    LANGUAGE = 'language',    // \n    NOTIFICATION = 'notification' // \n}\n\n/**\n * \n */\nexport interface SoundSetting {\n    enabled: boolean;         // \n    volume: number;           //  (0-1)\n}\n\n/**\n * \n */\nexport interface MusicSetting {\n    enabled: boolean;         // \n    volume: number;           //  (0-1)\n}\n\n/**\n * \n */\nexport interface GraphicsSetting {\n    quality: string;          // \n    fps: number;              // \n}\n\n/**\n * \n */\nexport interface ControlSetting {\n    vibration: boolean;       // \n    sensitivity: number;      //  (0-1)\n}\n\n/**\n * \n */\nexport interface LanguageSetting {\n    code: string;             // \n    region: string;           // \n}\n\n/**\n * \n */\nexport interface NotificationSetting {\n    enabled: boolean;         // \n    sound: boolean;           // \n    vibration: boolean;       // \n}\n\n/**\n * \n */\nexport enum SettingEventType {\n    SETTING_CHANGED = 'setting_changed',     // \n    SETTING_RESET = 'setting_reset',         // \n    SETTING_LOADED = 'setting_loaded'        // \n}\n\n/**\n * \n */\nexport interface SettingEvent {\n    type: SettingEventType;\n    settingType?: SettingType;\n    data?: any;\n}\n\n/**\n * \n */\nexport type SettingEventCallback = (event: SettingEvent) => void;\n\n/**\n * \n * \n */\nexport class SettingManager {\n    private static _instance: SettingManager;\n    \n    // \n    private static readonly SETTING_KEY = \"game_setting_data\";\n    \n    // \n    private _soundSetting: SoundSetting = { enabled: true, volume: 0.8 };\n    private _musicSetting: MusicSetting = { enabled: true, volume: 0.7 };\n    private _graphicsSetting: GraphicsSetting = { quality: 'high', fps: 60 };\n    private _controlSetting: ControlSetting = { vibration: true, sensitivity: 0.5 };\n    private _languageSetting: LanguageSetting = { code: 'zh', region: 'CN' };\n    private _notificationSetting: NotificationSetting = { enabled: true, sound: true, vibration: true };\n    \n    // \n    private _eventListeners: Map<SettingEventType, SettingEventCallback[]> = new Map<SettingEventType, SettingEventCallback[]>();\n    \n    /**\n     * SettingManager\n     */\n    public static getInstance(): SettingManager {\n        if (!this._instance) {\n            this._instance = new SettingManager();\n        }\n        return this._instance;\n    }\n\n    /**\n     * \n     */\n    private constructor() {\n        // \n        Object.keys(SettingEventType).forEach((key: string) => {\n            const type = SettingEventType[key as keyof typeof SettingEventType];\n            this._eventListeners.set(type, []);\n        });\n    }\n\n    /**\n     * \n     */\n    public init(): void {\n        console.log('SettingManager: ');\n        this.loadSettingData();\n    }\n\n    /**\n     * \n     */\n    private loadSettingData(): void {\n        try {\n            const data = sys.localStorage.getItem(SettingManager.SETTING_KEY);\n            if (data) {\n                const parsedData = JSON.parse(data);\n                \n                // \n                if (this.validateSettingData(parsedData)) {\n                    // \n                    if (parsedData.sound) {\n                        this._soundSetting = this.validateSoundSetting(parsedData.sound);\n                    }\n                    if (parsedData.music) {\n                        this._musicSetting = this.validateMusicSetting(parsedData.music);\n                    }\n                    if (parsedData.graphics) {\n                        this._graphicsSetting = this.validateGraphicsSetting(parsedData.graphics);\n                    }\n                    if (parsedData.control) {\n                        this._controlSetting = this.validateControlSetting(parsedData.control);\n                    }\n                    if (parsedData.language) {\n                        this._languageSetting = this.validateLanguageSetting(parsedData.language);\n                    }\n                    if (parsedData.notification) {\n                        this._notificationSetting = this.validateNotificationSetting(parsedData.notification);\n                    }\n                    \n                    console.log('SettingManager: ');\n                    this.triggerEvent({ type: SettingEventType.SETTING_LOADED });\n                } else {\n                    console.warn('SettingManager: ');\n                    this.saveSettingData(); // \n                }\n            } else {\n                console.log('SettingManager: ');\n                this.saveSettingData(); // \n            }\n        } catch (error) {\n            console.error('SettingManager: ', error);\n            this.saveSettingData(); // \n        }\n    }\n\n    /**\n     * \n     */\n    private saveSettingData(): void {\n        try {\n            const data = {\n                sound: this._soundSetting,\n                music: this._musicSetting,\n                graphics: this._graphicsSetting,\n                control: this._controlSetting,\n                language: this._languageSetting,\n                notification: this._notificationSetting\n            };\n            sys.localStorage.setItem(SettingManager.SETTING_KEY, JSON.stringify(data));\n        } catch (error) {\n            console.error('SettingManager: ', error);\n        }\n    }\n\n    /**\n     * \n     */\n    public getSoundSetting(): SoundSetting {\n        return { ...this._soundSetting }; // \n    }\n\n    /**\n     * \n     */\n    public getMusicSetting(): MusicSetting {\n        return { ...this._musicSetting }; // \n    }\n\n    /**\n     * \n     */\n    public getGraphicsSetting(): GraphicsSetting {\n        return { ...this._graphicsSetting }; // \n    }\n\n    /**\n     * \n     */\n    public getControlSetting(): ControlSetting {\n        return { ...this._controlSetting }; // \n    }\n\n    /**\n     * \n     */\n    public getLanguageSetting(): LanguageSetting {\n        return { ...this._languageSetting }; // \n    }\n\n    /**\n     * \n     */\n    public getNotificationSetting(): NotificationSetting {\n        return { ...this._notificationSetting }; // \n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateSoundSetting(setting: Partial<SoundSetting>): void {\n        const oldSetting = { ...this._soundSetting };\n        this._soundSetting = { ...this._soundSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.SOUND,\n            data: { oldSetting, newSetting: this._soundSetting }\n        });\n    }\n\n    /**\n     * \n     * @param enabled \n     */\n    public setSoundEnabled(enabled: boolean): void {\n        this.updateSoundSetting({ enabled });\n    }\n\n    /**\n     * \n     * @param volume  (0-1)\n     */\n    public setSoundVolume(volume: number): void {\n        // \n        volume = Math.max(0, Math.min(1, volume));\n        this.updateSoundSetting({ volume });\n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateMusicSetting(setting: Partial<MusicSetting>): void {\n        const oldSetting = { ...this._musicSetting };\n        this._musicSetting = { ...this._musicSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.MUSIC,\n            data: { oldSetting, newSetting: this._musicSetting }\n        });\n    }\n\n    /**\n     * \n     * @param enabled \n     */\n    public setMusicEnabled(enabled: boolean): void {\n        this.updateMusicSetting({ enabled });\n    }\n\n    /**\n     * \n     * @param volume  (0-1)\n     */\n    public setMusicVolume(volume: number): void {\n        // \n        volume = Math.max(0, Math.min(1, volume));\n        this.updateMusicSetting({ volume });\n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateGraphicsSetting(setting: Partial<GraphicsSetting>): void {\n        const oldSetting = { ...this._graphicsSetting };\n        this._graphicsSetting = { ...this._graphicsSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.GRAPHICS,\n            data: { oldSetting, newSetting: this._graphicsSetting }\n        });\n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateControlSetting(setting: Partial<ControlSetting>): void {\n        const oldSetting = { ...this._controlSetting };\n        this._controlSetting = { ...this._controlSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.CONTROL,\n            data: { oldSetting, newSetting: this._controlSetting }\n        });\n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateLanguageSetting(setting: Partial<LanguageSetting>): void {\n        const oldSetting = { ...this._languageSetting };\n        this._languageSetting = { ...this._languageSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.LANGUAGE,\n            data: { oldSetting, newSetting: this._languageSetting }\n        });\n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateNotificationSetting(setting: Partial<NotificationSetting>): void {\n        const oldSetting = { ...this._notificationSetting };\n        this._notificationSetting = { ...this._notificationSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.NOTIFICATION,\n            data: { oldSetting, newSetting: this._notificationSetting }\n        });\n    }\n\n    /**\n     * \n     */\n    public resetAllSettings(): void {\n        const oldSettings = {\n            sound: { ...this._soundSetting },\n            music: { ...this._musicSetting },\n            graphics: { ...this._graphicsSetting },\n            control: { ...this._controlSetting },\n            language: { ...this._languageSetting },\n            notification: { ...this._notificationSetting }\n        };\n\n        // \n        this._soundSetting = { enabled: true, volume: 0.8 };\n        this._musicSetting = { enabled: true, volume: 0.7 };\n        this._graphicsSetting = { quality: 'high', fps: 60 };\n        this._controlSetting = { vibration: true, sensitivity: 0.5 };\n        this._languageSetting = { code: 'zh', region: 'CN' };\n        this._notificationSetting = { enabled: true, sound: true, vibration: true };\n\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_RESET,\n            data: { oldSettings, newSettings: this.getAllSettings() }\n        });\n    }\n\n    /**\n     * \n     */\n    public getAllSettings(): {\n        sound: SoundSetting;\n        music: MusicSetting;\n        graphics: GraphicsSetting;\n        control: ControlSetting;\n        language: LanguageSetting;\n        notification: NotificationSetting;\n    } {\n        return {\n            sound: { ...this._soundSetting },\n            music: { ...this._musicSetting },\n            graphics: { ...this._graphicsSetting },\n            control: { ...this._controlSetting },\n            language: { ...this._languageSetting },\n            notification: { ...this._notificationSetting }\n        };\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param callback \n     */\n    public addEventListener(eventType: SettingEventType, callback: SettingEventCallback): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            // \n            let exists = false;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listeners[i] === callback) {\n                    exists = true;\n                    break;\n                }\n            }\n            if (!exists) {\n                listeners.push(callback);\n            }\n        }\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param callback \n     */\n    public removeEventListener(eventType: SettingEventType, callback: SettingEventCallback): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            for (let i = 0; i < listeners.length; i++) {\n                if (listeners[i] === callback) {\n                    listeners.splice(i, 1);\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * \n     * @param event \n     */\n    private triggerEvent(event: SettingEvent): void {\n        const listeners = this._eventListeners.get(event.type);\n        if (listeners && listeners.length > 0) {\n            listeners.forEach(callback => {\n                try {\n                    callback(event);\n                } catch (error) {\n                    console.error('SettingManager: ', error);\n                }\n            });\n        }\n    }\n\n    /**\n     * \n     * @param data \n     * @returns \n     */\n    private validateSettingData(data: any): boolean {\n        if (!data || typeof data !== 'object') {\n            return false;\n        }\n        \n        // \n        const validTypes = ['sound', 'music', 'graphics', 'control', 'language', 'notification'];\n        return validTypes.some(type => type in data && typeof data[type] === 'object');\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateSoundSetting(setting: any): SoundSetting {\n        const validated: SoundSetting = { ...this._soundSetting };\n        \n        if (typeof setting.enabled === 'boolean') {\n            validated.enabled = setting.enabled;\n        }\n        \n        if (typeof setting.volume === 'number') {\n            validated.volume = Math.max(0, Math.min(1, setting.volume));\n        }\n        \n        return validated;\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateMusicSetting(setting: any): MusicSetting {\n        const validated: MusicSetting = { ...this._musicSetting };\n        \n        if (typeof setting.enabled === 'boolean') {\n            validated.enabled = setting.enabled;\n        }\n        \n        if (typeof setting.volume === 'number') {\n            validated.volume = Math.max(0, Math.min(1, setting.volume));\n        }\n        \n        return validated;\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateGraphicsSetting(setting: any): GraphicsSetting {\n        const validated: GraphicsSetting = { ...this._graphicsSetting };\n        \n        if (typeof setting.quality === 'string') {\n            validated.quality = setting.quality;\n        }\n        \n        if (typeof setting.fps === 'number') {\n            validated.fps = Math.max(30, Math.min(120, setting.fps));\n        }\n        \n        return validated;\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateControlSetting(setting: any): ControlSetting {\n        const validated: ControlSetting = { ...this._controlSetting };\n        \n        if (typeof setting.vibration === 'boolean') {\n            validated.vibration = setting.vibration;\n        }\n        \n        if (typeof setting.sensitivity === 'number') {\n            validated.sensitivity = Math.max(0, Math.min(1, setting.sensitivity));\n        }\n        \n        return validated;\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateLanguageSetting(setting: any): LanguageSetting {\n        const validated: LanguageSetting = { ...this._languageSetting };\n        \n        if (typeof setting.code === 'string') {\n            validated.code = setting.code;\n        }\n        \n        if (typeof setting.region === 'string') {\n            validated.region = setting.region;\n        }\n        \n        return validated;\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateNotificationSetting(setting: any): NotificationSetting {\n        const validated: NotificationSetting = { ...this._notificationSetting };\n        \n        if (typeof setting.enabled === 'boolean') {\n            validated.enabled = setting.enabled;\n        }\n        \n        if (typeof setting.sound === 'boolean') {\n            validated.sound = setting.sound;\n        }\n        \n        if (typeof setting.vibration === 'boolean') {\n            validated.vibration = setting.vibration;\n        }\n        \n        return validated;\n    }\n}","import { _decorator, Component, Node, Button, Label, Slider, Toggle } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { SettingManager } from '../setting/SettingManager';\nimport { UILayer } from './UILayer';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('SettingUI')\nexport class SettingUI extends BaseUI {\n    public static readonly viewLayer = UILayer.UI;\n    // \n    @property(Toggle)\n    bgmToggle: Toggle = null;\n\n    // \n    @property(Slider)\n    bgmSlider: Slider = null;\n\n    // \n    @property(Toggle)\n    effectsToggle: Toggle = null;\n\n    // \n    @property(Slider)\n    effectsSlider: Slider = null;\n\n    // \n    @property(Node)\n    saveButton: Node = null;\n\n    // \n    @property(Node)\n    closeButton: Node = null;\n\n    // \n    private settingManager: SettingManager = null;\n\n    protected onLoad(): void {\n        // \n        this.settingManager = SettingManager.getInstance();\n        \n        // \n        if (this.saveButton) {\n            this.saveButton.on(Node.EventType.TOUCH_END, this.onSaveClick, this);\n        }\n        \n        if (this.closeButton) {\n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        if (this.bgmSlider) {\n            this.bgmSlider.node.on('slide', this.onBgmVolumeChange, this);\n        }\n        \n        if (this.effectsSlider) {\n            this.effectsSlider.node.on('slide', this.onEffectsVolumeChange, this);\n        }\n        \n        // \n        if (this.bgmToggle) {\n            this.bgmToggle.node.on(Toggle.EventType.TOGGLE, this.onBgmToggleChange, this);\n        }\n        \n        if (this.effectsToggle) {\n            this.effectsToggle.node.on(Toggle.EventType.TOGGLE, this.onEffectsToggleChange, this);\n        }\n        \n        // \n        this.initSettingUI();\n    }\n\n    /**\n     * \n     */\n    private initSettingUI() {\n        if (!this.settingManager) {\n            console.error('SettingUI: ');\n            return;\n        }\n        \n        // SettingManager\n        const musicSetting = this.settingManager.getMusicSetting();\n        const soundSetting = this.settingManager.getSoundSetting();\n        \n        // \n        if (this.bgmToggle) {\n            this.bgmToggle.isChecked = musicSetting.enabled;\n        }\n        \n        if (this.bgmSlider) {\n            this.bgmSlider.progress = musicSetting.volume;\n        }\n        \n        if (this.effectsToggle) {\n            this.effectsToggle.isChecked = soundSetting.enabled;\n        }\n        \n        if (this.effectsSlider) {\n            this.effectsSlider.progress = soundSetting.volume;\n        }\n        \n        console.log('SettingUI initialized with current settings');\n    }\n\n    /**\n     * \n     */\n    private onBgmToggleChange() {\n        if (!this.bgmToggle || !this.settingManager) return;\n        \n        const isEnabled = this.bgmToggle.isChecked;\n        // \n        this.settingManager.setMusicEnabled(isEnabled);\n        console.log(`BGM toggle: ${isEnabled}`);\n    }\n\n    /**\n     * \n     */\n    private onBgmVolumeChange() {\n        if (!this.bgmSlider || !this.settingManager) return;\n        \n        const volume = this.bgmSlider.progress;\n        // \n        this.settingManager.setMusicVolume(volume);\n        console.log(`BGM volume: ${volume}`);\n    }\n\n    /**\n     * \n     */\n    private onEffectsToggleChange() {\n        if (!this.effectsToggle || !this.settingManager) return;\n        \n        const isEnabled = this.effectsToggle.isChecked;\n        // \n        this.settingManager.setSoundEnabled(isEnabled);\n        console.log(`Effects toggle: ${isEnabled}`);\n    }\n\n    /**\n     * \n     */\n    private onEffectsVolumeChange() {\n        if (!this.effectsSlider || !this.settingManager) return;\n        \n        const volume = this.effectsSlider.progress;\n        // \n        this.settingManager.setSoundVolume(volume);\n        console.log(`Effects volume: ${volume}`);\n    }\n\n    /**\n     * \n     */\n    private onSaveClick() {\n        if (!this.settingManager) {\n            console.error('SettingUI: ');\n            return;\n        }\n        \n        // \n        console.log('Settings saved');\n\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('SettingUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('SettingUI: ');\n        }\n        \n        // \n        this.hide();\n    }\n\n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('SettingUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('SettingUI: ');\n        }\n        \n        // \n        this.hide();\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.saveButton) {\n            this.saveButton.off(Node.EventType.TOUCH_END, this.onSaveClick, this);\n        }\n        \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        if (this.bgmSlider) {\n            this.bgmSlider.node.off('slide', this.onBgmVolumeChange, this);\n        }\n        \n        if (this.effectsSlider) {\n            this.effectsSlider.node.off('slide', this.onEffectsVolumeChange, this);\n        }\n        \n        // \n        if (this.bgmToggle) {\n            this.bgmToggle.node.off(Toggle.EventType.TOGGLE, this.onBgmToggleChange, this);\n        }\n        \n        if (this.effectsToggle) {\n            this.effectsToggle.node.off(Toggle.EventType.TOGGLE, this.onEffectsToggleChange, this);\n        }\n        \n        super.onDestroy();\n    }\n}","import { _decorator } from 'cc';\nimport CoinManager from '../coin/CoinManager';\nimport { OpenDataManager } from '../rank/OpenDataManager';\nimport { ToastManager } from '../ui/ToastManager';\n\nconst { ccclass } = _decorator;\n\n/**\n * \n * \n */\n@ccclass('ShareManager')\nexport class ShareManager {\n    private static _instance: ShareManager = null;\n    \n    /**\n     * \n     */\n    public static getInstance(): ShareManager {\n        if (!ShareManager._instance) {\n            ShareManager._instance = new ShareManager();\n        }\n        return ShareManager._instance;\n    }\n    \n    private constructor() {\n        // \n    }\n    \n    /**\n     * \n     * \n     */\n    public init(): void {\n        console.log('ShareManager: ');\n        \n        // \n        if (typeof wx !== 'undefined') {\n            // \n            const launchOptions = (wx as any).getLaunchOptionsSync();\n            console.log('ShareManager: :', launchOptions);\n            \n            // \n            if (launchOptions.query && launchOptions.query.from === 'share') {\n                const coins = parseInt(launchOptions.query.coins) || 1000;\n                console.log(`ShareManager: ${coins}`);\n                \n                // \n                this.handleShareReward(coins);\n            }\n            \n            // \n            this.setupGlobalShareMessage();\n        } else {\n            console.log('ShareManager: ');\n        }\n    }\n    \n    /**\n     * \n     */\n    private setupGlobalShareMessage(): void {\n        if (typeof wx !== 'undefined') {\n            // \n            (wx as any).onShareAppMessage(() => {\n                return {\n                    title: '',\n                    imageUrl: '', // \n                    query: 'from=share&coins=500' // 500\n                };\n            });\n            \n            console.log('ShareManager: ');\n        }\n    }\n    \n    /**\n     * \n     * @param coins \n     */\n    private handleShareReward(coins: number): void {\n        try {\n            // OpenID\n            if (typeof wx !== 'undefined') {\n                (wx as any).getOpenId({\n                    success: (res: any) => {\n                        const openId = res.openId;\n                        console.log('ShareManager: OpenID:', openId);\n                        \n                        // \n                        this.checkTodayShareReward(openId, coins);\n                    },\n                    fail: (error: any) => {\n                        console.error('ShareManager: OpenID:', error);\n                        // OpenID\n                        this.giveShareReward(coins);\n                    }\n                });\n            } else {\n                // \n                this.giveShareReward(coins);\n            }\n        } catch (error) {\n            console.error('ShareManager: :', error);\n            // \n            this.giveShareReward(coins);\n        }\n    }\n    \n    /**\n     * \n     * @param openId OpenID\n     * @param coins \n     */\n    private checkTodayShareReward(openId: string, coins: number): void {\n        if (typeof wx !== 'undefined') {\n            // \n            (wx as any).getUserInteractiveStorage({\n                keyList: ['lastShareDate', 'shareRewardCount'],\n                success: (res: any) => {\n                    const data = res.data || {};\n                    const today = new Date().toDateString();\n                    const lastShareDate = data.lastShareDate || '';\n                    const shareRewardCount = data.shareRewardCount || 0;\n                    \n                    // \n                    if (lastShareDate === today && shareRewardCount >= 1) {\n                        console.log('ShareManager: ');\n                        ToastManager.getInstance().showMessage('', 2);\n                        return;\n                    }\n                    \n                    // \n                    this.giveShareReward(coins);\n                    \n                    // \n                    this.updateShareRewardRecord(today, shareRewardCount + 1);\n                },\n                fail: (error: any) => {\n                    console.error('ShareManager: :', error);\n                    // \n                    this.giveShareReward(coins);\n                }\n            });\n        } else {\n            // \n            this.giveShareReward(coins);\n        }\n    }\n    \n    /**\n     * \n     * @param coins \n     */\n    private giveShareReward(coins: number): void {\n        try {\n            // \n            const coinManager = CoinManager.getInstance();\n            coinManager.addCoin(coins);\n            \n            // \n            ToastManager.getInstance().showMessage(`${coins}`, 2);\n            \n            // \n            console.log(`ShareManager: ${coins}`);\n            \n            // \n            const openDataManager = OpenDataManager.getInstance();\n            openDataManager.syncDataToOpenDomain();\n        } catch (error) {\n            console.error('ShareManager: :', error);\n            ToastManager.getInstance().showMessage('', 2);\n        }\n    }\n    \n    /**\n     * \n     * @param date \n     * @param count \n     */\n    private updateShareRewardRecord(date: string, count: number): void {\n        if (typeof wx !== 'undefined') {\n            // \n            (wx as any).setUserInteractiveStorage({\n                cloudStorageList: [{\n                    key: 'lastShareDate',\n                    value: date\n                }, {\n                    key: 'shareRewardCount',\n                    value: count.toString()\n                }],\n                success: () => {\n                    console.log('ShareManager: ');\n                },\n                fail: (error: any) => {\n                    console.error('ShareManager: :', error);\n                }\n            });\n        }\n    }\n    \n    /**\n     * \n     * @param title \n     * @param imageUrl \n     * @param query \n     * @param successCallback \n     * @param failCallback \n     */\n    public shareToFriend(title: string, imageUrl: string, query: string, successCallback?: () => void, failCallback?: (error: any) => void): void {\n        if (typeof wx !== 'undefined') {\n            (wx as any).shareAppMessage({\n                title: title,\n                imageUrl: imageUrl,\n                query: query,\n                success: () => {\n                    console.log('ShareManager: ');\n                    if (successCallback) {\n                        successCallback();\n                    }\n                },\n                fail: (error: any) => {\n                    console.error('ShareManager: :', error);\n                    if (failCallback) {\n                        failCallback(error);\n                    }\n                }\n            });\n        } else {\n            console.log('ShareManager: ');\n            if (failCallback) {\n                failCallback(new Error(''));\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param buttonNode \n     * @param successCallback \n     * @param failCallback \n     */\n    public createShareButton(buttonNode: any, successCallback?: (shareTicket: string) => void, failCallback?: (err: any) => void): void {\n        if (typeof wx !== 'undefined') {\n            (wx as any).createShareButton({\n                style: {\n                    left: buttonNode.x,\n                    top: buttonNode.y,\n                    width: buttonNode.width,\n                    height: buttonNode.height,\n                },\n                success: (res: any) => {\n                    console.log('ShareManager: ');\n                    if (successCallback && res.shareTickets && res.shareTickets.length > 0) {\n                        successCallback(res.shareTickets[0]);\n                    }\n                },\n                fail: (error: any) => {\n                    console.error('ShareManager: :', error);\n                    if (failCallback) {\n                        failCallback(error);\n                    }\n                }\n            });\n        } else {\n            console.log('ShareManager: ');\n            if (failCallback) {\n                failCallback(new Error(''));\n            }\n        }\n    }\n}","import { ShopItem, ShopItemType } from './ShopManager';\n\n/**\n * \n * \n */\nexport class ShopConfig {\n    /**\n     * \n     */\n    public static getAllItems(): ShopItem[] {\n        return [\n            // \n            {\n                id: 'item_tdhm',\n                name: '',\n                description: '3',\n                price: 100,\n                type: ShopItemType.ITEM,\n                itemId: 'item_tdhm_001',\n                count: 3,\n                icon: 'skills/tuodaohuima_btn',\n                limit: -1\n            },\n            {\n                id: 'item_ccjj',\n                name: '',\n                description: '1',\n                price: 100,\n                type: ShopItemType.ITEM,\n                itemId: 'item_ccjj_001',\n                count: 3,\n                icon: 'skills/caochuanjiejian_btn',\n                limit: -1\n            },\n            {\n                id: 'item_qkny',\n                name: '',\n                description: '',\n                price: 100,\n                type: ShopItemType.ITEM,\n                itemId: 'item_qkny_001',\n                count: 3,\n                icon: 'skills/qiankunnuoyi_btn',\n                limit: -1\n            }\n        ];\n    }\n    \n    /**\n     * ID\n     */\n    public static getItemById(id: string): ShopItem | null {\n        const items = this.getAllItems();\n        for (const item of items) {\n            if (item.id === id) {\n                return item;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * ID\n     */\n    public static getItemByItemId(itemId: string): ShopItem | null {\n        const items = this.getAllItems();\n        for (const item of items) {\n            if (item.itemId === itemId) {\n                return item;\n            }\n        }\n        return null;\n    }\n    \n    /**\n     * \n     */\n    public static getItemsByType(type: ShopItemType): ShopItem[] {\n        const items = this.getAllItems();\n        return items.filter(item => item.type === type);\n    }\n    \n    /**\n     * \n     */\n    public static getItemProducts(): ShopItem[] {\n        return this.getItemsByType(ShopItemType.ITEM);\n    }\n    \n    /**\n     * \n     */\n    public static getCoinProducts(): ShopItem[] {\n        return this.getItemsByType(ShopItemType.COIN);\n    }\n    \n    /**\n     * \n     */\n    public static getSpecialProducts(): ShopItem[] {\n        return this.getItemsByType(ShopItemType.SPECIAL);\n    }\n    \n    /**\n     * \n     * \n     */\n    public static getSpecialOfferItems(count: number = 3): ShopItem[] {\n        const allItems = this.getAllItems();\n        const specialItems: ShopItem[] = [];\n        \n        // \n        const itemsCopy = [...allItems];\n        \n        // \n        for (let i = 0; i < count && itemsCopy.length > 0; i++) {\n            const randomIndex = Math.floor(Math.random() * itemsCopy.length);\n            const item = itemsCopy[randomIndex];\n            \n            // 70%-90%\n            const specialItem: ShopItem = {\n                ...item,\n                // isSpecial: true,\n                // specialPrice: Math.floor(item.price * (0.7 + Math.random() * 0.2))\n            };\n            \n            specialItems.push(specialItem);\n            itemsCopy.splice(randomIndex, 1);\n        }\n        \n        return specialItems;\n    }\n    \n    /**\n     * \n     */\n    public static getRecommendedItemsForNewbie(): ShopItem[] {\n        return [\n            this.getItemById('coin_001')!,\n            this.getItemById('item_001')!,\n            this.getItemById('special_002')!\n        ];\n    }\n    \n    /**\n     * \n     */\n    public static getRecommendedItemsForAdvanced(): ShopItem[] {\n        return [\n            this.getItemById('coin_003')!,\n            this.getItemById('item_003')!,\n            this.getItemById('special_001')!\n        ];\n    }\n    \n    /**\n     * \n     * \n     */\n    public static getLimitedTimeOfferItems(): ShopItem[] {\n        return [\n            {\n                ...this.getItemById('coin_004')!,\n                isSpecial: true,\n                specialPrice: 400  // 500400\n            },\n            {\n                ...this.getItemById('item_003')!,\n                isSpecial: true,\n                specialPrice: 400  // 500400\n            }\n        ];\n    }\n}","import { _decorator, Component, Node, Button, Label, Sprite, Color, resources, SpriteFrame, SpriteAtlas, assetManager } from 'cc';\nimport { ShopItem, ShopItemType } from '../shop/ShopManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('ShopItemUI')\nexport class ShopItemUI extends Component {\n    // \n    @property(Sprite)\n    iconSprite: Sprite = null;\n\n    // \n    @property(Label)\n    nameLabel: Label = null;\n\n    // \n    @property(Label)\n    descLabel: Label = null;\n\n    // \n    @property(Label)\n    priceLabel: Label = null;\n\n    // \n    @property(Button)\n    buyButton: Button = null;\n\n    // \n    @property(Node)\n    specialMarkNode: Node = null;\n\n    // \n    @property(Label)\n    specialPriceLabel: Label = null;\n\n    // \n    @property(Label)\n    originalPriceLabel: Label = null;\n\n    // \n    private itemData: ShopItem = null;\n\n    // \n    private onDetailClick: (itemId: string) => void = null;\n\n    // \n    private onBuyClick: (itemId: string) => void = null;\n\n    protected onLoad(): void {\n        // \n        if (this.buyButton) {\n            this.buyButton.node.on(Button.EventType.CLICK, this.onBuyButtonClick, this);\n        }\n\n        // \n        this.node.on(Node.EventType.TOUCH_END, this.onItemClick, this);\n    }\n\n    /**\n     * \n     * @param item \n     * @param onDetailClick \n     * @param onBuyClick \n     */\n    public init(item: ShopItem, onDetailClick?: (itemId: string) => void, onBuyClick?: (itemId: string) => void): void {\n        this.itemData = item;\n        this.onDetailClick = onDetailClick;\n        this.onBuyClick = onBuyClick;\n\n        // UI\n        this.updateUI();\n    }\n\n    /**\n     * UI\n     */\n    private updateUI(): void {\n        if (!this.itemData) {\n            return;\n        }\n\n        // \n        if (this.nameLabel) {\n            this.nameLabel.string = this.itemData.name;\n        }\n\n        // \n        if (this.descLabel) {\n            this.descLabel.string = this.itemData.description;\n        }\n\n        // \n        if (this.priceLabel) {\n            this.priceLabel.string = this.itemData.price.toString();\n        }\n\n        // \n        if (this.itemData.isSpecial && this.itemData.specialPrice) {\n            // \n            if (this.specialMarkNode) {\n                this.specialMarkNode.active = true;\n            }\n\n            // \n            if (this.specialPriceLabel) {\n                this.specialPriceLabel.string = this.itemData.specialPrice.toString();\n                this.specialPriceLabel.node.active = true;\n            }\n\n            // \n            if (this.originalPriceLabel) {\n                this.originalPriceLabel.string = this.itemData.price.toString();\n                this.originalPriceLabel.node.active = true;\n            }\n\n            // \n            if (this.priceLabel) {\n                this.priceLabel.node.active = false;\n            }\n        } else {\n            // \n            if (this.specialMarkNode) {\n                this.specialMarkNode.active = false;\n            }\n\n            // \n            if (this.specialPriceLabel) {\n                this.specialPriceLabel.node.active = false;\n            }\n\n            // \n            if (this.originalPriceLabel) {\n                this.originalPriceLabel.node.active = false;\n            }\n\n            // \n            if (this.priceLabel) {\n                this.priceLabel.node.active = true;\n            }\n        }\n\n        // \n        if (this.iconSprite && this.itemData.icon) {\n            // \n            const iconPath = this.itemData.icon;\n            const bundleName = 'CommonUI'; // bundle\n            const assetPath = `ui/${iconPath}`; //  \"ui/skills/tuodaohuima_btn\"\n            \n            // bundle\n            assetManager.loadBundle(bundleName, (err, bundle) => {\n                if (err) {\n                    console.error(`Failed to load bundle: ${bundleName}`, err);\n                    return;\n                }\n                \n                // bundle\n                bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                    if (err) {\n                        console.error(`Failed to load sprite frame: ${assetPath} from bundle: ${bundleName}`, err);\n                        return;\n                    }\n                    \n                    if (spriteFrame) {\n                        this.iconSprite.spriteFrame = spriteFrame;\n                    } else {\n                        console.error(`Failed to get sprite frame: ${assetPath} from bundle: ${bundleName}`);\n                    }\n                });\n            });\n        }\n\n        // \n        this.updateBuyButtonState();\n    }\n\n    /**\n     * \n     */\n    private updateBuyButtonState(): void {\n        if (!this.buyButton || !this.itemData) {\n            return;\n        }\n\n        // \n        if (this.itemData.limit !== -1 && this.itemData.purchased! >= this.itemData.limit!) {\n            // \n            this.buyButton.interactable = false;\n            return;\n        }\n    }\n\n    /**\n     * \n     */\n    private onItemClick(): void {\n        if (this.itemData && this.onDetailClick) {\n            this.onDetailClick(this.itemData.id);\n        }\n    }\n\n    /**\n     * \n     */\n    private onBuyButtonClick(): void {\n        if (this.itemData && this.onBuyClick) {\n            this.onBuyClick(this.itemData.id);\n        }\n    }\n\n    /**\n     * \n     */\n    public getItemData(): ShopItem {\n        return this.itemData;\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.buyButton && this.buyButton.node) {\n            this.buyButton.node.off(Button.EventType.CLICK, this.onBuyButtonClick, this);\n        }\n\n        // \n        this.node.off(Node.EventType.TOUCH_END, this.onItemClick, this);\n    }\n}","import { _decorator, sys } from 'cc';\nimport { GameDataManager } from '../data/GameDataManager';\nimport CoinManager from '../coin/CoinManager';\nimport { BagManager } from '../bag/BagManager';\nimport { ShopConfig } from './ShopConfig';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n */\nexport enum ShopItemType {\n    ITEM = 'item',\n    COIN = 'coin',\n    SPECIAL = 'special'\n}\n\n/**\n * \n */\nexport interface ShopItem {\n    id: string;           // ID\n    name: string;         // \n    description: string;  // \n    price: number;        // \n    type: ShopItemType;   // \n    itemId?: string;      // IDtypeitem\n    count?: number;       // typeitem\n    coinAmount?: number;  // typecoin\n    specialType?: string; // typespecial\n    icon: string;         // \n    isSpecial?: boolean;  // \n    specialPrice?: number; // \n    limit?: number;       // -1\n    purchased?: number;   // \n}\n\n/**\n * \n * \n */\nexport class ShopManager {\n    private static _instance: ShopManager = null;\n    \n    // \n    private _items: Map<string, ShopItem> = new Map();\n    \n    // \n    private _specialItems: Map<string, ShopItem> = new Map();\n    \n    // \n    private _purchaseRecords: Array<{\n        itemId: string;\n        purchaseTime: number;\n        price: number;\n    }> = [];\n    \n    // \n    private _purchaseCallbacks: Array<(success: boolean, item?: ShopItem, error?: string) => void> = [];\n    \n    // \n    private _lastRefreshTime: number = 0;\n    \n    // \n    private readonly _refreshInterval: number = 24 * 60 * 60 * 1000; // 24\n    \n    // \n    private _refreshCallbacks: Array<() => void> = [];\n    \n    /**\n     * \n     */\n    public static get instance(): ShopManager {\n        if (!ShopManager._instance) {\n            ShopManager._instance = new ShopManager();\n        }\n        return ShopManager._instance;\n    }\n    \n    /**\n     * \n     */\n    private constructor() {\n        this.init();\n    }\n    \n    /**\n     * \n     */\n    public init(): void {\n        this.loadShopData();\n        this.checkRefresh();\n    }\n    \n    /**\n     * \n     */\n    private loadShopData(): void {\n        try {\n            // \n            const itemsData = sys.localStorage.getItem('shop_items');\n            if (itemsData) {\n                const itemsArray = JSON.parse(itemsData);\n                this._items = new Map();\n                for (const item of itemsArray) {\n                    this._items.set(item.id, item);\n                }\n            } else {\n                // \n                this.initDefaultItems();\n            }\n            \n            // \n            const specialItemsData = sys.localStorage.getItem('shop_special_items');\n            if (specialItemsData) {\n                const specialItemsArray = JSON.parse(specialItemsData);\n                this._specialItems = new Map();\n                for (const item of specialItemsArray) {\n                    this._specialItems.set(item.id, item);\n                }\n            }\n            \n            // \n            const recordsData = sys.localStorage.getItem('shop_purchase_records');\n            if (recordsData) {\n                this._purchaseRecords = JSON.parse(recordsData);\n            }\n            \n            // \n            const lastRefreshTime = sys.localStorage.getItem('shop_last_refresh_time');\n            if (lastRefreshTime) {\n                this._lastRefreshTime = parseInt(lastRefreshTime);\n            }\n        } catch (error) {\n            console.error(':', error);\n            this.initDefaultItems();\n        }\n    }\n    \n    /**\n     * \n     */\n    private initDefaultItems(): void {\n        // \n        const defaultItems = ShopConfig.getAllItems();\n        for (const item of defaultItems) {\n            this._items.set(item.id, item);\n        }\n        \n        // \n        this.saveShopData();\n    }\n    \n    /**\n     * \n     */\n    private saveShopData(): void {\n        try {\n            // \n            const itemsArray = [];\n            for (const item of this._items.values()) {\n                itemsArray.push(item);\n            }\n            sys.localStorage.setItem('shop_items', JSON.stringify(itemsArray));\n            \n            // \n            const specialItemsArray = [];\n            for (const item of this._specialItems.values()) {\n                specialItemsArray.push(item);\n            }\n            sys.localStorage.setItem('shop_special_items', JSON.stringify(specialItemsArray));\n            \n            // \n            sys.localStorage.setItem('shop_purchase_records', JSON.stringify(this._purchaseRecords));\n            \n            // \n            sys.localStorage.setItem('shop_last_refresh_time', this._lastRefreshTime.toString());\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private checkRefresh(): void {\n        const now = Date.now();\n        if (now - this._lastRefreshTime > this._refreshInterval) {\n            this.refreshShop();\n        }\n    }\n    \n    /**\n     * \n     */\n    public addItem(item: ShopItem): void {\n        // \n        const newItem: ShopItem = {\n            ...item,\n            purchased: item.purchased || 0\n        };\n        \n        this._items.set(item.id, newItem);\n        this.saveShopData();\n    }\n    \n    /**\n     * \n     */\n    public getItem(id: string): ShopItem | null {\n        return this._items.get(id) || null;\n    }\n    \n    /**\n     * \n     */\n    public getAllItems(): ShopItem[] {\n        const items: ShopItem[] = [];\n        for (const item of this._items.values()) {\n            items.push(item);\n        }\n        return items;\n    }\n    \n    /**\n     * \n     */\n    public getSpecialItems(): ShopItem[] {\n        const items: ShopItem[] = [];\n        for (const item of this._specialItems.values()) {\n            items.push(item);\n        }\n        return items;\n    }\n    \n    /**\n     * \n     */\n    public refreshShop(force: boolean = false): boolean {\n        // \n        const now = Date.now();\n        if (!force && now - this._lastRefreshTime < this._refreshInterval) {\n            console.log(':', (this._refreshInterval - (now - this._lastRefreshTime)) / 1000, '');\n            return false;\n        }\n        \n        // \n        this._specialItems.clear();\n        \n        // 2-3\n        // const itemsArray = Array.from(this._items.values());\n        // const specialCount = Math.floor(Math.random() * 2) + 2; // 2-3\n        \n        // for (let i = 0; i < specialCount; i++) {\n        //     if (itemsArray.length === 0) break;\n            \n        //     const randomIndex = Math.floor(Math.random() * itemsArray.length);\n        //     const item = itemsArray[randomIndex];\n            \n        //     // 70%-90%\n        //     const specialItem: ShopItem = {\n        //         ...item,\n        //         // isSpecial: true,\n        //         // specialPrice: Math.floor(item.price * (0.7 + Math.random() * 0.2))\n        //     };\n            \n        //     this._specialItems.set(item.id, specialItem);\n        //     itemsArray.splice(randomIndex, 1);\n        // }\n        \n        // \n        this._lastRefreshTime = now;\n        \n        // \n        this.saveShopData();\n        \n        console.log('');\n        \n        // \n        this.triggerRefreshCallbacks();\n        \n        return true;\n    }\n    \n    /**\n     * \n     */\n    private triggerRefreshCallbacks(): void {\n        for (const callback of this._refreshCallbacks) {\n            try {\n                callback();\n            } catch (e) {\n                console.error(':', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    public registerRefreshCallback(callback: () => void): void {\n        if (this._refreshCallbacks.indexOf(callback) === -1) {\n            this._refreshCallbacks.push(callback);\n        }\n    }\n    \n    /**\n     * \n     */\n    public unregisterRefreshCallback(callback: () => void): void {\n        const index = this._refreshCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this._refreshCallbacks.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     */\n    public purchaseItem(itemId: string, callback?: (success: boolean, item?: ShopItem, error?: string) => void): boolean {\n        // \n        const item = this._items.get(itemId);\n        if (!item) {\n            const error = ': ' + itemId;\n            console.error(error);\n            this.triggerPurchaseCallback(false, undefined, error, callback);\n            return false;\n        }\n        \n        // \n        const specialItem = this._specialItems.get(itemId);\n        const price = specialItem ? specialItem.specialPrice! : item.price;\n        \n        // \n        if (item.limit !== -1 && item.purchased! >= item.limit!) {\n            const error = ': ' + itemId;\n            console.error(error);\n            this.triggerPurchaseCallback(false, item, error, callback);\n            return false;\n        }\n        \n        // \n        if (CoinManager.getInstance().getCurrentCoin() < price) {\n            const error = ': ' + price + ': ' + CoinManager.getInstance().getCurrentCoin();\n            console.error(error);\n            this.triggerPurchaseCallback(false, item, error, callback);\n            return false;\n        }\n        \n        // \n        const coinDeductSuccess = CoinManager.getInstance().subtractCoin(price, 'shop_purchase');\n        if (!coinDeductSuccess) {\n            const error = '';\n            console.error(error);\n            this.triggerPurchaseCallback(false, item, error, callback);\n            return false;\n        }\n        \n        // \n        const deliverySuccess = this.deliverItem(item);\n        if (!deliverySuccess) {\n            // \n            CoinManager.getInstance().addCoin(price, 'shop_purchase_refund');\n            const error = '';\n            console.error(error);\n            this.triggerPurchaseCallback(false, item, error, callback);\n            return false;\n        }\n        \n        // \n        this._purchaseRecords.push({\n            itemId: itemId,\n            purchaseTime: Date.now(),\n            price: price\n        });\n        \n        // \n        item.purchased = (item.purchased || 0) + 1;\n        \n        // \n        this.saveShopData();\n        \n        console.log(':', item.name);\n        this.triggerPurchaseCallback(true, item, undefined, callback);\n        return true;\n    }\n    \n    /**\n     * \n     */\n    private triggerPurchaseCallback(\n        success: boolean, \n        item?: ShopItem, \n        error?: string, \n        callback?: (success: boolean, item?: ShopItem, error?: string) => void\n    ): void {\n        // \n        if (callback) {\n            callback(success, item, error);\n        }\n        \n        // \n        for (const cb of this._purchaseCallbacks) {\n            try {\n                cb(success, item, error);\n            } catch (e) {\n                console.error(':', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    public registerPurchaseCallback(callback: (success: boolean, item?: ShopItem, error?: string) => void): void {\n        if (this._purchaseCallbacks.indexOf(callback) === -1) {\n            this._purchaseCallbacks.push(callback);\n        }\n    }\n    \n    /**\n     * \n     */\n    public unregisterPurchaseCallback(callback: (success: boolean, item?: ShopItem, error?: string) => void): void {\n        const index = this._purchaseCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this._purchaseCallbacks.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     */\n    private deliverItem(item: ShopItem): boolean {\n        try {\n            switch (item.type) {\n                case ShopItemType.ITEM:\n                    // \n                    if (item.itemId && item.count) {\n                        BagManager.getInstance().addItemByShopItem(item);\n                    }\n                    break;\n                    \n                case ShopItemType.COIN:\n                    // \n                    if (item.coinAmount) {\n                        CoinManager.getInstance().addCoin(item.coinAmount, 'shop_purchase');\n                    }\n                    break;\n                    \n                case ShopItemType.SPECIAL:\n                    // \n                    this.handleSpecialItem(item);\n                    break;\n                    \n                default:\n                    console.error(':', item.type);\n                    return false;\n            }\n            return true;\n        } catch (error) {\n            console.error(':', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     */\n    private handleSpecialItem(item: ShopItem): void {\n        // \n        switch (item.specialType) {\n            case 'double_coin':\n                // \n                console.log('');\n                break;\n                \n            case 'extra_life':\n                // \n                console.log('');\n                break;\n                \n            default:\n                console.warn(':', item.specialType);\n                break;\n        }\n    }\n    \n    /**\n     * \n     */\n    public getPurchaseRecords(): Array<{\n        itemId: string;\n        purchaseTime: number;\n        price: number;\n    }> {\n        return [...this._purchaseRecords];\n    }\n    \n    /**\n     * \n     */\n    public getNextRefreshTime(): number {\n        return this._lastRefreshTime + this._refreshInterval;\n    }\n    \n    /**\n     * \n     */\n    public getRefreshRemainingTime(): number {\n        const nextRefreshTime = this.getNextRefreshTime();\n        const now = Date.now();\n        return Math.max(0, nextRefreshTime - now);\n    }\n    \n    /**\n     * \n     */\n    public clearData(): void {\n        this._items.clear();\n        this._specialItems.clear();\n        this._purchaseRecords = [];\n        this._lastRefreshTime = 0;\n        \n        // \n        sys.localStorage.removeItem('shop_items');\n        sys.localStorage.removeItem('shop_special_items');\n        sys.localStorage.removeItem('shop_purchase_records');\n        sys.localStorage.removeItem('shop_last_refresh_time');\n        \n        // \n        this.initDefaultItems();\n    }\n\n\n    /**\n     * ID\n     */\n    public getShopItemByItemId(itemId: string): ShopItem | null {\n        return ShopConfig.getItemByItemId(itemId);\n    }\n}","import { _decorator, Component, Node, Button, Label, ScrollView, Sprite, Prefab, instantiate, Vec3, UITransform, Size } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { UILayer } from './UILayer';\nimport { ShopManager, ShopItem } from '../shop/ShopManager';\nimport { ShopItemUI } from './ShopItemUI';\nimport CoinManager from '../coin/CoinManager';\nimport { AudioManager } from '../audio/AudioManager';\nimport { createBundleObject } from '../res/ResConst';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('ShopUI')\nexport class ShopUI extends BaseUI {\n    // UI\n    public static readonly viewLayer = UILayer.UI;\n    \n    // \n    @property(Node)\n    itemList: Node = null;\n\n    // \n    @property(Node)\n    closeButton: Node = null;\n    \n    // \n    @property(Label)\n    balanceLabel: Label = null;\n    \n    // \n    @property(Label)\n    tipsLabel: Label = null;\n    \n    // \n    @property(ScrollView)\n    scrollView: ScrollView = null;\n    \n    // \n    @property(Prefab)\n    shopItemPrefab: Prefab = null;\n    \n    // \n    private contentNode: Node = null;\n    \n    // UI\n    private shopItemUIs: ShopItemUI[] = [];\n\n    protected start(): void {\n        // super.onLoad();\n        \n        // \n        if (this.closeButton) {\n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        if (this.scrollView) {\n            this.contentNode = this.scrollView.content;\n        }\n        // \n        this.initShopUI();\n    }\n\n    /**\n     * \n     */\n    private initShopUI() {\n        // \n        this.updateBalanceDisplay();\n        \n        // \n        this.clearShopItems();\n        \n        // ShopManager\n        const shopItems = ShopManager.instance.getAllItems();\n        \n        // \n        if (!this.contentNode || !this.shopItemPrefab) {\n            console.error('');\n            return;\n        }\n        \n        // \n        this.generateShopItems(shopItems);\n        \n        console.log('ShopUI initialized');\n    }\n    \n    /**\n     * \n     */\n    private updateBalanceDisplay(): void {\n        if (this.balanceLabel) {\n            const currentCoin = CoinManager.getInstance().getCurrentCoin();\n            this.balanceLabel.string = `: ${currentCoin}`;\n        }\n    }\n    \n    /**\n     * \n     */\n    private onCoinChanged(eventParam: any): void {\n        // \n        this.updateBalanceDisplay();\n        \n        // \n        this.updateAllShopItemStates();\n    }\n    \n    /**\n     * \n     */\n    private clearShopItems(): void {\n        if (!this.contentNode) return;\n        \n        // \n        this.shopItemUIs.forEach(shopItemUI => {\n            if (shopItemUI && shopItemUI.node) {\n                shopItemUI.node.destroy();\n            }\n        });\n        \n        // \n        this.shopItemUIs = [];\n        \n        // \n        const contentTransform = this.contentNode.getComponent(UITransform);\n        if (contentTransform) {\n            contentTransform.setContentSize(new Size(contentTransform.width, 0));\n        }\n    }\n    \n    /**\n     * \n     * @param shopItems \n     */\n    private generateShopItems(shopItems: ShopItem[]): void {\n        if (!this.contentNode || !this.shopItemPrefab) return;\n        \n        // \n        const itemHeight = 100;\n        \n        // \n        const contentHeight = shopItems.length * itemHeight + (shopItems.length - 1) ;\n        \n        // \n        const contentTransform = this.contentNode.getComponent(UITransform);\n        if (contentTransform) {\n            contentTransform.setContentSize(new Size(contentTransform.width, contentHeight));\n        }\n        \n        // \n        shopItems.forEach((item, index) => {\n            this.createShopItem(item, index);\n        });\n    }\n    \n    /**\n     * \n     * @param item \n     * @param index \n     */\n    private createShopItem(item: ShopItem, index: number): void {\n        if (!this.contentNode || !this.shopItemPrefab) return;\n        \n        // \n        const shopItemNode = instantiate(this.shopItemPrefab);\n        const gapHeight = 40;\n\n        \n        // \n        const itemHeight = 100;\n        const yPos = -index * itemHeight - itemHeight / 2 - gapHeight * index;\n        shopItemNode.setPosition(new Vec3(0, yPos, 0));\n        \n        // \n        this.contentNode.addChild(shopItemNode);\n        \n        // ShopItemUI\n        const shopItemUI = shopItemNode.getComponent(ShopItemUI);\n        if (shopItemUI) {\n            // \n            shopItemUI.init(item, \n                // \n                (itemId: string) => {\n                    console.log(`: ${itemId}`);\n                },\n                // \n                (itemId: string) => {\n                    this.buyProduct(itemId);\n                }\n            );\n            \n            // \n            this.shopItemUIs.push(shopItemUI);\n        }\n    }\n    \n    /**\n     * \n     */\n    private updateAllShopItemStates(): void {\n        this.shopItemUIs.forEach(shopItemUI => {\n            if (shopItemUI) {\n                // ShopItemUI\n                // ShopItemUI\n                // ShopItemUI\n                const itemData = shopItemUI.getItemData();\n                if (itemData) {\n                    shopItemUI.init(itemData, \n                        (itemId: string) => {\n                            console.log(`: ${itemId}`);\n                        },\n                        (itemId: string) => {\n                            this.buyProduct(itemId);\n                        }\n                    );\n                }\n            }\n        });\n    }\n\n\n    /**\n     * \n     * @param productId ID\n     */\n    public buyProduct(productId: string) {\n        // \n        const item = ShopManager.instance.getItem(productId);\n        if (!item) {\n            console.error(`: ${productId}`);\n            return;\n        }\n        \n        // \n        const currentCoin = CoinManager.getInstance().getCurrentCoin();\n        \n        // \n        const specialItem = ShopManager.instance.getSpecialItems().find(specialItem => specialItem.id === productId);\n        const price = specialItem ? specialItem.specialPrice! : item.price;\n        \n        // \n        if (currentCoin < price) {\n            // \n            this.showInsufficientBalanceTips(price);\n            return;\n        }\n        \n        // ShopManager\n        ShopManager.instance.purchaseItem(productId, (success, purchasedItem, error) => {\n            if (success) {\n                console.log(`: ${purchasedItem?.name}`);\n                AudioManager.ins.playSound(createBundleObject(\"Res/Audio/buy\", \"LoginBN\"));\n                // \n                this.initShopUI();\n            } else {\n                console.error(`: ${error}`);\n                \n                // \n                this.showPurchaseErrorTips(error || '');\n            }\n        });\n    }\n    \n    /**\n     * \n     * @param requiredPrice \n     */\n    private showInsufficientBalanceTips(requiredPrice: number): void {\n        if (this.tipsLabel) {\n            const currentCoin = CoinManager.getInstance().getCurrentCoin();\n            this.tipsLabel.string = ` ${requiredPrice}  ${currentCoin} `;\n            this.tipsLabel.node.active = true;\n            \n            // 3\n            this.scheduleOnce(() => {\n                if (this.tipsLabel) {\n                    this.tipsLabel.node.active = false;\n                }\n            }, 3);\n        }\n    }\n    \n    /**\n     * \n     * @param errorMessage \n     */\n    private showPurchaseErrorTips(errorMessage: string): void {\n        if (this.tipsLabel) {\n            this.tipsLabel.string = errorMessage;\n            this.tipsLabel.node.active = true;\n            \n            // 3\n            this.scheduleOnce(() => {\n                if (this.tipsLabel) {\n                    this.tipsLabel.node.active = false;\n                }\n            }, 3);\n        }\n    }\n\n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('SHOP_CLOSED');\n            console.log('ShopUI: SHOP_CLOSED');\n        } else {\n            console.warn('ShopUI: SHOP_CLOSED');\n        }\n        \n        // \n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('ShopUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('ShopUI: BACK_TO_MAIN_SCENE');\n        }\n        \n        // \n        this.hide();\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        CoinManager.getInstance().removeEventListener(CoinManager.getInstance().constructor['CoinEventType'].COIN_ADD, this.onCoinChanged.bind(this));\n        CoinManager.getInstance().removeEventListener(CoinManager.getInstance().constructor['CoinEventType'].COIN_SUBTRACT, this.onCoinChanged.bind(this));\n        \n        // \n        this.clearShopItems();\n        \n        super.onDestroy();\n    }\n}\n","import { _decorator, Component, Node } from 'cc';\nimport { GameDataManager } from '../data/GameDataManager';\nimport CoinManager from '../coin/CoinManager';\n\nimport { sys } from 'cc';\nimport { GCtrl } from '../../../GCtrl';\nimport { ToastManager } from './ToastManager';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n * \n */\n@ccclass('SignManager')\nexport class SignManager extends Component {\n    private static _instance: SignManager = null;\n    \n    // \n    private static readonly SIGN_DATA_KEY = 'sign_data';\n    \n    // 1-7\n    private static readonly BASE_REWARDS = [10, 20, 30, 40, 50, 60, 70];\n    \n    // 7\n    private static readonly EXTRA_REWARD = 50;\n    \n    // \n    private signData: {\n        lastSignDate: string;       // YYYY-MM-DD\n        consecutiveDays: number;    // \n        signHistory: boolean[];     // 7true\n        totalSignDays: number;      // \n    } = null;\n    \n    public static get instance(): SignManager {\n        if (!this._instance) {\n            this._instance = new SignManager();\n            this._instance.init();\n        }\n        return this._instance;\n    }\n    \n    private init(): void {\n        this.loadSignData();\n    }\n    \n    /**\n     * \n     */\n    private loadSignData(): void {\n        try {\n            const dataStr = sys.localStorage.getItem(SignManager.SIGN_DATA_KEY);\n            if (dataStr) {\n                this.signData = JSON.parse(dataStr);\n            } else {\n                // \n                this.signData = {\n                    lastSignDate: '',\n                    consecutiveDays: 0,\n                    signHistory: [false, false, false, false, false, false, false],\n                    totalSignDays: 0\n                };\n                this.saveSignData();\n            }\n        } catch (error) {\n            console.error(':', error);\n            // \n            this.signData = {\n                lastSignDate: '',\n                consecutiveDays: 0,\n                signHistory: [false, false, false, false, false, false, false],\n                totalSignDays: 0\n            };\n            this.saveSignData();\n        }\n    }\n    \n    /**\n     * \n     */\n    private saveSignData(): void {\n        try {\n            sys.localStorage.setItem(SignManager.SIGN_DATA_KEY, JSON.stringify(this.signData));\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public canSign(): boolean {\n        const today = this.getTodayDateString();\n        return this.signData.lastSignDate !== today;\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public doSign(): { coins: number, consecutiveDays: number } {\n        if (!this.canSign()) {\n            return { coins: 0, consecutiveDays: this.signData.consecutiveDays };\n        }\n        \n        const today = this.getTodayDateString();\n        const yesterday = this.getYesterdayDateString();\n        \n        // \n        if (this.signData.lastSignDate === yesterday) {\n            // \n            this.signData.consecutiveDays++;\n        } else {\n            // \n            this.signData.consecutiveDays = 1;\n        }\n        \n        // \n        let reward = 0;\n        const dayIndex = (this.signData.consecutiveDays - 1) % 7;\n        \n        if (this.signData.consecutiveDays > 7) {\n            // 750\n            reward = SignManager.BASE_REWARDS[dayIndex] + SignManager.EXTRA_REWARD;\n        } else {\n            // 1-7\n            reward = SignManager.BASE_REWARDS[dayIndex];\n        }\n        \n        // \n        this.signData.lastSignDate = today;\n        this.signData.totalSignDays++;\n        \n        // 7\n        this.updateSignHistory(dayIndex);\n        \n        // \n        this.saveSignData();\n        \n        // \n        CoinManager.getInstance().addCoin(reward, '');\n        \n        return { coins: reward, consecutiveDays: this.signData.consecutiveDays };\n    }\n    \n    /**\n     * 7\n     * @param dayIndex 0-6\n     */\n    private updateSignHistory(dayIndex: number): void {\n        // const today = new Date();\n        // const todayIndex = today.getDay(); // 01...6\n        \n        // \n        const newHistory = [false, false, false, false, false, false, false];\n        newHistory[dayIndex] = true;\n        \n        // \n        for (let i = 0; i <= dayIndex; i++) {\n            newHistory[i] = true;\n        }\n        \n        this.signData.signHistory = newHistory;\n    }\n    \n    /**\n     * 7\n     * @returns 7\n     */\n    public getRecentSignHistory(): boolean[] {\n        return [...this.signData.signHistory];\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getDailyRewards(): number[] {\n        const rewards = [...SignManager.BASE_REWARDS];\n        \n        // 7\n        if (this.signData.consecutiveDays > 7) {\n            for (let i = 0; i < rewards.length; i++) {\n                rewards[i] += SignManager.EXTRA_REWARD;\n            }\n        }\n        \n        return rewards;\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getConsecutiveDays(): number {\n        return this.signData.consecutiveDays;\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getTotalSignDays(): number {\n        return this.signData.totalSignDays;\n    }\n    \n    /**\n     * \n     * \n     */\n    public autoSign(): void {\n        if (this.canSign()) {\n            const result = this.doSign();\n            if (result.coins > 0) {\n                // \n                try {\n                    ToastManager.getInstance().showMessage(`${result.consecutiveDays}${result.coins}`, 5);\n                } catch (error) {\n                    console.error(':', error);\n                    // Toast\n                    console.log(`${result.consecutiveDays}${result.coins}`);\n                }\n            }\n        }\n    }\n\n    /**\n     * padStart\n     */\n    private padStart(str: string, targetLength: number, padString: string): string {\n        targetLength = targetLength >> 0; // \n        str = String(str);\n        if (str.length >= targetLength) {\n            return str;\n        }\n        targetLength = targetLength - str.length;\n        if (targetLength > padString.length) {\n            padString += padString.repeat(Math.ceil(targetLength / padString.length));\n        }\n        return padString.slice(0, targetLength) + str;\n    }\n\n    /**\n     * YYYY-MM-DD\n     */\n    private formatDate(date: Date): string {\n        const year = date.getFullYear();\n        const month = this.padStart(String(date.getMonth() + 1), 2, '0');\n        const day = this.padStart(String(date.getDate()), 2, '0');\n        return `${year}-${month}-${day}`;\n    }\n\n    /**\n     * \n     * @returns YYYY-MM-DD\n     */\n    private getTodayDateString(): string {\n        const today = new Date();\n        return this.formatDate(today);\n    }\n    \n    /**\n     * \n     * @returns YYYY-MM-DD\n     */\n    private getYesterdayDateString(): string {\n        const yesterday = new Date();\n        yesterday.setDate(yesterday.getDate() - 1);\n        return this.formatDate(yesterday);\n    }\n}","import { _decorator, Component, Node, Label, Button } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { SignManager } from './SignManager';\nimport { ToastManager } from './ToastManager';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n * 7\n */\n@ccclass('SignUI')\nexport class SignUI extends BaseUI {\n    @property(Node)\n    ruleNode: Node = null;  // \n    \n    @property(Button)\n    closeButton: Button = null;  // \n    \n    @property(Button)\n    ruleButton: Button = null;  // \n    \n    @property([Label])\n    rewardLabels: Label[] = [];  // SignItem-001007\n    \n    @property(Label)\n    continusDayLabel: Label = null;  // \n    \n    private signItems: Node[] = [];  // \n    \n    protected onLoad(): void {\n        // \n        this.initSignItems();\n        \n        // \n        this.bindButtonEvents();\n        \n        // \n        this.updateSignUI();\n    }\n    \n    /**\n     * padStart\n     */\n    private padStart(str: string, targetLength: number, padString: string): string {\n        targetLength = targetLength >> 0; // \n        str = String(str);\n        if (str.length >= targetLength) {\n            return str;\n        }\n        targetLength = targetLength - str.length;\n        if (targetLength > padString.length) {\n            padString += padString.repeat(Math.ceil(targetLength / padString.length));\n        }\n        return padString.slice(0, targetLength) + str;\n    }\n    \n    /**\n     * \n     */\n    private initSignItems(): void {\n        // SignItem\n        for (let i = 1; i <= 7; i++) {\n            const itemName = `SignItem-${this.padStart(String(i), 3, '0')}`;\n            const itemNode = this.node.getChildByName('itemNode').getChildByName(itemName);\n            if (itemNode) {\n                this.signItems.push(itemNode);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    private bindButtonEvents(): void {\n        if (this.closeButton) {\n            this.closeButton.node.on(Button.EventType.CLICK, this.onCloseClick, this);\n        }\n        \n        if (this.ruleButton) {\n            this.ruleButton.node.on(Button.EventType.CLICK, this.onRuleClick, this);\n        }\n        \n        if (this.ruleNode) {\n            // \n            this.ruleNode.on(Node.EventType.TOUCH_END, this.onRuleNodeClick, this);\n        }\n    }\n    \n    /**\n     * \n     */\n    private updateSignUI(): void {\n        // \n        const signHistory = SignManager.instance.getRecentSignHistory();\n        \n        // \n        const dailyRewards = SignManager.instance.getDailyRewards();\n        \n        // \n        const consecutiveDays = SignManager.instance.getConsecutiveDays();\n        \n        // \n        if (this.continusDayLabel) {\n            this.continusDayLabel.string = `${consecutiveDays}`;\n        }\n        \n        // \n        for (let i = 0; i < 7; i++) {\n            if (i < this.signItems.length && i < this.rewardLabels.length) {\n                const label = this.rewardLabels[i];\n                const isSigned = signHistory[i];\n                const reward = dailyRewards[i];\n                \n                if (label) {\n                    // \n                    label.string = `${reward}`;\n                    \n                    // \"\\n\"\n                    if (isSigned) {\n                        label.string += \"\\n\";\n                    }\n                }\n                console.log(`SignUI: ${i}${reward}${isSigned} ${label.string}`);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('ShopUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('ShopUI: ');\n        }\n        this.hide();\n    }\n    \n    /**\n     * \n     */\n    private onRuleClick(): void {\n        if (this.ruleNode) {\n            this.ruleNode.active = true;\n        }\n    }\n    \n    /**\n     * \n     */\n    private onRuleNodeClick(): void {\n        if (this.ruleNode) {\n            this.ruleNode.active = false;\n        }\n    }\n    \n    /**\n     * \n     */\n    public show(): void {\n        super.show();\n        // \n        console.log('SignUI: ', this.node);\n        console.log('SignUI: ', this.node.name);\n        console.log('SignUI: ', this.node.position);\n        console.log('SignUI: ', this.node.active);\n        // \n        this.updateSignUI();\n    }\n    \n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.node.off(Button.EventType.CLICK, this.onCloseClick, this);\n        }\n        \n        if (this.ruleButton) {\n            this.ruleButton.node.off(Button.EventType.CLICK, this.onRuleClick, this);\n        }\n        \n        if (this.ruleNode) {\n            this.ruleNode.off(Node.EventType.TOUCH_END, this.onRuleNodeClick, this);\n        }\n        \n        super.onDestroy();\n    }\n}","import { _decorator, Color, Component, Node } from 'cc';\nimport { BagItem } from '../bag/BagManager';\nimport { ToastManager } from '../ui/ToastManager';\n\n/**\n * \n */\nexport enum SkillType {\n    TUO_DAO_HUI_MA = 'tuo_dao_hui_ma',     // \n    CAO_CHUAN_JIE_JIAN = 'cao_chuan_jie_jian', // \n    QIAN_KUN_NUO_YI = 'qian_kun_nuo_yi'     // \n}\n\n/**\n * \n */\nexport enum SkillState {\n    READY = 'ready',       // \n    ACTIVE = 'active',     // \n    COOLDOWN = 'cooldown', // \n    DISABLED = 'disabled'  // \n}\n\n/**\n * \n */\nexport interface SkillConfig {\n    id: string;            // ID\n    name: string;          // \n    type: SkillType;       // \n    description: string;   // \n    icon: string;          // \n    cooldown: number;      // \n    duration: number;      // \n    itemId: string;        // ID\n    targetType: string;    // \n    effectParams: any;     // \n}\n\n/**\n * \n */\nexport interface SkillData {\n    id: string;            // ID\n    configId: string;      // ID\n    state: SkillState;     // \n    lastUsedTime: number;  // \n    useCount: number;      // \n}\n\n/**\n * \n */\nexport enum SkillEventType {\n    SKILL_ACTIVATED = 'skill_activated',     // \n    SKILL_EXECUTED = 'skill_executed',       // \n    SKILL_COOLDOWN = 'skill_cooldown',       // \n    SKILL_READY = 'skill_ready',             // \n    SKILL_ERROR = 'skill_error'              // \n}\n\n/**\n * \n */\nexport interface SkillEvent {\n    type: SkillEventType;\n    skillId?: string;\n    data?: any;\n}\n\n/**\n * \n */\nexport abstract class BaseSkill {\n    protected id: string;\n    protected config: SkillConfig;\n    protected data: SkillData;\n    \n    \n    constructor(config: SkillConfig) {\n        this.config = config;\n        this.data = {\n            id: this.generateSkillId(),\n            configId: config.id,\n            state: SkillState.READY,\n            lastUsedTime: 0,\n            useCount: 0\n        };\n    }\n    \n    /**\n     * ID\n     */\n    public getId(): string {\n        return this.id;\n    }\n    \n    /**\n     * \n     */\n    public getConfig(): SkillConfig {\n        return this.config;\n    }\n    \n    /**\n     * \n     */\n    public getData(): SkillData {\n        return this.data;\n    }\n    \n    /**\n     * \n     */\n    public getState(): SkillState {\n        return this.data.state;\n    }\n    \n    /**\n     * \n     */\n    public canUse(): boolean {\n        const now = Date.now();\n        // const cooldownMs = this.config.cooldown * 1000;\n        const timeSinceLastUse = now - this.data.lastUsedTime;\n        return this.onBeforeActivate({timeSinceLastUse: timeSinceLastUse});\n        // return this.data.state === SkillState.READY && timeSinceLastUse >= cooldownMs;\n    }\n    \n    /**\n     * \n     */\n    public getRemainingCooldown(): number {\n        const now = Date.now();\n        const cooldownMs = this.config.cooldown * 1000;\n        const timeSinceLastUse = now - this.data.lastUsedTime;\n        const remainingMs = Math.max(0, cooldownMs - timeSinceLastUse);\n        \n        return remainingMs / 1000;\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    public async use(params?: any): Promise<boolean> {\n        if (!this.canUse()) {\n            console.warn(` ${this.config.name} : ${this.data.state}`);\n            return false;\n        }\n        \n        try {\n            // \n            this.data.state = SkillState.ACTIVE;\n            \n            // \n            const result = await this.onExecute(params);\n            \n            if (result) {\n                // \n                this.data.lastUsedTime = Date.now();\n                this.data.useCount++;\n                \n                // \n                this.data.state = SkillState.COOLDOWN;\n                \n                console.log(` ${this.config.name} `);\n                return true;\n            } else {\n                // \n                this.data.state = SkillState.READY;\n                console.warn(` ${this.config.name} `);\n                return false;\n            }\n        } catch (error) {\n            // \n            this.data.state = SkillState.READY;\n            console.error(` ${this.config.name} `, error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param deltaTime \n     */\n    public update(deltaTime: number): void {\n        if (this.data.state === SkillState.COOLDOWN) {\n            const remainingCooldown = this.getRemainingCooldown();\n            \n            if (remainingCooldown <= 0) {\n                this.data.state = SkillState.READY;\n                console.log(` ${this.config.name} `);\n            }\n        }\n    }\n    \n    /**\n     * ID\n     */\n    private generateSkillId(): string {\n        return `skill_${this.config.id}_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected abstract onExecute(params?: any): Promise<boolean>;\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected onBeforeActivate(params?: any): boolean {\n        return true;\n    }\n    \n    /**\n     * \n     * @param params \n     * @param result \n     */\n    protected onAfterExecute(params?: any): void {\n        // \n    }\n\n    protected sendToast(message: string, duration: number = 3): void {\n        console.log('ToastManager Skill:', message);\n        \n        // \n        const fontColor = new Color(255, 0, 0, 255); // \n        const outlineColor = new Color(255, 255, 0, 255); // \n        \n        // UIManageropenUIToast\n        ToastManager.getInstance().showToastWithUIManagerAndStyle(message, duration, 45, fontColor, outlineColor, 3);\n    }\n}","import { _decorator, sys } from 'cc';\nimport { BaseSkill } from './SkillBase';\nimport { TuoDaoHuiMaSkill } from './TuoDaoHuiMaSkill';\nimport { CaoChuanJieJianSkill } from './CaoChuanJieJianSkill';\nimport { QianKunNuoYiSkill } from './QianKunNuoYiSkill';\nimport { SkillConfig, SkillData, SkillEventType, SkillEvent, SkillType } from './SkillBase';\nimport { BagManager, BagItem, ItemType } from '../bag/BagManager';\n\n/**\n * \n * \n */\nexport class SkillManager {\n    private static _instance: SkillManager;\n    private _skills: Map<string, BaseSkill> = new Map<string, BaseSkill>(); // ID\n    private _skillConfigs: Map<string, SkillConfig> = new Map<string, SkillConfig>(); // ID\n    private _skillData: Map<string, SkillData> = new Map<string, SkillData>(); // ID\n    private _eventListeners: Map<SkillEventType, Function[]> = new Map<SkillEventType, Function[]>(); // \n    private _gameUI: any; // UI\n    \n    /**\n     * SkillManager\n     */\n    public static getInstance(): SkillManager {\n        if (!this._instance) {\n            this._instance = new SkillManager();\n        }\n        return this._instance;\n    }\n\n    /**\n     * \n     */\n    private constructor() {\n        // \n        Object.keys(SkillEventType).forEach((key: string) => {\n            const type = SkillEventType[key as keyof typeof SkillEventType];\n            this._eventListeners.set(type, []);\n        });\n        \n        // \n        this.initSkillConfigs();\n    }\n\n    /**\n     * \n     * @param gameUI UI\n     */\n    public init(gameUI?: any): void {\n        console.log('SkillManager: ');\n        \n        // gameUIGCtrl\n        if (!gameUI) {\n            try {\n                // gCtrlUI\n                this._gameUI = (globalThis as any).gCtrl?.getCurrentGameUI();\n                if (!this._gameUI) {\n                    console.warn('SkillManager: GCtrlUI');\n                }\n            } catch (error) {\n                console.error('SkillManager: UI', error);\n            }\n        } else {\n            this._gameUI = gameUI;\n        }\n        \n        this.loadSkillData();\n        this.initSkills();\n    }\n\n    /**\n     * \n     */\n    private initSkillConfigs(): void {\n        // \n        const tuoDaoHuiMaConfig: SkillConfig = {\n            id: 'tuo_dao_hui_ma',\n            name: '',\n            type: SkillType.TUO_DAO_HUI_MA,\n            description: '',\n            icon: 'textures/skills/tuo_dao_hui_ma',\n            cooldown: 0, // 30\n            duration: 0,   // \n            itemId: 'item_tdhm_001', // ID\n            targetType: 'collection',\n            effectParams: {}\n        };\n        \n        // \n        const caoChuanJieJianConfig: SkillConfig = {\n            id: 'cao_chuan_jie_jian',\n            name: '',\n            type: SkillType.CAO_CHUAN_JIE_JIAN,\n            description: '3',\n            icon: 'textures/skills/cao_chuan_jie_jian',\n            cooldown: 45, // 45\n            duration: 0,  // \n            itemId: 'item_ccjj_001', // ID\n            targetType: 'board',\n            effectParams: { count: 3 }\n        };\n        \n        // \n        const qianKunNuoYiConfig: SkillConfig = {\n            id: 'qian_kun_nuo_yi',\n            name: '',\n            type: SkillType.QIAN_KUN_NUO_YI,\n            description: '',\n            icon: 'textures/skills/qian_kun_nuo_yi',\n            cooldown: 60, // 60\n            duration: 0,  // \n            itemId: 'item_qkny_001', // ID\n            targetType: 'board',\n            effectParams: {}\n        };\n        \n        // \n        this._skillConfigs.set(tuoDaoHuiMaConfig.id, tuoDaoHuiMaConfig);\n        this._skillConfigs.set(caoChuanJieJianConfig.id, caoChuanJieJianConfig);\n        this._skillConfigs.set(qianKunNuoYiConfig.id, qianKunNuoYiConfig);\n    }\n\n    /**\n     * \n     */\n    private initSkills(): void {\n        if (!this._gameUI) {\n            console.error('SkillManager: UI');\n            return;\n        }\n        \n        // \n        this._skills.clear();\n        \n        // \n        const tuoDaoHuiMaConfig = this._skillConfigs.get('tuo_dao_hui_ma');\n        if (tuoDaoHuiMaConfig) {\n            const tuoDaoHuiMaSkill = new TuoDaoHuiMaSkill(tuoDaoHuiMaConfig, this._gameUI);\n            this._skills.set(tuoDaoHuiMaSkill.getConfig().id, tuoDaoHuiMaSkill);\n        }\n        \n        // \n        const caoChuanJieJianConfig = this._skillConfigs.get('cao_chuan_jie_jian');\n        if (caoChuanJieJianConfig) {\n            const caoChuanJieJianSkill = new CaoChuanJieJianSkill(caoChuanJieJianConfig, this._gameUI);\n            this._skills.set(caoChuanJieJianSkill.getConfig().id, caoChuanJieJianSkill);\n        }\n        \n        // \n        const qianKunNuoYiConfig = this._skillConfigs.get('qian_kun_nuo_yi');\n        if (qianKunNuoYiConfig) {\n            const qianKunNuoYiSkill = new QianKunNuoYiSkill(qianKunNuoYiConfig, this._gameUI);\n            this._skills.set(qianKunNuoYiSkill.getConfig().id, qianKunNuoYiSkill);\n        }\n        \n        console.log(`SkillManager: ${this._skills.size}`);\n    }\n\n    /**\n     * \n     */\n    private loadSkillData(): void {\n        try {\n            const data = sys.localStorage.getItem('skill_data');\n            if (data) {\n                const parsedData = JSON.parse(data);\n                // Map\n                this._skillData = new Map<string, SkillData>();\n                if (parsedData.data) {\n                    Object.keys(parsedData.data).forEach(key => {\n                        this._skillData.set(key, parsedData.data[key]);\n                    });\n                }\n                console.log('SkillManager: ');\n            } else {\n                console.log('SkillManager: ');\n            }\n        } catch (error) {\n            console.error('SkillManager: ', error);\n            this._skillData = new Map<string, SkillData>();\n        }\n    }\n\n    /**\n     * \n     */\n    private saveSkillData(): void {\n        try {\n            // Map\n            const dataObj: { [key: string]: SkillData } = {};\n            this._skillData.forEach((value, key) => {\n                dataObj[key] = value;\n            });\n            \n            const data = {\n                data: dataObj\n            };\n            sys.localStorage.setItem('skill_data', JSON.stringify(data));\n        } catch (error) {\n            console.error('SkillManager: ', error);\n        }\n    }\n\n    /**\n     * \n     * @param itemId ID\n     * @returns \n     */\n    public async useSkillByItem(itemId: string): Promise<boolean> {\n        // \n        let targetConfig: SkillConfig | null = null;\n        \n        for (const config of this._skillConfigs.values()) {\n            if (config.itemId === itemId) {\n                targetConfig = config;\n                break;\n            }\n        }\n        \n        if (!targetConfig) {\n            console.warn(`SkillManager: ID${itemId}`);\n            return false;\n        }\n        \n        // \n        let targetSkill: BaseSkill | null = null;\n        \n        for (const skill of this._skills.values()) {\n            if (skill.getConfig().id === targetConfig.id) {\n                targetSkill = skill;\n                break;\n            }\n        }\n        \n        if (!targetSkill) {\n            console.warn(`SkillManager: ID${targetConfig.id}`, targetConfig, this._skills);\n            return false;\n        }\n        \n        // \n        if (!targetSkill.canUse()) {\n            console.warn(`SkillManager: ${targetConfig.name}`);\n            return false;\n        }\n        \n        // \n        const result = await targetSkill.use();\n        \n        if (result) {\n            // \n            const skillData = targetSkill.getData();\n            this._skillData.set(targetSkill.getId(), skillData);\n            this.saveSkillData();\n            \n            // \n            this.triggerEvent({ type: SkillEventType.SKILL_EXECUTED, skillId: targetSkill.getId() });\n            \n            console.log(`SkillManager: ${targetConfig.name}`);\n            return true;\n        } else {\n            // \n            this.triggerEvent({ type: SkillEventType.SKILL_ERROR, skillId: targetSkill.getId() });\n            \n            console.warn(`SkillManager: ${targetConfig.name}`);\n            return false;\n        }\n    }\n\n    /**\n     * \n     * @param configId ID\n     * @returns null\n     */\n    public getSkillConfig(configId: string): SkillConfig | null {\n        return this._skillConfigs.get(configId) || null;\n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getAllSkillConfigs(): SkillConfig[] {\n        const configs: SkillConfig[] = [];\n        this._skillConfigs.forEach(value => {\n            configs.push(value);\n        });\n        return configs;\n    }\n\n    /**\n     * \n     * @param skillId ID\n     * @returns null\n     */\n    public getSkill(skillId: string): BaseSkill | null {\n        return this._skills.get(skillId) || null;\n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getAllSkills(): BaseSkill[] {\n        const skills: BaseSkill[] = [];\n        this._skills.forEach(value => {\n            skills.push(value);\n        });\n        return skills;\n    }\n\n    /**\n     * \n     * @param deltaTime \n     */\n    public update(deltaTime: number): void {\n        this._skills.forEach(skill => {\n            skill.update(deltaTime);\n        });\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param callback \n     */\n    public addEventListener(eventType: SkillEventType, callback: Function): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            listeners.push(callback);\n        }\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param callback \n     */\n    public removeEventListener(eventType: SkillEventType, callback: Function): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            const index = listeners.indexOf(callback);\n            if (index !== -1) {\n                listeners.splice(index, 1);\n            }\n        }\n    }\n\n    /**\n     * \n     * @param event \n     */\n    private triggerEvent(event: SkillEvent): void {\n        const listeners = this._eventListeners.get(event.type);\n        if (listeners) {\n            listeners.forEach(callback => {\n                try {\n                    callback(event);\n                } catch (error) {\n                    console.error(`SkillManager: `, error);\n                }\n            });\n        }\n    }\n}","import { SpriteFrame, Texture2D, Rect, Vec2 } from \"cc\";\nimport { createBundleObject } from \"../core/modules/res/ResConst\";\nimport { ResManager } from \"../core/modules/res/ResManager\";\n\nexport class SpriteFramesCfg {\n    private static _charactersTexture: Texture2D = null;\n    private static _charactersSpriteFrames: Map<number, SpriteFrame> = new Map();\n    private static _isInitialized: boolean = false;\n    private static _initPromise: Promise<void> | null = null;\n\n    /**\n     * characters\n     */\n    public static initCharactersTexture(): Promise<void> {\n        if (this._isInitialized) {\n            return Promise.resolve();\n        }\n\n        if (this._initPromise) {\n            return this._initPromise;\n        }\n\n        this._initPromise = this._doInitCharactersTexture();\n        return this._initPromise;\n    }\n\n    private static async _doInitCharactersTexture(): Promise<void> {\n        const resManager = new ResManager();\n\n        try {\n            // spriteFrametexture\n            const textureUrl = createBundleObject(\"yang/SpriteFrames/characters/characters/texture\", \"Match3BN\");\n            const texture = await resManager.loadAssetAsync<Texture2D>(textureUrl, Texture2D);\n            if (texture) {\n                this.setCharactersTexture(texture);\n                this._isInitialized = true;\n                console.log(\"Characters texture loaded directly\");\n                return;\n            }\n        } catch (error) {\n            console.error(\"Error loading characters texture:\", error);\n        }\n\n        console.error(\"Failed to load characters texture through all methods\");\n    }\n\n    /**\n     * charactersSpriteFrame\n     * @param index  (0-44, 59)\n     * @returns SpriteFrame\n     */\n    private static createCharacterSpriteFrame(index: number): SpriteFrame {\n        if (!this._charactersTexture) {\n            console.error(\"Characters texture not loaded, call initCharactersTexture() first\");\n            return null;\n        }\n\n        // 5945\n        const cols = 10;\n        const rows = 12;\n        const totalCount = cols * rows;\n\n        if (index < 0 || index >= totalCount) {\n            console.error(`Character index out of range: ${index}, should be 0-${totalCount - 1}`);\n            return null;\n        }\n\n        // \n        const textureWidth = this._charactersTexture.width;\n        const textureHeight = this._charactersTexture.height;\n        const cellWidth = textureWidth / cols;\n        const cellHeight = textureHeight / rows;\n\n        // \n        const col = index % cols;\n        const row = Math.floor(index / cols);\n\n        //  (Cocos CreatorY)\n        const x = col * cellWidth;\n        const y = row * cellHeight; // Y\n\n        // SpriteFrame\n        const spriteFrame = new SpriteFrame();\n        spriteFrame.texture = this._charactersTexture;\n        spriteFrame.rect = new Rect(x, y, cellWidth, cellHeight);\n        spriteFrame.offset = new Vec2(0, 0);\n\n        return spriteFrame;\n    }\n\n    /**\n     * SpriteFrame ()\n     * @param index  (0-44)\n     * @returns SpriteFrame | null\n     */\n    public static getCharacterSpriteFrame(index: number): SpriteFrame | null {\n        // null\n        if (!this._isInitialized) {\n            console.warn(\"Characters texture not initialized. Call initCharactersTexture() first.\");\n            return null;\n        }\n\n        // \n        if (this._charactersSpriteFrames.has(index)) {\n            return this._charactersSpriteFrames.get(index);\n        }\n\n        // SpriteFrame\n        const spriteFrame = this.createCharacterSpriteFrame(index);\n        if (spriteFrame) {\n            this._charactersSpriteFrames.set(index, spriteFrame);\n        }\n\n        return spriteFrame;\n    }\n\n    /**\n     * SpriteFrame\n     * @param index  (0-44)\n     * @returns Promise<SpriteFrame | null>\n     */\n    public static async getCharacterSpriteFrameAsync(index: number): Promise<SpriteFrame | null> {\n        await this.initCharactersTexture();\n        return this.getCharacterSpriteFrame(index);\n    }\n\n    /**\n     * characters\n     * @param texture Texture2D\n     */\n    public static setCharactersTexture(texture: Texture2D) {\n        this._charactersTexture = texture;\n        // \n        this._charactersSpriteFrames.clear();\n    }\n\n    //-----------Match3BN---------\n    // characterskey0-4459\n    // initCharactersTexture()\n    static pai = (key: string | number) => {\n        const index = typeof key === 'string' ? parseInt(key) : key;\n        return this.getCharacterSpriteFrame(index);\n    };\n\n    // pai\n    static async paiAsync(key: string | number): Promise<SpriteFrame | null> {\n        const index = typeof key === 'string' ? parseInt(key) : key;\n        return await this.getCharacterSpriteFrameAsync(index);\n    }\n}","/**\n * \n */\nexport interface Task {\n    /** ID */\n    id: string;\n    /**  */\n    type: 'daily' | 'achievement';\n    /**  */\n    title: string;\n    /**  */\n    description: string;\n    /**  */\n    target: number;\n    /**  */\n    progress: number;\n    /**  */\n    status: 'unaccepted' | 'accepted' | 'completed' | 'rewarded';\n    /**  */\n    rewards: Reward[];\n    /**  */\n    unlocked?: boolean;\n    /**  */\n    unlockCondition?: {\n        type: string;\n        value: any;\n        taskId?: string;  // IDtype'previous_task'\n    };\n    /**  */\n    condition?: string;\n    /**  */\n    triggerEvent?: string;\n}\n\n/**\n * \n */\nexport interface Reward {\n    /**  */\n    type: 'coin' | 'item' | 'hero' | 'exp' | 'vip_exp';\n    /** ID */\n    itemId: string;\n    /**  */\n    count: number;\n    /** IDtype'hero' */\n    heroId?: string;\n}\n\n/**\n * \n */\nexport class TaskConfig {\n    private static _instance: TaskConfig = null;\n    private _taskConfigs: { [key: string]: Task } = {};\n    \n    /**\n     * \n     */\n    public static getInstance(): TaskConfig {\n        if (!TaskConfig._instance) {\n            TaskConfig._instance = new TaskConfig();\n        }\n        return TaskConfig._instance;\n    }\n    \n    /**\n     * \n     */\n    private constructor() {\n        this.init();\n    }\n    \n    /**\n     * \n     */\n    private init(): void {\n        this.loadTaskConfigs();\n    }\n    \n    /**\n     * \n     */\n    private loadTaskConfigs(): void {\n        // \n        this._taskConfigs['daily_001'] = {\n            id: 'daily_001',\n            type: 'daily',\n            title: '',\n            description: '',\n            target: 1,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 100 }\n            ]\n        };\n        \n        this._taskConfigs['daily_002'] = {\n            id: 'daily_002',\n            type: 'daily',\n            title: '',\n            description: '',\n            target: 1,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 200 }\n            ]\n        };\n        \n        this._taskConfigs['daily_003'] = {\n            id: 'daily_003',\n            type: 'daily',\n            title: '',\n            description: '',\n            target: 1,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 50 }\n            ]\n        };\n        \n        this._taskConfigs['daily_004'] = {\n            id: 'daily_004',\n            type: 'daily',\n            title: '',\n            description: '',\n            target: 1,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'item', itemId: 'item_001', count: 1 }\n            ]\n        };\n        \n        // \n        this._taskConfigs['achievement_001'] = {\n            id: 'achievement_001',\n            type: 'achievement',\n            title: '',\n            description: '10',\n            target: 10,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'item', itemId: 'item_001', count: 1 }\n            ],\n            unlocked: true\n        };\n        \n        this._taskConfigs['achievement_002'] = {\n            id: 'achievement_002',\n            type: 'achievement',\n            title: '',\n            description: '50',\n            target: 50,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 1000 },\n                { type: 'item', itemId: 'item_002', count: 1 }\n            ],\n            unlocked: true\n        };\n        \n        this._taskConfigs['achievement_003'] = {\n            id: 'achievement_003',\n            type: 'achievement',\n            title: '',\n            description: '1000',\n            target: 1000,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 500 }\n            ],\n            unlocked: true\n        };\n        \n        this._taskConfigs['achievement_004'] = {\n            id: 'achievement_004',\n            type: 'achievement',\n            title: '',\n            description: '5000',\n            target: 5000,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 2000 },\n                { type: 'item', itemId: 'item_003', count: 1 }\n            ],\n            unlocked: true\n        };\n        \n        this._taskConfigs['achievement_005'] = {\n            id: 'achievement_005',\n            type: 'achievement',\n            title: '',\n            description: '10',\n            target: 10,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'item', itemId: 'item_004', count: 1 }\n            ],\n            unlocked: true\n        };\n        \n        this._taskConfigs['achievement_006'] = {\n            id: 'achievement_006',\n            type: 'achievement',\n            title: '',\n            description: '20',\n            target: 20,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 800 }\n            ],\n            unlocked: true\n        };\n        \n        // \n        this._taskConfigs['achievement_007'] = {\n            id: 'achievement_007',\n            type: 'achievement',\n            title: '',\n            description: '100',\n            target: 100,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 3000 },\n                { type: 'item', itemId: 'item_005', count: 1 }\n            ],\n            unlocked: false,\n            unlockCondition: {\n                type: 'achievement_completed',\n                value: 'achievement_002'\n            }\n        };\n        \n        this._taskConfigs['achievement_008'] = {\n            id: 'achievement_008',\n            type: 'achievement',\n            title: '',\n            description: '10000',\n            target: 10000,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 5000 },\n                { type: 'item', itemId: 'item_006', count: 1 }\n            ],\n            unlocked: false,\n            unlockCondition: {\n                type: 'achievement_completed',\n                value: 'achievement_004'\n            }\n        };\n    }\n    \n    /**\n     * \n     */\n    public getTaskConfig(taskId: string): Task | null {\n        return this._taskConfigs[taskId] || null;\n    }\n    \n    /**\n     * \n     */\n    public getAllTaskConfigs(): { [key: string]: Task } {\n        return { ...this._taskConfigs };\n    }\n    \n    /**\n     * \n     */\n    public getDailyTaskConfigs(): { [key: string]: Task } {\n        const dailyTasks: { [key: string]: Task } = {};\n        for (const taskId in this._taskConfigs) {\n            if (this._taskConfigs[taskId].type === 'daily') {\n                dailyTasks[taskId] = this._taskConfigs[taskId];\n            }\n        }\n        return dailyTasks;\n    }\n    \n    /**\n     * \n     */\n    public getAchievementTaskConfigs(): { [key: string]: Task } {\n        const achievementTasks: { [key: string]: Task } = {};\n        for (const taskId in this._taskConfigs) {\n            if (this._taskConfigs[taskId].type === 'achievement') {\n                achievementTasks[taskId] = this._taskConfigs[taskId];\n            }\n        }\n        return achievementTasks;\n    }\n    \n    /**\n     * \n     */\n    public getUnlockedAchievementTaskConfigs(): { [key: string]: Task } {\n        const unlockedTasks: { [key: string]: Task } = {};\n        for (const taskId in this._taskConfigs) {\n            if (this._taskConfigs[taskId].type === 'achievement' && this._taskConfigs[taskId].unlocked) {\n                unlockedTasks[taskId] = this._taskConfigs[taskId];\n            }\n        }\n        return unlockedTasks;\n    }\n    \n    /**\n     * \n     */\n    public isTaskUnlocked(taskId: string): boolean {\n        const task = this._taskConfigs[taskId];\n        if (!task) {\n            return false;\n        }\n        \n        // \n        if (!task.unlockCondition) {\n            return true;\n        }\n        \n        // TODO: \n        // unlocked\n        return task.unlocked || false;\n    }\n    \n    /**\n     * \n     */\n    public unlockTask(taskId: string): boolean {\n        const task = this._taskConfigs[taskId];\n        if (!task) {\n            console.error('', taskId);\n            return false;\n        }\n        \n        if (task.unlocked) {\n            console.warn('', taskId);\n            return true;\n        }\n        \n        // \n        if (task.unlockCondition) {\n            // TODO: \n            // \n            task.unlocked = true;\n            return true;\n        }\n        \n        return false;\n    }\n}","/**\n * \n * \n */\nimport { TaskConfig, Task, Reward } from './TaskConfig';\nimport CoinManager from '../coin/CoinManager';\n\nexport class TaskManager {\n    private static _instance: TaskManager = null;\n    \n    // \n    public static readonly TaskType = {\n        DAILY: 'daily',      // \n        ACHIEVEMENT: 'achievement'  // \n    };\n    \n    // \n    public static readonly TaskStatus = {\n        UNACCEPTED: 'unaccepted' as 'unaccepted',    // \n        ACCEPTED: 'accepted' as 'accepted',            // \n        COMPLETED: 'completed' as 'completed',        // \n        REWARDED: 'rewarded' as 'rewarded'            // \n    };\n    \n    // \n    private _dailyTasks: Task[] = [];          // \n    private _achievementTasks: Task[] = [];    // \n    private _taskRecords: { [key: string]: any } = {};           // \n    \n    // \n    private _taskUpdateCallbacks: Function[] = [];    // \n    private _taskCompleteCallbacks: Function[] = [];  // \n    private _taskRewardClaimedCallbacks: Function[] = [];  // \n    private _onDailyTasksRefreshed: Function = null;  // \n    \n    /**\n     * \n     */\n    public static getInstance(): TaskManager {\n        if (!TaskManager._instance) {\n            TaskManager._instance = new TaskManager();\n        }\n        return TaskManager._instance;\n    }\n    \n    /**\n     * \n     */\n    private constructor() {\n        // init\n    }\n    \n    /**\n     * \n     */\n    public init(): void {\n        this.loadTaskData();\n        this.loadTaskRecords();\n        this.checkDailyTasksRefresh();\n    }\n    \n    /**\n     * \n     */\n    private loadTaskData(): void {\n        const taskConfig = TaskConfig.getInstance();\n        \n        // \n        const dailyTaskConfigs = taskConfig.getDailyTaskConfigs();\n        this._dailyTasks = [];\n        for (const taskId in dailyTaskConfigs) {\n            // \n            const task = JSON.parse(JSON.stringify(dailyTaskConfigs[taskId]));\n            this._dailyTasks.push(task);\n        }\n        \n        // \n        const achievementTaskConfigs = taskConfig.getAchievementTaskConfigs();\n        this._achievementTasks = [];\n        for (const taskId in achievementTaskConfigs) {\n            // \n            const task = JSON.parse(JSON.stringify(achievementTaskConfigs[taskId]));\n            this._achievementTasks.push(task);\n        }\n    }\n    \n    /**\n     * \n     */\n    private checkDailyTasksRefresh(): void {\n        const today = new Date().toDateString();\n        const lastRefreshDate = this._taskRecords['lastDailyRefresh'] || '';\n        \n        // \n        if (lastRefreshDate !== today) {\n            this.refreshDailyTasks();\n        }\n    }\n    \n    /**\n     * \n     */\n    private loadTaskRecords(): void {\n        // TODO: \n        // \n        this._taskRecords = {};\n    }\n    \n    /**\n     * \n     */\n    private saveTaskRecords(): void {\n        // TODO: \n        console.log('', this._taskRecords);\n    }\n    \n    /**\n     * \n     * @param taskId ID\n     * @param record \n     */\n    private saveTaskRecord(taskId: string, record: any): void {\n        this._taskRecords[taskId] = { ...this._taskRecords[taskId], ...record };\n        this.saveTaskRecords();\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getDailyTasks(): Task[] {\n        return [...this._dailyTasks]; // \n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getAchievementTasks(): Task[] {\n        return [...this._achievementTasks]; // \n    }\n    \n    /**\n     * \n     */\n    public getAllTasks(): Task[] {\n        return [...this._dailyTasks, ...this._achievementTasks];\n    }\n    \n    /**\n     * ID\n     */\n    public getTaskById(taskId: string): Task {\n        const task = this._dailyTasks.find(t => t.id === taskId);\n        if (task) {\n            return task;\n        }\n        return this._achievementTasks.find(t => t.id === taskId);\n    }\n    \n    /**\n     * \n     * @param taskId ID\n     * @returns \n     */\n    public acceptTask(taskId: string): boolean {\n        // \n        let task: Task = null;\n        for (const t of this._dailyTasks) {\n            if (t.id === taskId) {\n                task = t;\n                break;\n            }\n        }\n        \n        if (!task) {\n            for (const t of this._achievementTasks) {\n                if (t.id === taskId) {\n                    task = t;\n                    break;\n                }\n            }\n        }\n        \n        if (!task) {\n            console.error(`Task not found: ${taskId}`);\n            return false;\n        }\n        \n        // \n        if (task.status !== TaskManager.TaskStatus.UNACCEPTED) {\n            console.error(`Task cannot be accepted, current status: ${task.status}`);\n            return false;\n        }\n        \n        // \n        task.status = TaskManager.TaskStatus.ACCEPTED;\n        \n        // \n        this.saveTaskRecord(taskId, {\n            status: task.status,\n            progress: task.progress,\n            acceptTime: Date.now()\n        });\n        \n        // \n        this.triggerTaskUpdateCallbacks(task);\n        \n        return true;\n    }\n    \n    /**\n     * \n     * @param taskId ID\n     * @param progress \n     * @returns \n     */\n    public updateTaskProgress(taskId: string, progress: number): boolean {\n        // \n        let task: Task = null;\n        for (const t of this._dailyTasks) {\n            if (t.id === taskId) {\n                task = t;\n                break;\n            }\n        }\n        \n        if (!task) {\n            for (const t of this._achievementTasks) {\n                if (t.id === taskId) {\n                    task = t;\n                    break;\n                }\n            }\n        }\n        \n        if (!task) {\n            console.error(`Task not found: ${taskId}`);\n            return false;\n        }\n        \n        // \n        if (task.status !== TaskManager.TaskStatus.ACCEPTED) {\n            console.error(`Task cannot be updated, current status: ${task.status}`);\n            return false;\n        }\n        \n        // \n        task.progress = Math.min(progress, task.target);\n        \n        // \n        this.saveTaskRecord(taskId, {\n            status: task.status,\n            progress: task.progress\n        });\n        \n        // \n        if (task.progress >= task.target) {\n            task.status = TaskManager.TaskStatus.COMPLETED;\n            \n            // \n            this.saveTaskRecord(taskId, {\n                status: task.status,\n                progress: task.progress,\n                completeTime: Date.now()\n            });\n            \n            // \n            this.triggerTaskCompleteCallbacks(task);\n        }\n        \n        // \n        this.triggerTaskRewardClaimedCallbacks(task);\n        \n        return true;\n    }\n    \n    /**\n     * \n     * @param taskId ID\n     * @returns \n     */\n    public claimTaskReward(taskId: string): boolean {\n        const task = this.getTaskById(taskId);\n        if (!task) {\n            console.error('', taskId);\n            return false;\n        }\n        \n        if (task.status !== TaskManager.TaskStatus.COMPLETED) {\n            console.error('', taskId, task.status);\n            return false;\n        }\n        \n        // \n        const rewardResults = [];\n        for (const reward of task.rewards) {\n            const result = this.grantReward(reward);\n            rewardResults.push({\n                type: reward.type,\n                success: result.success,\n                data: result.data\n            });\n            \n            if (!result.success) {\n                console.error(`: ${reward.type}`, result.error);\n            }\n        }\n        \n        // \n        const allRewardsGranted = rewardResults.every(r => r.success);\n        \n        if (allRewardsGranted) {\n            task.status = TaskManager.TaskStatus.REWARDED;\n            \n            // \n            this.saveTaskRecord(taskId, {\n                status: task.status,\n                progress: task.progress,\n                claimTime: Date.now()\n            });\n            \n            // \n            this.triggerTaskRewardClaimedCallbacks(task);\n            \n            return true;\n        } else {\n            // \n            this.rollbackRewards(rewardResults.filter(r => r.success));\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param reward \n     * @returns \n     */\n    private grantReward(reward: Reward): { success: boolean; data?: any; error?: string } {\n        try {\n            switch (reward.type) {\n                case 'coin':\n                    // CoinManager\n                    const coinManager = CoinManager.getInstance();\n                    coinManager.addCoin(reward.count, '');\n                    console.log(` ${reward.count}`);\n                    return { success: true, data: { coin: reward.count } };\n                    \n                case 'item':\n                    // \n                    // TODO: BagManager\n                    console.log('', reward.itemId, reward.count);\n                    // BagManager\n                    return { success: true, data: { item: reward.itemId, count: reward.count } };\n                    \n                case 'hero':\n                    // \n                    // TODO: HeroManager\n                    console.log('', reward.heroId);\n                    // HeroManager\n                    return { success: true, data: { hero: reward.heroId } };\n                    \n                case 'exp':\n                    // \n                    // TODO: PlayerManager\n                    console.log('', reward.count);\n                    // PlayerManager\n                    return { success: true, data: { exp: reward.count } };\n                    \n                case 'vip_exp':\n                    // VIP\n                    // TODO: VIPManagerVIP\n                    console.log('VIP', reward.count);\n                    // VIPManager\n                    return { success: true, data: { vipExp: reward.count } };\n                    \n                default:\n                    console.error('', reward.type);\n                    return { success: false, error: `: ${reward.type}` };\n            }\n        } catch (e) {\n            console.error('', e);\n            return { success: false, error: e.message };\n        }\n    }\n    \n    /**\n     * \n     * @param grantedRewards \n     */\n    private rollbackRewards(grantedRewards: any[]): void {\n        for (const reward of grantedRewards) {\n            try {\n                switch (reward.type) {\n                    case 'coin':\n                        // CoinManager\n                        const coinManager = CoinManager.getInstance();\n                        coinManager.subtractCoin(reward.data.coin, `: ${reward.data.coin}`);\n                        console.log('', reward.data.coin);\n                        break;\n                        \n                    case 'item':\n                        // TODO: BagManager\n                        console.log('', reward.data.item, reward.data.count);\n                        break;\n                        \n                    case 'hero':\n                        // TODO: HeroManager\n                        console.log('', reward.data.hero);\n                        break;\n                        \n                    case 'exp':\n                        // TODO: PlayerManager\n                        console.log('', reward.data.exp);\n                        break;\n                        \n                    case 'vip_exp':\n                        // TODO: VIPManagerVIP\n                        console.log('VIP', reward.data.vipExp);\n                        break;\n                }\n            } catch (e) {\n                console.error('', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param taskIds ID\n     * @returns \n     */\n    public claimMultipleTaskRewards(taskIds: string[]): { [taskId: string]: boolean } {\n        const results: { [taskId: string]: boolean } = {};\n        \n        for (const taskId of taskIds) {\n            results[taskId] = this.claimTaskReward(taskId);\n        }\n        \n        return results;\n    }\n    \n    /**\n     * \n     * @returns ID\n     */\n    public getClaimableTasks(): string[] {\n        const allTasks = this.getAllTasks();\n        return allTasks\n            .filter(task => task.status === TaskManager.TaskStatus.COMPLETED)\n            .map(task => task.id);\n    }\n    \n    /**\n     * \n     * \n     * @param eventType \n     * @param eventData \n     */\n    public checkAchievementProgress(eventType: string, eventData: any): void {\n        const taskConfig = TaskConfig.getInstance();\n        const achievementConfigs = taskConfig.getAchievementTaskConfigs();\n        \n        for (const taskId in achievementConfigs) {\n            const config = achievementConfigs[taskId];\n            \n            // \n            if (config.triggerEvent === eventType) {\n                let task = this._achievementTasks.find(t => t.id === taskId);\n                \n                // \n                if (!task) {\n                    task = JSON.parse(JSON.stringify(config));\n                    this._achievementTasks.push(task);\n                }\n                \n                // \n                if (task.status === TaskManager.TaskStatus.UNACCEPTED) {\n                    this.acceptTask(taskId);\n                }\n                \n                // \n                let newProgress = task.progress;\n                \n                switch (eventType) {\n                    case 'login':\n                        // \n                        if (config.condition === 'login_days') {\n                            // TODO: \n                            newProgress = (this._taskRecords[`${taskId}_loginDays`] || 0) + 1;\n                            this._taskRecords[`${taskId}_loginDays`] = newProgress;\n                        }\n                        break;\n                        \n                    case 'battle_win':\n                        // \n                        if (config.condition === 'battle_wins') {\n                            newProgress = (this._taskRecords[`${taskId}_battleWins`] || 0) + 1;\n                            this._taskRecords[`${taskId}_battleWins`] = newProgress;\n                        }\n                        break;\n                        \n                    case 'hero_collect':\n                        // \n                        if (config.condition === 'hero_count') {\n                            // eventData\n                            newProgress = eventData.heroCount || 0;\n                        }\n                        break;\n                        \n                    case 'level_up':\n                        // \n                        if (config.condition === 'player_level') {\n                            // eventData\n                            newProgress = eventData.playerLevel || 0;\n                        }\n                        break;\n                        \n                    // \n                }\n                \n                // \n                if (newProgress > task.progress) {\n                    this.updateTaskProgress(taskId, newProgress);\n                }\n            }\n        }\n        \n        // \n        this.saveTaskRecords();\n    }\n    \n    /**\n     * \n     * \n     * @param taskId ID\n     * @returns \n     */\n    public unlockAchievementTask(taskId: string): boolean {\n        const task = this._achievementTasks.find(t => t.id === taskId);\n        if (!task) {\n            console.error(`Achievement task not found: ${taskId}`);\n            return false;\n        }\n        \n        // \n        if (task.status !== TaskManager.TaskStatus.UNACCEPTED) {\n            return false;\n        }\n        \n        const taskConfig = TaskConfig.getInstance();\n        const config = taskConfig.getAchievementTaskConfigs()[taskId];\n        \n        if (!config || !config.unlockCondition) {\n            // \n            return this.acceptTask(taskId);\n        }\n        \n        // \n        let canUnlock = false;\n        \n        switch (config.unlockCondition.type) {\n            case 'player_level':\n                // \n                // TODO: PlayerManager\n                const playerLevel = 1; // PlayerManager\n                canUnlock = playerLevel >= config.unlockCondition.value;\n                break;\n                \n            case 'previous_task':\n                // \n                const previousTask = this._achievementTasks.find(t => t.id === config.unlockCondition.taskId);\n                canUnlock = previousTask && previousTask.status === TaskManager.TaskStatus.REWARDED;\n                break;\n                \n            case 'game_progress':\n                // \n                // TODO: GameManager\n                const gameProgress = 0; // GameManager\n                canUnlock = gameProgress >= config.unlockCondition.value;\n                break;\n                \n            // \n        }\n        \n        // \n        if (canUnlock) {\n            return this.acceptTask(taskId);\n        }\n        \n        return false;\n    }\n    \n    /**\n     * \n     */\n    public checkAllAchievementUnlockConditions(): void {\n        const taskConfig = TaskConfig.getInstance();\n        const achievementConfigs = taskConfig.getAchievementTaskConfigs();\n        \n        for (const taskId in achievementConfigs) {\n            const config = achievementConfigs[taskId];\n            \n            // \n            const task = this._achievementTasks.find(t => t.id === taskId);\n            if (!task || task.status === TaskManager.TaskStatus.UNACCEPTED) {\n                this.unlockAchievementTask(taskId);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public refreshDailyTasks(): boolean {\n        // \n        const today = new Date().toDateString();\n        const lastRefreshDate = this._taskRecords['lastDailyRefresh'] || '';\n        \n        // \n        if (lastRefreshDate === today) {\n            console.log('Daily tasks already refreshed today');\n            return false;\n        }\n        \n        // \n        const taskConfig = TaskConfig.getInstance();\n        const dailyTaskConfigs = taskConfig.getDailyTaskConfigs();\n        this._dailyTasks = [];\n        \n        for (const taskId in dailyTaskConfigs) {\n            // \n            const task = JSON.parse(JSON.stringify(dailyTaskConfigs[taskId]));\n            this._dailyTasks.push(task);\n        }\n        \n        // \n        this._taskRecords['lastDailyRefresh'] = today;\n        this.saveTaskRecords();\n        \n        // \n        if (this._onDailyTasksRefreshed) {\n            this._onDailyTasksRefreshed(this._dailyTasks);\n        }\n        \n        return true;\n    }\n    \n    /**\n     * \n     * @param callback \n     */\n    public registerDailyTasksRefreshedCallback(callback: Function): void {\n        this._onDailyTasksRefreshed = callback;\n    }\n    \n    /**\n     * \n     * @param callback \n     */\n    public registerTaskUpdateCallback(callback: Function): void {\n        if (this._taskUpdateCallbacks.indexOf(callback) === -1) {\n            this._taskUpdateCallbacks.push(callback);\n        }\n    }\n    \n    /**\n     * \n     */\n    public unregisterTaskUpdateCallback(callback: Function): void {\n        const index = this._taskUpdateCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this._taskUpdateCallbacks.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     * @param callback \n     */\n    public registerTaskCompleteCallback(callback: Function): void {\n        if (this._taskCompleteCallbacks.indexOf(callback) === -1) {\n            this._taskCompleteCallbacks.push(callback);\n        }\n    }\n    \n    /**\n     * \n     * @param callback \n     */\n    public registerTaskRewardClaimedCallback(callback: Function): void {\n        if (this._taskRewardClaimedCallbacks.indexOf(callback) === -1) {\n            this._taskRewardClaimedCallbacks.push(callback);\n        }\n    }\n    \n    /**\n     * \n     */\n    public unregisterTaskRewardClaimedCallback(callback: Function): void {\n        const index = this._taskRewardClaimedCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this._taskRewardClaimedCallbacks.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     */\n    public unregisterTaskCompleteCallback(callback: Function): void {\n        const index = this._taskCompleteCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this._taskCompleteCallbacks.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     */\n    private triggerTaskUpdateCallbacks(task: Task): void {\n        for (const callback of this._taskUpdateCallbacks) {\n            try {\n                callback(task);\n            } catch (e) {\n                console.error('', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    private triggerTaskCompleteCallbacks(task: Task): void {\n        for (const callback of this._taskCompleteCallbacks) {\n            try {\n                callback(task);\n            } catch (e) {\n                console.error('', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    private triggerTaskRewardClaimedCallbacks(task: Task): void {\n        for (const callback of this._taskRewardClaimedCallbacks) {\n            try {\n                callback(task);\n            } catch (e) {\n                console.error('', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    public clearData(): void {\n        this._dailyTasks = [];\n        this._achievementTasks = [];\n        this._taskRecords = {};\n        this._taskUpdateCallbacks = [];\n        this._taskCompleteCallbacks = [];\n        this._taskRewardClaimedCallbacks = [];\n        this._onDailyTasksRefreshed = null;\n    }\n}","import { _decorator, Component, Node, ToggleContainer, Toggle } from 'cc';\nimport { BaseUI } from './BaseUI';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('TaskUI')\nexport class TaskUI extends BaseUI {\n    // \n    @property(ToggleContainer)\n    tabContainer: ToggleContainer = null;\n\n    // \n    @property(Node)\n    dailyTaskList: Node = null;\n\n    // \n    @property(Node)\n    achievementTaskList: Node = null;\n\n    // \n    @property(Node)\n    detailPopup: Node = null;\n\n    // \n    @property(Node)\n    closeButton: Node = null;\n\n    protected onLoad(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        if (this.tabContainer) {\n            this.tabContainer.node.on('toggle', this.onTabSwitch, this);\n        }\n        \n        // \n        this.initTaskUI();\n    }\n\n    /**\n     * \n     */\n    private initTaskUI() {\n        // TODO: TaskManager\n        // TODO: \n        // TODO: \n        console.log('TaskUI initialized');\n    }\n\n    /**\n     * \n     */\n    private onTabSwitch() {\n        if (!this.tabContainer) return;\n        \n        const toggles = this.tabContainer.getComponentsInChildren(Toggle);\n        if (toggles.length >= 2) {\n            // /\n            if (toggles[0].isChecked) {\n                // \n                if (this.dailyTaskList) this.dailyTaskList.active = true;\n                if (this.achievementTaskList) this.achievementTaskList.active = false;\n            } else if (toggles[1].isChecked) {\n                // \n                if (this.dailyTaskList) this.dailyTaskList.active = false;\n                if (this.achievementTaskList) this.achievementTaskList.active = true;\n            }\n        }\n    }\n\n    /**\n     * \n     * @param taskId ID\n     */\n    public showTaskDetail(taskId: string) {\n        if (this.detailPopup) {\n            // TODO: ID\n            this.detailPopup.active = true;\n        }\n    }\n\n    /**\n     * \n     * @param taskId ID\n     */\n    public claimReward(taskId: string) {\n        // TODO: TaskManager\n        console.log(`Claim reward for task: ${taskId}`);\n        \n        // \n        this.initTaskUI();\n    }\n\n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        this.hide();\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        if (this.tabContainer) {\n            this.tabContainer.node.off('toggle', this.onTabSwitch, this);\n        }\n        \n        super.onDestroy();\n    }\n}","import { _decorator, Component, Node, Color } from 'cc';\nimport { ToastUI } from './ToastUI';\nimport { GCtrl } from '../../../GCtrl';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ToastManager')\nexport class ToastManager {\n\n    // UI\n    public static readonly viewLayer = ToastUI.viewLayer;\n    private static instance: ToastManager = null;\n    \n    public static getInstance(): ToastManager {\n        if (!ToastManager.instance) {\n            ToastManager.instance = new ToastManager();\n        }\n        return ToastManager.instance;\n    }\n    \n    /**\n     * \n     * @param message \n     * @param duration \n     */\n    public showMessage(message: string, duration: number = 3): void {\n        console.log('ToastManager:', message);\n        \n        // UIManageropenUIToast\n        this.showToastWithUIManager(message, duration);\n    }\n    \n    /**\n     * \n     * @param message \n     * @param duration \n     * @param fontSize \n     * @param fontColor \n     * @param outlineColor \n     * @param outlineWidth \n     */\n    public showMessageWithStyle(\n        message: string, \n        duration: number = 3,\n        fontSize: number = 40,\n        fontColor: Color = new Color(255, 255, 255, 255),\n        outlineColor: Color = null,\n        outlineWidth: number = 2\n    ): void {\n        console.log('ToastManager:', message);\n        \n        // UIManageropenUIToast\n        this.showToastWithUIManagerAndStyle(message, duration, fontSize, fontColor, outlineColor, outlineWidth);\n    }\n    \n    \n    \n    /**\n     * UIManageropenUIToast\n     * @param message \n     * @param duration \n     */\n    private async showToastWithUIManager(message: string, duration: number = 3): Promise<void> {\n        try {\n            // UIManagerToastUI\n            const toastUI = await gCtrl.ui.openUI(ToastUI);\n            \n            // ToastUI\n            toastUI.init(message, duration, () => {\n                console.log('ToastUI: Toast');\n            });\n            \n            console.log('ToastManager: ToastUI');\n        } catch (error) {\n            console.error('ToastManager: ToastUI', error);\n            // UIManager\n            this.showToastFallback(message, duration);\n        }\n    }\n    \n    /**\n     * UIManageropenUIToast\n     * @param message \n     * @param duration \n     * @param fontSize \n     * @param fontColor \n     * @param outlineColor \n     * @param outlineWidth \n     */\n    public async showToastWithUIManagerAndStyle(\n        message: string, \n        duration: number = 3,\n        fontSize: number = 40,\n        fontColor: Color = new Color(255, 255, 255, 255),\n        outlineColor: Color = null,\n        outlineWidth: number = 2\n    ): Promise<void> {\n        try {\n            // UIManagerToastUI\n            const toastUI = await gCtrl.ui.openUI(ToastUI);\n            \n            // ToastUI\n            toastUI.init(message, duration, () => {\n                console.log('ToastUI: Toast');\n            }, fontSize, fontColor, outlineColor, outlineWidth);\n            \n            console.log('ToastManager: ToastUI');\n        } catch (error) {\n            console.error('ToastManager: ToastUI', error);\n            // UIManager\n            this.showToastFallback(message, duration);\n        }\n    }\n    \n    /**\n     * Toast\n     * @param message \n     * @param duration \n     */\n    private showToastFallback(message: string, duration: number = 3): void {\n        console.warn('ToastManager: Toast');\n        \n        // \n        // console.log\n        console.log('Toast Fallback:', message);\n    }\n}","import { _decorator, Component, Node, UITransform, Label, Color, Vec3, Layers, tween, Sprite } from 'cc';\nimport { UILayer } from './UILayer';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ToastUI')\nexport class ToastUI extends Component {\n\n    // UI\n    public static readonly viewLayer = UILayer.Toast;\n    \n    private message: string = '';\n    private duration: number = 3;\n    private callback: Function = null;\n    private fontSize: number = 40;\n    private fontColor: Color = new Color(255, 255, 255, 255); // \n    private outlineColor: Color = null; // \n    private outlineWidth: number = 2; // \n    \n    /**\n     * Toast\n     * @param message \n     * @param duration \n     * @param callback \n     * @param fontSize \n     * @param fontColor \n     * @param outlineColor \n     * @param outlineWidth \n     */\n    public init(\n        message: string, \n        duration: number = 3, \n        callback: Function = null,\n        fontSize: number = 40,\n        fontColor: Color = new Color(255, 255, 255, 255),\n        outlineColor: Color = null,\n        outlineWidth: number = 2\n    ): void {\n        this.message = message;\n        this.duration = duration;\n        this.callback = callback;\n        this.fontSize = fontSize;\n        this.fontColor = fontColor;\n        this.outlineColor = outlineColor;\n        this.outlineWidth = outlineWidth;\n        this.setupToast();\n    }\n    \n    /**\n     * Toast UI\n     */\n    private setupToast(): void {\n        console.log('ToastUI: Toast UI', this.message);\n        \n        // UITransform\n        const uiTransform = this.node.addComponent(UITransform);\n        uiTransform.setContentSize(700, 200); // \n        \n        // \n        const bgNode = new Node('Background');\n        bgNode.layer = Layers.Enum.UI_2D;\n        this.node.addChild(bgNode);\n        \n        const bgTransform = bgNode.addComponent(UITransform);\n        bgTransform.setContentSize(720, 220); // \n        bgNode.position = new Vec3(0, 0, 0);\n        \n        // Sprite\n        const bgSprite = bgNode.addComponent(Sprite);\n        bgSprite.color = new Color(0, 0, 0, 200); // \n        \n        // \n        const label = new Node('Label');\n        label.layer = Layers.Enum.UI_2D;\n        this.node.addChild(label);\n        \n        const labelComponent = label.addComponent(Label);\n        labelComponent.string = this.message;\n        labelComponent.fontSize = this.fontSize;\n        labelComponent.color = this.fontColor;\n        labelComponent.horizontalAlign = 1; // CENTER\n        labelComponent.verticalAlign = 1; // CENTER\n        labelComponent.overflow = 2; // RESIZE_HEIGHT - \n        \n        // \n        if (this.outlineColor) {\n            labelComponent.enableOutline = true;\n            labelComponent.outlineColor = this.outlineColor;\n            labelComponent.outlineWidth = this.outlineWidth;\n        }\n        \n        const labelTransform = label.addComponent(UITransform);\n        labelTransform.setContentSize(700, 100); // \n        \n        //  - Canvas\n        this.node.position = new Vec3(0, -400, 0);\n        \n        // \n        this.playAnimation();\n    }\n    \n    /**\n     * \n     */\n    private playAnimation(): void {\n        this.node.setScale(0, 0, 0);\n        tween(this.node)\n            .to(0.3, { scale: new Vec3(1, 1, 1) }, { easing: 'backOut' })\n            .delay(Math.max(0, this.duration - 0.6))\n            .to(0.3, { scale: new Vec3(0, 0, 0) }, { easing: 'backIn' })\n            .call(() => {\n                if (this.callback) {\n                    this.callback();\n                }\n                this.node.destroy();\n            })\n            .start();\n    }\n}","import { AudioManager } from '../audio/AudioManager';\nimport { createBundleObject } from '../res/ResConst';\nimport { BaseSkill, SkillConfig, SkillType, SkillState } from './SkillBase';\nimport { Vec3, tween } from 'cc';\n\n/**\n * \n * \n */\nexport class TuoDaoHuiMaSkill extends BaseSkill {\n    private gameUI: any;\n    \n    constructor(config: SkillConfig, gameUI: any) {\n        super(config);\n        this.gameUI = gameUI;\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    public async onExecute(params?: any): Promise<boolean> {\n        try {\n            console.log(`: ${this.config.name}`);\n            \n            // \n            const lastZi = this.getLastZiFromCollection();\n            \n            if (!lastZi) {\n                console.warn('');\n                return false;\n            }\n            \n            // \n            const success = await this.returnZiToBoard(lastZi);\n            \n            if (success) {\n                console.log(``);\n                return true;\n            } else {\n                console.warn('');\n                return false;\n            }\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @returns null\n     */\n    private getLastZiFromCollection(): any {\n        // Match3UI\n        const collectionZiList = this.gameUI.m_PlaceHolders;\n        \n        if (!collectionZiList || collectionZiList.length === 0) {\n            return null;\n        }\n        \n        // \n        return collectionZiList[collectionZiList.length - 1];\n    }\n    \n    /**\n     * \n     * @param zi \n     * @returns \n     */\n    private async returnZiToBoard(zi: any): Promise<boolean> {\n        try {\n            // \n            const index = this.gameUI.m_PlaceHolders.indexOf(zi);\n            if (index !== -1) {\n                this.gameUI.m_PlaceHolders.splice(index, 1);\n            }\n            \n            // \n            if (zi.row === undefined || zi.col === undefined) {\n                console.warn('');\n                return false;\n            }\n            \n            // \n            zi.isCollected = false;\n            \n            // \n            zi.node.parent = this.gameUI.board;\n            \n            // z-index\n            zi.node.setSiblingIndex(this.gameUI.board.children.length - 1);\n            \n            // \n            // Match3UIcol * 17, row * 20\n            const targetX = zi.col * 17;\n            const targetY = zi.row * 20;\n            \n            AudioManager.ins.playSound(createBundleObject(\"Res/Audio/stop_horse\", \"LoginBN\"));\n\n            // \n            await new Promise<void>((resolve) => {\n                tween(zi.node)\n                    .to(0.3, { position: new Vec3(targetX, targetY, 0) })\n                    .call(() => {\n                        // Match3UIaddZi\n                        this.gameUI.addZi(zi);\n                        \n                        // \n                        if (zi && zi.setClickable) {\n                            zi.setClickable(this.gameUI.calcClickable(zi));\n                        }\n                        \n                        // \n                        this.updateAffectedZisClickable(zi);\n                        \n                        // UI\n                        this.gameUI.updateUI();\n                        \n                        resolve();\n                    })\n                    .start();\n            });\n            \n            return true;\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param returnedZi \n     */\n    private updateAffectedZisClickable(returnedZi: any): void {\n        // \n        let stack: any = null;\n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                stack = this.gameUI.stacks[returnedZi.row + r][returnedZi.col + c];\n                if (!stack.empty && stack.top && stack.top !== returnedZi) {\n                    // \n                    if (stack.top.setClickable) {\n                        stack.top.setClickable(this.gameUI.calcClickable(stack.top));\n                    }\n                }\n            }\n        }\n        \n        // \n        this.gameUI.m_ZiList.forEach(zi => {\n            if (zi !== returnedZi && zi.setClickable) {\n                zi.setClickable(this.gameUI.calcClickable(zi));\n            }\n        });\n    }\n    \n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected onBeforeActivate(params?: any): boolean {\n        // \n        const collectionZiList = this.gameUI.m_PlaceHolders;\n        \n        if (!collectionZiList || collectionZiList.length === 0) {\n            console.warn('');\n            this.sendToast('');\n            return false;\n        }\n        \n        return true;\n    }\n}","/**\n * UI\n */\nexport enum UILayer {\n    /** */\n    Scene,\n    /** */\n    UI,\n    /** */\n    Guide,\n    /** */\n    Anim,\n    /** */\n    Transform,\n    /** */\n    Loading,\n    /** */\n    Modal,\n    /** */\n    Toast\n}","import { Burst, Canvas, Color, Component, Constructor, Label, Layers, Node, Prefab, ResolutionPolicy, Size, UITransform, assetManager, instantiate, js, screen, view } from \"cc\";\nimport { UILayer } from \"./UILayer\";\nimport { ResLoader } from \"../res/ResLoader\";\n\nconst g_KeyCls2BUrl = new Map<string, IBundleUrl>();\n/**UI */\nexport function registerBUrlByCfg(cfg: { [uiClassName: string]: IBundleUrl }) {\n    for (let uiClassName in cfg) {\n        g_KeyCls2BUrl.set(uiClassName, cfg[uiClassName]);\n    }\n}\n\n\nconst g_UICls2BUrl = new Map<any, IBundleUrl>();\n\n/** \n * \n * iPad  = 1001 x 1334 ( 1001  1668/1.6672)\n * iPhone16 = 750 x1626 1626 = 2556/1.572\n */\nexport const G_VIEW_SIZE = new Size(0, 0);\n/**\n* \n*/\nfunction adapterScreen(): void {\n    //\n    let resolutionPolicy: ResolutionPolicy = view.getResolutionPolicy();\n    //\n    let designSize: Size = view.getDesignResolutionSize();\n    //\n    let frameSize = screen.windowSize;\n    let frameW = frameSize.width;\n    let frameH = frameSize.height;\n    //\n    const isScreenWidthLarger = (frameW / frameH) > (designSize.width / designSize.height);\n    //\n    let targetResolutionPolicy = isScreenWidthLarger ? ResolutionPolicy.FIXED_HEIGHT : ResolutionPolicy.FIXED_WIDTH;\n    if (targetResolutionPolicy != resolutionPolicy.getContentStrategy().strategy) {\n        //\n        view.setDesignResolutionSize(designSize.width, designSize.height, targetResolutionPolicy);\n        view.emit(\"canvas-resize\");\n    }\n\n    /** */\n    if (isScreenWidthLarger) {\n        G_VIEW_SIZE.width = Math.ceil(designSize.height * frameSize.width / frameSize.height);\n        G_VIEW_SIZE.height = designSize.height;\n    } else {\n        G_VIEW_SIZE.width = designSize.width;\n        G_VIEW_SIZE.height = Math.ceil(designSize.width * frameSize.height / frameSize.width);\n    }\n    console.log(`${isScreenWidthLarger ? \", \" : \", \"}: ${G_VIEW_SIZE.width}x${G_VIEW_SIZE.height}`);\n}\n\n/** */\nexport function setUIClassBUrl(uiClass: any, bUrl: IBundleUrl): void {\n    g_UICls2BUrl.set(uiClass, bUrl);\n}\n\n/** */\nexport function getUIClassBUrl(uiClass: any): IBundleUrl {\n    //->BUrl\n    if (g_UICls2BUrl.has(uiClass)) {\n        return g_UICls2BUrl.get(uiClass);\n    }\n    //\n    let uiClassName = js.getClassName(uiClass);\n    let bUrl = g_KeyCls2BUrl.get(uiClassName);\n    if (!bUrl) {\n        //IBundleUrl\n        console.warn(\"\", uiClassName);\n        return { bundleName: \"\", url: \"\", id: \"\" };\n    }\n    //\n    g_UICls2BUrl.set(uiClass, bUrl);\n    return bUrl;\n}\n\n// g_UICls2BUrl.set(Match3UI, createBundleObject(\"Match3UI\", \"Match3BN\"));\n\nclass MyLayer {\n    public readonly node: Node;\n    constructor(public readonly layer: UILayer, public readonly canvas: Canvas, name: string) {\n        const node = this.node = new Node(name);\n        node.layer = layer;\n        if (!node.layer) {\n            node.layer = Layers.Enum.UI_2D;\n        }\n        node.addComponent(UITransform);\n        canvas.node.addChild(node);\n    }\n}\n\n/**\n * UI\n */\nexport default class UIManager {\n\n    private m_Canvas: Canvas = null;\n\n    private m_Layers: MyLayer[] = [];\n\n    // private constructor() {\n    //     //\n    // }\n\n    init(canvas: Canvas) {\n        this.m_Canvas = canvas;\n        adapterScreen();\n        for (let layer = UILayer.Scene, maxLayer = UILayer.Toast; layer <= maxLayer; ++layer) {\n            this.m_Layers.push(new MyLayer(layer, canvas, UILayer[layer]));\n        }\n    }\n\n    /**\n     * \n     * @param uiClass \n     */\n    /**\n     * UI\n     * @param uiClass UI\n     * @returns UI\n     */\n    public async openUI<UI extends Component>(uiClass: Constructor<UI> & { readonly viewLayer?: UILayer }): Promise<UI> {\n        console.log('UIManager: UI', js.getClassName(uiClass));\n        \n        //\n        const viewLayer: UILayer = typeof (uiClass.viewLayer) == 'number' ? uiClass.viewLayer : UILayer.UI;\n        if (!viewLayer) {\n            console.error('UIManager: UIviewLayer', js.getClassName(uiClass));\n            throw new Error(`UI ${js.getClassName(uiClass)} viewLayer`);\n        }\n        \n        // UI\n        const config = getUIClassBUrl(uiClass);\n        if (!config) {\n            console.error('UIManager: UIPrefabCfg', js.getClassName(uiClass));\n            throw new Error(`UI ${js.getClassName(uiClass)} PrefabCfg`);\n        }\n        \n        console.log('UIManager: UI', config);\n        \n        const resLoader = new ResLoader();\n        resLoader.addUI(uiClass);\n        \n        // bundleURL\n        if (config.bundleName && config.url) {\n            console.log('UIManager: UI', { bundleName: config.bundleName, url: config.url });\n            \n            try {\n                await resLoader.load();\n            } catch (error) {\n                console.error('UIManager: UI', error);\n                throw new Error(`UI: ${js.getClassName(uiClass)}`);\n            }\n            \n            console.log('UIManager: UI');\n        } else {\n            console.log('UIManager: ');\n        }\n        \n        let ui = this.instantiate(uiClass);\n        \n        if (!ui) {\n            console.error('UIManager: UI', js.getClassName(uiClass));\n            throw new Error(`UI: ${js.getClassName(uiClass)}`);\n        }\n        \n        console.log('UIManager: UI');\n        \n        this.m_Layers[viewLayer].node.addChild(ui.node);\n        \n        // ToastUIUITransformUITransform\n        if (js.getClassName(uiClass) === 'ToastUI') {\n            // UITransform\n            let uiTransform = ui.getComponent(UITransform);\n            if (!uiTransform) {\n                uiTransform = ui.node.addComponent(UITransform);\n            }\n            uiTransform.setContentSize(G_VIEW_SIZE.clone());\n        } else {\n            // UI\n            ui.getComponent(UITransform).setContentSize(G_VIEW_SIZE.clone());\n        }\n        \n        resLoader.autoRelease(ui);\n        \n        console.log('UIManager: UI', js.getClassName(uiClass));\n        return ui;\n    }\n\n\n    /** */\n    public instantiate<UE extends Component>(ueClass: Constructor<UE>): UE {\n        let bUrl = getUIClassBUrl(ueClass);\n        // bundleURL\n        if (!bUrl.bundleName || !bUrl.url) {\n            let node: Node = new Node(js.getClassName(ueClass));\n            return (node.getComponent(ueClass as any) || node.addComponent(ueClass as any)) as any as UE;\n        }\n        // \n        let bundle = assetManager.getBundle(bUrl.bundleName);\n        let prefab: Prefab = bundle.get(bUrl.url, Prefab);\n        let node: Node = instantiate(prefab);\n        return (node.getComponent(ueClass as any) || node.addComponent(ueClass as any)) as any as UE;\n    }\n}","import { AdType, AdEventType, AdEventParam } from './AdManager';\nimport { IAdAdapter, AdLoadState, AdEventListener } from './IAdAdapter';\n\n/**\n * \n * \n */\nexport class WechatAdAdapter implements IAdAdapter {\n    /**\n     * \n     */\n    private eventListeners: AdEventListener[] = [];\n    \n    /**\n     * \n     */\n    private adLoadStates: Map<AdType, AdLoadState> = new Map();\n    \n    /**\n     * ID\n     */\n    private adUnitIds: Map<AdType, string> = new Map();\n    \n    /**\n     * \n     */\n    private rewardVideoAd: any = null;\n    \n    /**\n     * \n     */\n    private interstitialAd: any = null;\n    \n    /**\n     * \n     */\n    constructor() {\n        // \n        this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.NOT_LOADED);\n        this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.NOT_LOADED);\n    }\n    \n    /**\n     * \n     * @param adUnitIds ID\n     */\n    public init(adUnitIds: { [key in AdType]?: string }): void {\n        console.log('WechatAdAdapter: ');\n        \n        // \n        if (typeof window === 'undefined' || !window['wx']) {\n            console.error('WechatAdAdapter: ');\n            return;\n        }\n        \n        // ID\n        for (const adType in adUnitIds) {\n            if (adUnitIds[adType as AdType]) {\n                this.adUnitIds.set(adType as AdType, adUnitIds[adType as AdType]!);\n                console.log(`WechatAdAdapter: ${adType}ID${adUnitIds[adType as AdType]}`);\n            }\n        }\n        \n        // \n        this.initRewardVideoAd();\n        \n        // \n        this.initInterstitialAd();\n    }\n    \n    /**\n     * \n     */\n    private initRewardVideoAd(): void {\n        const adUnitId = this.adUnitIds.get(AdType.REWARD_VIDEO);\n        if (!adUnitId) {\n            console.error('WechatAdAdapter: ID');\n            return;\n        }\n        \n        try {\n            // \n            this.rewardVideoAd = window['wx'].createRewardedVideoAd({\n                adUnitId: adUnitId\n            });\n            \n            // \n            this.rewardVideoAd.onLoad(() => {\n                console.log('WechatAdAdapter: ');\n                this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.LOADED);\n                this.triggerEvent({\n                    type: AdEventType.LOAD_SUCCESS,\n                    adType: AdType.REWARD_VIDEO,\n                    adUnitId: adUnitId,\n                });\n            });\n            \n            // \n            this.rewardVideoAd.onError((err: any) => {\n                // \n                const errorDetails = {\n                    errCode: err.errCode || '',\n                    errMsg: err.errMsg || '',\n                    errDetail: err.errDetail || '',\n                    fullError: JSON.stringify(err)\n                };\n                \n                console.error('WechatAdAdapter: ', errorDetails);\n                this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.FAILED);\n                this.triggerEvent({\n                    type: AdEventType.LOAD_FAILED,\n                    adType: AdType.REWARD_VIDEO,\n                    adUnitId: adUnitId,\n                    error: err.errMsg || '',\n                });\n                \n                // \n                // \n                if (err.errCode === 2004 || err.errCode === 2005) {\n                    console.log('WechatAdAdapter: ');\n                } else {\n                    // \n                    setTimeout(() => {\n                        this.loadAd(AdType.REWARD_VIDEO);\n                    }, 3000);\n                }\n            });\n            \n            // \n            this.rewardVideoAd.onClose((res: any) => {\n                console.log('WechatAdAdapter: ', res);\n                this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.NOT_LOADED);\n                \n                // \n                const rewardKey = this.rewardVideoAd['rewardKey'] || 'reward_video_default';\n                \n                // \n                if (res && res.isEnded || res === undefined) {\n                    console.log('WechatAdAdapter: ');\n                    // \n                    this.triggerEvent({\n                        type: AdEventType.REWARDED,\n                        adType: AdType.REWARD_VIDEO,\n                        adUnitId: adUnitId,\n                        rewardKey: rewardKey,\n                        reward: { type: 'coin', amount: 100 }, // AdManager\n                    });\n                } else {\n                    console.log('WechatAdAdapter: ');\n                    this.triggerEvent({\n                        type: AdEventType.CLOSED,\n                        adType: AdType.REWARD_VIDEO,\n                        adUnitId: adUnitId,\n                        rewardKey: rewardKey,\n                    });\n                }\n                \n                // \n                this.rewardVideoAd['rewardKey'] = undefined;\n                \n                // \n                this.loadAd(AdType.REWARD_VIDEO);\n            });\n            \n            // \n            this.loadAd(AdType.REWARD_VIDEO);\n        } catch (error) {\n            console.error('WechatAdAdapter: ', error);\n            this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.FAILED);\n        }\n    }\n    \n    /**\n     * \n     */\n    private initInterstitialAd(): void {\n        const adUnitId = this.adUnitIds.get(AdType.INTERSTITIAL);\n        if (!adUnitId) {\n            console.error('WechatAdAdapter: ID');\n            return;\n        }\n        \n        try {\n            // \n            this.interstitialAd = window['wx'].createInterstitialAd({\n                adUnitId: adUnitId\n            });\n            \n            // \n            this.interstitialAd.onLoad(() => {\n                console.log('WechatAdAdapter: ');\n                this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.LOADED);\n                this.triggerEvent({\n                    type: AdEventType.LOAD_SUCCESS,\n                    adType: AdType.INTERSTITIAL,\n                    adUnitId: adUnitId,\n                });\n            });\n            \n            // \n            this.interstitialAd.onError((err: any) => {\n                // \n                const errorDetails = {\n                    errCode: err.errCode || '',\n                    errMsg: err.errMsg || '',\n                    errDetail: err.errDetail || '',\n                    fullError: JSON.stringify(err)\n                };\n                \n                console.error('WechatAdAdapter: ', errorDetails);\n                this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.FAILED);\n                this.triggerEvent({\n                    type: AdEventType.LOAD_FAILED,\n                    adType: AdType.INTERSTITIAL,\n                    adUnitId: adUnitId,\n                    error: err.errMsg || '',\n                });\n                \n                // \n                // \n                if (err.errCode === 2004 || err.errCode === 2005) {\n                    console.log('WechatAdAdapter: ');\n                } else {\n                    // \n                    setTimeout(() => {\n                        this.loadAd(AdType.INTERSTITIAL);\n                    }, 3000);\n                }\n            });\n            \n            // \n            this.interstitialAd.onClose(() => {\n                console.log('WechatAdAdapter: ');\n                this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.NOT_LOADED);\n                \n                this.triggerEvent({\n                    type: AdEventType.CLOSED,\n                    adType: AdType.INTERSTITIAL,\n                    adUnitId: adUnitId,\n                });\n                \n                // \n                this.loadAd(AdType.INTERSTITIAL);\n            });\n            \n            // \n            this.loadAd(AdType.INTERSTITIAL);\n        } catch (error) {\n            console.error('WechatAdAdapter: ', error);\n            this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.FAILED);\n        }\n    }\n    \n    /**\n     * \n     * @param adType \n     */\n    public loadAd(adType: AdType): void {\n        if (this.getAdLoadState(adType) === AdLoadState.LOADING) {\n            console.log(`WechatAdAdapter: ${adType}`);\n            return;\n        }\n        \n        console.log(`WechatAdAdapter: ${adType}`);\n        this.adLoadStates.set(adType, AdLoadState.LOADING);\n        \n        try {\n            if (adType === AdType.REWARD_VIDEO && this.rewardVideoAd) {\n                this.rewardVideoAd.load()\n                    .then(() => {\n                        console.log(`WechatAdAdapter: ${adType}`);\n                    })\n                    .catch((err: any) => {\n                        // \n                        const errorDetails = {\n                            errCode: err.errCode || '',\n                            errMsg: err.errMsg || '',\n                            errDetail: err.errDetail || '',\n                            fullError: JSON.stringify(err)\n                        };\n                        \n                        console.error(`WechatAdAdapter: ${adType}`, errorDetails);\n                        this.adLoadStates.set(adType, AdLoadState.FAILED);\n                        this.triggerEvent({\n                            type: AdEventType.LOAD_FAILED,\n                            adType: adType,\n                            adUnitId: this.adUnitIds.get(adType),\n                            error: err.errMsg || '',\n                        });\n                    });\n            } else if (adType === AdType.INTERSTITIAL && this.interstitialAd) {\n                this.interstitialAd.load()\n                    .then(() => {\n                        console.log(`WechatAdAdapter: ${adType}`);\n                    })\n                    .catch((err: any) => {\n                        // \n                        const errorDetails = {\n                            errCode: err.errCode || '',\n                            errMsg: err.errMsg || '',\n                            errDetail: err.errDetail || '',\n                            fullError: JSON.stringify(err)\n                        };\n                        \n                        console.error(`WechatAdAdapter: ${adType}`, errorDetails);\n                        this.adLoadStates.set(adType, AdLoadState.FAILED);\n                        this.triggerEvent({\n                            type: AdEventType.LOAD_FAILED,\n                            adType: adType,\n                            adUnitId: this.adUnitIds.get(adType),\n                            error: err.errMsg || '',\n                        });\n                    });\n            } else {\n                console.error(`WechatAdAdapter: ${adType}`);\n                this.adLoadStates.set(adType, AdLoadState.FAILED);\n            }\n        } catch (error) {\n            console.error(`WechatAdAdapter: ${adType}`, error);\n            this.adLoadStates.set(adType, AdLoadState.FAILED);\n        }\n    }\n    \n    /**\n     * \n     * @param adType \n     * @param rewardKey \n     * @returns \n     */\n    public showAd(adType: AdType, rewardKey?: string, customParams: any = {}): boolean {\n        if (!this.isAdLoaded(adType)) {\n            console.log(`WechatAdAdapter: ${adType}`);\n            this.loadAd(adType);\n            return false;\n        }\n        \n        console.log(`WechatAdAdapter: ${adType}`);\n        try {\n            if (adType === AdType.REWARD_VIDEO && this.rewardVideoAd) {\n                // onClose\n                if (rewardKey) {\n                    this.rewardVideoAd['rewardKey'] = rewardKey;\n                }\n                \n                this.rewardVideoAd.show()\n                    .then(() => {\n                        console.log(`WechatAdAdapter: ${adType}`);\n                        this.triggerEvent({\n                            type: AdEventType.SHOW_SUCCESS,\n                            adType: adType,\n                            rewardKey: rewardKey,\n                            adUnitId: this.adUnitIds.get(adType),\n                            customParams: customParams\n                        });\n                    })\n                    .catch((err: any) => {\n                        // \n                        const errorDetails = {\n                            errCode: err.errCode || '',\n                            errMsg: err.errMsg || '',\n                            errDetail: err.errDetail || '',\n                            fullError: JSON.stringify(err)\n                        };\n                        \n                        console.error(`WechatAdAdapter: ${adType}`, errorDetails);\n                        this.triggerEvent({\n                            type: AdEventType.SHOW_FAILED,\n                            adType: adType,\n                            rewardKey: rewardKey,\n                            adUnitId: this.adUnitIds.get(adType),\n                            error: err.errMsg || '',\n                            customParams: customParams\n                        });\n                        \n                        // \n                        // \n                        if (err.errCode === 2004 || err.errCode === 2005) {\n                            console.log('WechatAdAdapter: ');\n                            this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.FAILED);\n                        } else {\n                            // \n                            this.loadAd(AdType.REWARD_VIDEO);\n                        }\n                    });\n                return true;\n            } else if (adType === AdType.INTERSTITIAL && this.interstitialAd) {\n                this.interstitialAd.show()\n                    .then(() => {\n                        console.log(`WechatAdAdapter: ${adType}`);\n                        this.adLoadStates.set(adType, AdLoadState.NOT_LOADED);\n                        this.triggerEvent({\n                            type: AdEventType.SHOW_SUCCESS,\n                            adType: adType,\n                            rewardKey: rewardKey,\n                            adUnitId: this.adUnitIds.get(adType),\n                            customParams: customParams\n                        });\n                    })\n                    .catch((err: any) => {\n                        // \n                        const errorDetails = {\n                            errCode: err.errCode || '',\n                            errMsg: err.errMsg || '',\n                            errDetail: err.errDetail || '',\n                            fullError: JSON.stringify(err)\n                        };\n                        \n                        console.error(`WechatAdAdapter: ${adType}`, errorDetails);\n                        this.triggerEvent({\n                            type: AdEventType.SHOW_FAILED,\n                            adType: adType,\n                            rewardKey: rewardKey,\n                            adUnitId: this.adUnitIds.get(adType),\n                            error: err.errMsg || '',\n                            customParams: customParams\n                        });\n                        \n                        // \n                        this.loadAd(adType);\n                    });\n                return true;\n            } else {\n                console.error(`WechatAdAdapter: ${adType}`);\n                return false;\n            }\n        } catch (error) {\n            console.error(`WechatAdAdapter: ${adType}`, error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public getAdLoadState(adType: AdType): AdLoadState {\n        return this.adLoadStates.get(adType) || AdLoadState.NOT_LOADED;\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public isAdLoaded(adType: AdType): boolean {\n        return this.getAdLoadState(adType) === AdLoadState.LOADED;\n    }\n    \n    /**\n     * \n     * @param listener \n     */\n    public addEventListener(listener: AdEventListener): void {\n        if (this.eventListeners.indexOf(listener) === -1) {\n            this.eventListeners.push(listener);\n        }\n    }\n    \n    /**\n     * \n     * @param listener \n     */\n    public removeEventListener(listener: AdEventListener): void {\n        const index = this.eventListeners.indexOf(listener);\n        if (index !== -1) {\n            this.eventListeners.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     * @param param \n     */\n    private triggerEvent(param: AdEventParam): void {\n        for (const listener of this.eventListeners) {\n            try {\n                listener(param);\n            } catch (error) {\n                console.error('WechatAdAdapter: ', error);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    public destroy(): void {\n        console.log('WechatAdAdapter: ');\n        \n        // \n        if (this.rewardVideoAd) {\n            this.rewardVideoAd.offLoad();\n            this.rewardVideoAd.offError();\n            this.rewardVideoAd.offClose();\n            this.rewardVideoAd = null;\n        }\n        \n        // \n        if (this.interstitialAd) {\n            this.interstitialAd.offLoad();\n            this.interstitialAd.offError();\n            this.interstitialAd.offClose();\n            this.interstitialAd = null;\n        }\n        \n        // \n        this.eventListeners = [];\n        \n        // \n        this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.NOT_LOADED);\n        this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.NOT_LOADED);\n    }\n}","import { _decorator, sys } from 'cc';\nimport { RankManager, RankType, RankData } from './RankManager';\nimport { GameDataManager } from '../data/GameDataManager';\n\n/**\n * \n * \n */\nexport class WechatOpenDataContext {\n    private static instance: WechatOpenDataContext;\n    \n    // \n    private rankManager: RankManager = null;\n    \n    // \n    public static getInstance(): WechatOpenDataContext {\n        if (!WechatOpenDataContext.instance) {\n            WechatOpenDataContext.instance = new WechatOpenDataContext();\n        }\n        return WechatOpenDataContext.instance;\n    }\n    \n    // \n    private constructor() {\n        // RankManager\n        // this.rankManager = RankManager.getInstance();\n    }\n    \n    // \n    private getRankManager(): RankManager {\n        if (!this.rankManager) {\n            this.rankManager = RankManager.getInstance();\n        }\n        return this.rankManager;\n    }\n    \n    /**\n     * \n     */\n    public isWechatEnvironment(): boolean {\n        return typeof window !== 'undefined' && window['wx'];\n    }\n    \n    /**\n     * \n     */\n    public init(): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // \n            wx.createOpenDataContext({\n                success: () => {\n                    console.log('');\n                },\n                fail: (err) => {\n                    console.error(':', err);\n                }\n            });\n            \n            // \n            wx.getUserInfo({\n                success: (res) => {\n                    console.log(':', res);\n                    // \n                    this.updateLocalUserInfo(res.userInfo);\n                },\n                fail: (err) => {\n                    console.error(':', err);\n                }\n            });\n            \n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     * @param userInfo \n     */\n    private updateLocalUserInfo(userInfo: any): void {\n        try {\n            const gameDataManager = GameDataManager.getInstance();\n            const currentUserInfo = gameDataManager.getUserInfo();\n            \n            // \n            currentUserInfo.username = userInfo.nickName;\n            currentUserInfo.avatar = userInfo.avatarUrl;\n            \n            // \n            gameDataManager.saveUserInfo();\n            \n            console.log(':', userInfo.nickName);\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     * @param coin \n     * @param level \n     */\n    public uploadUserData(coin: number, level: number): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // \n            wx.setUserCloudStorage({\n                KVDataList: [\n                    { key: 'coin', value: coin.toString() },\n                    { key: 'level', value: level.toString() }\n                ],\n                success: () => {\n                    console.log('');\n                },\n                fail: (err) => {\n                    console.error(':', err);\n                }\n            });\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     * @param rankType \n     * @param successCallback \n     * @param failCallback \n     */\n    public getFriendRankData(rankType: RankType, successCallback?: (data: RankData[]) => void, failCallback?: (err: any) => void): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            if (failCallback) {\n                failCallback({ errMsg: '' });\n            }\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // getFriendCloudStorage\n            // \n            if (typeof wx.getOpenDataContext === 'function') {\n                const openDataContext = wx.getOpenDataContext();\n                \n                // \n                openDataContext.postMessage({\n                    type: 'getFriendRankData',\n                    rankType: rankType === RankType.COIN ? 'coin' : 'level'\n                });\n                \n                // \n                let messageHandled = false;\n                \n                // \n                const globalHandlerName = 'handleFriendRankMessage_' + Date.now();\n                window[globalHandlerName] = (message: any) => {\n                    if (!messageHandled && message.type === 'friendRankDataResponse') {\n                        messageHandled = true;\n                        // \n                        delete window[globalHandlerName];\n                        \n                        if (message.success && message.data) {\n                            console.log(':', message.data);\n                            \n                            // \n                            const rankData = this.processWechatRankData(message.data, rankType);\n                            \n                            // \n                            const rankManager = this.getRankManager();\n                            if (rankType === RankType.COIN) {\n                                // \n                                rankManager['coinRankData'] = rankData;\n                            } else if (rankType === RankType.LEVEL) {\n                                // \n                                rankManager['levelRankData'] = rankData;\n                            }\n                            \n                            // \n                            rankManager['saveLocalData']();\n                            \n                            // \n                            rankManager['triggerEvent'](\n                                rankManager.constructor['RankEventType'].DATA_UPDATED,\n                                rankType,\n                                rankData\n                            );\n                            \n                            // \n                            if (successCallback) {\n                                successCallback(rankData);\n                            }\n                        } else {\n                            console.error(':', message.error);\n                            \n                            // \n                            const rankManager = this.getRankManager();\n                            rankManager['triggerEvent'](\n                                rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                                rankType,\n                                undefined,\n                                ''\n                            );\n                            \n                            // \n                            if (failCallback) {\n                                failCallback(message.error || { errMsg: '' });\n                            }\n                        }\n                    }\n                };\n                \n                // onMessage\n                try {\n                    wx.onMessage(window[globalHandlerName]);\n                } catch (e) {\n                    console.error('wx.onMessage', e);\n                    // \n                    delete window[globalHandlerName];\n                    \n                    // \n                    const rankManager = this.getRankManager();\n                    rankManager['triggerEvent'](\n                        rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                        rankType,\n                        undefined,\n                        'wx.onMessage'\n                    );\n                    \n                    // \n                    if (failCallback) {\n                        failCallback({ errMsg: 'wx.onMessage' });\n                    }\n                    return;\n                }\n                \n                // \n                setTimeout(() => {\n                    if (!messageHandled) {\n                        // \n                        delete window[globalHandlerName];\n                        console.error('');\n                        \n                        // \n                        const rankManager = this.getRankManager();\n                        rankManager['triggerEvent'](\n                            rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                            rankType,\n                            undefined,\n                            ''\n                        );\n                        \n                        // \n                        if (failCallback) {\n                            failCallback({ errMsg: '' });\n                        }\n                    }\n                }, 5000);\n            } else {\n                // \n                if (failCallback) {\n                    failCallback({ errMsg: '' });\n                }\n            }\n        } catch (error) {\n            console.error(':', error);\n            \n            // \n            const rankManager = this.getRankManager();\n            rankManager['triggerEvent'](\n                rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                rankType,\n                undefined,\n                ''\n            );\n            \n            // \n            if (failCallback) {\n                failCallback(error);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param shareTicket \n     * @param rankType \n     * @param successCallback \n     * @param failCallback \n     */\n    public getGroupRankData(shareTicket: string, rankType: RankType, successCallback?: (data: RankData[]) => void, failCallback?: (err: any) => void): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            if (failCallback) {\n                failCallback({ errMsg: '' });\n            }\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // getGroupCloudStorage\n            // \n            if (typeof wx.getOpenDataContext === 'function') {\n                const openDataContext = wx.getOpenDataContext();\n                \n                // \n                openDataContext.postMessage({\n                    type: 'getGroupRankData',\n                    shareTicket: shareTicket,\n                    rankType: rankType === RankType.COIN ? 'coin' : 'level'\n                });\n                \n                // \n                let messageHandled = false;\n                \n                // \n                const globalHandlerName = 'handleGroupRankMessage_' + Date.now();\n                window[globalHandlerName] = (message: any) => {\n                    if (!messageHandled && message.type === 'groupRankDataResponse') {\n                        messageHandled = true;\n                        // \n                        delete window[globalHandlerName];\n                        \n                        if (message.success && message.data) {\n                            console.log(':', message.data);\n                            \n                            // \n                            const rankData = this.processWechatRankData(message.data, rankType);\n                            \n                            // \n                            const rankManager = this.getRankManager();\n                            if (rankType === RankType.COIN) {\n                                // \n                                rankManager['coinRankData'] = rankData;\n                            } else if (rankType === RankType.LEVEL) {\n                                // \n                                rankManager['levelRankData'] = rankData;\n                            }\n                            \n                            // \n                            rankManager['saveLocalData']();\n                            \n                            // \n                            rankManager['triggerEvent'](\n                                rankManager.constructor['RankEventType'].DATA_UPDATED,\n                                rankType,\n                                rankData\n                            );\n                            \n                            // \n                            if (successCallback) {\n                                successCallback(rankData);\n                            }\n                        } else {\n                            console.error(':', message.error);\n                            \n                            // \n                            const rankManager = this.getRankManager();\n                            rankManager['triggerEvent'](\n                                rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                                rankType,\n                                undefined,\n                                ''\n                            );\n                            \n                            // \n                            if (failCallback) {\n                                failCallback(message.error || { errMsg: '' });\n                            }\n                        }\n                    }\n                };\n                \n                // onMessage\n                try {\n                    wx.onMessage(window[globalHandlerName]);\n                } catch (e) {\n                    console.error('wx.onMessage', e);\n                    // \n                    delete window[globalHandlerName];\n                    \n                    // \n                    const rankManager = this.getRankManager();\n                    rankManager['triggerEvent'](\n                        rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                        rankType,\n                        undefined,\n                        'wx.onMessage'\n                    );\n                    \n                    // \n                    if (failCallback) {\n                        failCallback({ errMsg: 'wx.onMessage' });\n                    }\n                    return;\n                }\n                \n                // \n                setTimeout(() => {\n                    if (!messageHandled) {\n                        // \n                        delete window[globalHandlerName];\n                        console.error('');\n                        \n                        // \n                        const rankManager = this.getRankManager();\n                        rankManager['triggerEvent'](\n                            rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                            rankType,\n                            undefined,\n                            ''\n                        );\n                        \n                        // \n                        if (failCallback) {\n                            failCallback({ errMsg: '' });\n                        }\n                    }\n                }, 5000);\n            } else {\n                // \n                if (failCallback) {\n                    failCallback({ errMsg: '' });\n                }\n            }\n        } catch (error) {\n            console.error(':', error);\n            \n            // \n            const rankManager = this.getRankManager();\n            rankManager['triggerEvent'](\n                rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                rankType,\n                undefined,\n                ''\n            );\n            \n            // \n            if (failCallback) {\n                failCallback(error);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param data \n     * @param rankType \n     * @returns \n     */\n    private processWechatRankData(data: any[], rankType: RankType): RankData[] {\n        const rankData: RankData[] = [];\n        \n        data.forEach(item => {\n            // KVData\n            const coinData = item.KVDataList.find((kv: any) => kv.key === 'coin');\n            const levelData = item.KVDataList.find((kv: any) => kv.key === 'level');\n            \n            const coin = coinData ? parseInt(coinData.value, 10) || 0 : 0;\n            const level = levelData ? parseInt(levelData.value, 10) || 1 : 1;\n            \n            rankData.push({\n                openid: item.openid,\n                nickname: item.nickname,\n                avatarUrl: item.avatarUrl,\n                coin,\n                level,\n                timestamp: Date.now()\n            });\n        });\n        \n        // \n        this.sortRankData(rankData, rankType);\n        \n        // \n        if (rankData.length > 100) {\n            rankData.length = 100;\n        }\n        \n        console.log(`${rankType === RankType.COIN ? '' : ''}: ${rankData.length}`);\n        \n        return rankData;\n    }\n    \n    /**\n     * \n     * @param rankData \n     * @param rankType \n     */\n    private sortRankData(rankData: RankData[], rankType: RankType): void {\n        if (rankType === RankType.COIN) {\n            // \n            rankData.sort((a, b) => b.coin - a.coin);\n        } else if (rankType === RankType.LEVEL) {\n            // \n            rankData.sort((a, b) => {\n                if (a.level !== b.level) {\n                    return b.level - a.level;\n                }\n                return a.timestamp - b.timestamp;\n            });\n        }\n    }\n    \n    /**\n     * \n     * @param buttonNode \n     * @param successCallback \n     * @param failCallback \n     */\n    public createShareButton(buttonNode: any, successCallback?: (shareTicket: string) => void, failCallback?: (err: any) => void): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // \n            wx.createShareButton({\n                style: {\n                    left: buttonNode.x,\n                    top: buttonNode.y,\n                    width: buttonNode.width,\n                    height: buttonNode.height,\n                },\n                success: (res) => {\n                    console.log(':', res);\n                    if (successCallback) {\n                        successCallback(res.shareTickets[0]);\n                    }\n                },\n                fail: (err) => {\n                    console.error(':', err);\n                    if (failCallback) {\n                        failCallback(err);\n                    }\n                }\n            });\n        } catch (error) {\n            console.error(':', error);\n            if (failCallback) {\n                failCallback(error);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param rankType \n     * @param shareTicket \n     */\n    public showOpenDataRank(rankType: RankType, shareTicket?: string): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // \n            const openDataContext = wx.getOpenDataContext();\n            \n            // \n            openDataContext.postMessage({\n                type: 'showRank',\n                rankType: rankType,\n                shareTicket: shareTicket\n            });\n            \n            console.log('');\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     */\n    public hideOpenDataRank(): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // \n            const openDataContext = wx.getOpenDataContext();\n            \n            // \n            openDataContext.postMessage({\n                type: 'hideRank'\n            });\n            \n            console.log('');\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n}","import { Match3ZiUE } from \"./Match3ZiUE\";\n\nexport class ZiStack {\n\n    /** */\n    private m_Stack: Match3ZiUE[] = [];\n\n    /** */\n    public get empty(): boolean {\n        return this.m_Stack.length == 0;\n    }\n\n    /** */\n    public get top(): Match3ZiUE | null {\n        if (this.empty) {\n            return null;\n        }\n        return this.m_Stack[this.m_Stack.length - 1];\n    }\n\n    /** */\n    public push(zi: Match3ZiUE) {\n        this.m_Stack.push(zi);\n    }\n\n    /** */\n    public pop(): Match3ZiUE {\n        return this.m_Stack.pop();\n    }\n}","import { _decorator, Component, Node, Button, Label, UITransform, tween, Vec3 } from 'cc';\nimport { UILayer } from '../../../core/modules/ui/UILayer';\nimport { ResLoader } from '../../../core/modules/res/ResLoader';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n */\n@ccclass('ZouZouEntry')\nexport class ZouZouEntry extends Component {\n    // UI\n    public static readonly viewLayer = UILayer.UI;\n\n    @property(Node)\n    private contentNode: Node = null; // \n\n    @property(Label)\n    private titleLabel: Label = null; // \n\n    @property(Label)\n    private descLabel: Label = null; // \n\n    @property(Button)\n    private closeButton: Button = null; // \n\n    private resLoader: ResLoader = null; // \n\n    /**\n     * UI\n     * @param loader \n     */\n    static R(loader: ResLoader) {\n        // \n        console.log(\"ZouZouEntry: UI\");\n    }\n\n    protected onLoad(): void {\n        // \n        this.resLoader = new ResLoader();\n    }\n\n    protected start(): void {\n        // UI\n        this.initUI();\n        \n        // \n        this.registerButtonEvents();\n        \n        // \n        this.addEnterAnimation();\n    }\n\n    /**\n     * UI\n     */\n    private initUI(): void {\n        // \n        if (this.titleLabel) {\n            this.titleLabel.string = '';\n        }\n        \n        // \n        if (this.descLabel) {\n            this.descLabel.string = '';\n        }\n    }\n\n    /**\n     * \n     */\n    private registerButtonEvents(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.node.on(Button.EventType.CLICK, this.onCloseButtonClick, this);\n        }\n    }\n\n    /**\n     * \n     */\n    private addEnterAnimation(): void {\n        if (this.contentNode) {\n            // 0\n            this.contentNode.setScale(new Vec3(0, 0, 1));\n            \n            // \n            tween(this.contentNode)\n                .to(0.3, { scale: new Vec3(1.1, 1.1, 1) })\n                .to(0.1, { scale: new Vec3(1, 1, 1) })\n                .start();\n        }\n    }\n\n    /**\n     * \n     */\n    private addExitAnimation(): Promise<void> {\n        return new Promise<void>((resolve) => {\n            if (this.contentNode) {\n                tween(this.contentNode)\n                    .to(0.2, { scale: new Vec3(0.8, 0.8, 1) })\n                    .to(0.1, { scale: new Vec3(0, 0, 1) })\n                    .call(() => {\n                        resolve();\n                    })\n                    .start();\n            } else {\n                resolve();\n            }\n        });\n    }\n\n    /**\n     * \n     */\n    private async onCloseButtonClick(): Promise<void> {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('ZouZouEntry: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('ZouZouEntry: ');\n        }\n        \n        // \n        await this.addExitAnimation();\n        \n        // \n        this.close();\n    }\n\n    /**\n     * \n     */\n    private close(): void {\n        // \n        this.node.destroy();\n    }\n\n    /**\n     * \n     */\n    public startGame(): void {\n        console.log('...');\n        // TODO: \n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.node.off(Button.EventType.CLICK, this.onCloseButtonClick, this);\n        }\n        \n        // \n        if (this.resLoader) {\n            this.resLoader.releaseResRef();\n            this.resLoader = null;\n        }\n    }\n}"]}