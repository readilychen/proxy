{"version":3,"sources":["../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/AdConfigInitializer.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/AdConfigManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/AdManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/audio/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/audio/AudioManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/bag/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/bag/BagManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/BagUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/BaseUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/bundle/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/bundle/BundleDownloadManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/CaoChuanJieJianSkill.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/coin/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/coin/CoinManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/DailyRewardUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/DestoryHook.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/data/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/data/GameDataManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GCtrl.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/IAdAdapter.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/index.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/interactive/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/interactive/InteractiveDataManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/JsonsCfg.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/LevelGenerator.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Login/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Login/LoginAudio.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Login/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Login/LoginCtrl.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/LotteryUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/Match3UI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/Match3ZiUE.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/OpenDataManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/PlatformDetector.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/PrefabCfg.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/QianKunNuoYiSkill.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/RankItemUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/RankManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/RankUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/ResConst.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/ResLoader.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/res/ResManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/setting/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/setting/SettingManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/SettingUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/share/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/share/ShareManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/shop/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/shop/ShopConfig.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/ShopItemUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/shop/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/shop/ShopManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/ShopUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/SignManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/SignUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/SkillBase.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/SkillManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/auto/SpriteFramesCfg.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/task/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/task/TaskConfig.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/task/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/task/TaskManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/TaskUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/ToastManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/ToastUI.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/skill/TuoDaoHuiMaSkill.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/UILayer.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ui/UIManager.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/ad/WechatAdAdapter.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/core/modules/rank/WechatOpenDataContext.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/Match3/ZiStack.ts","../file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/ZouZou/file:/Users/dolphin/workspace/gitee/slgg/assets/GScript/GamePlay/modules/ZouZou/ZouZouEntry.ts"],"names":["ccclass","_decorator","property","AdConfigInitializer","_dec","_class","init","configManager","AdConfigManager","getInstance","loadLocalConfig","console","log","error","loadRemoteConfig","_loadRemoteConfig","_asyncToGenerator","apply","arguments","getCurrentConfig","getAdConfig","AdPlatform","DEFAULT","_RF","pop","_instance","platformConfigs","Map","initDefaultConfigs","_proto","prototype","set","WECHAT","rewardedVideoAdUnitId","interstitialAdUnitId","bannerAdUnitId","nativeAdUnitId","BYTEDANCE","platform","get","setAdConfig","config","getPlatformName","setAdConfigs","configs","_this","forEach","_ref","loadFromJson","jsonConfig","platformName","parsePlatformName","loadFromUrl","_loadFromUrl","url","response","fetch","ok","Error","status","json","_x","getAllConfigs","push","resetToDefault","clear","toLowerCase","AdType","AdLoadState","AdEventType","AdManager","eventListeners","currentPlatform","adAdapter","adLoadStates","rewardVideoAd","rewardVideoLoadRetryCount","REWARD_VIDEO_MAX_RETRY_COUNT","interstitialAd","interstitialLoadRetryCount","INTERSTITIAL_MAX_RETRY_COUNT","adRewardConfig","dailyAdWatchLimits","todayAdWatchCount","adUnitIds","REWARD_VIDEO","NOT_LOADED","INTERSTITIAL","initAdRewardConfig","loadTodayAdWatchCount","type","amount","today","Date","toDateString","savedDate","localStorage","getItem","rewardVideoCount","parseInt","interstitialCount","setItem","saveTodayAdWatchCount","_this$todayAdWatchCou","_this$todayAdWatchCou2","toString","getTodayAdWatchCount","adType","getDailyAdWatchLimit","canWatchAd","todayCount","limit","incrementTodayAdWatchCount","currentCount","initAdConfig","detectPlatform","initAdAdapter","triggerEvent","LOAD_SUCCESS","PlatformDetector","adConfig","WechatAdAdapter","initRewardVideoAd","initInterstitialAd","_this$adAdapter$init","addEventListener","param","setupAdapterEventListeners","BANNER","NATIVE","_this2","REWARDED","rewardKey","grantAdReward","rewardInfo","getAdRewardInfo","reward","loadRewardVideoAd","loadInterstitialAd","listener","indexOf","removeEventListener","index","splice","_iterator","_createForOfIteratorHelperLoose","_step","done","value","destroy","getPlatformInfo","getAdLoadState","getAdUnitId","isAdLoaded","LOADED","loadAd","_this3","LOADING","setTimeout","adUnitId","showInterstitialAd","_this4","warn","SHOW_SUCCESS","CLOSED","_this5","showRewardVideoAd","_this6","configKey","rewardConfig","coinManager","CoinManager","addCoin","showAd","customParams","result","AudioManager","m_AttachNode","m_AudioSource","m_CurrentBgm","m_SoundAudioSource","m_ImportantSoundAudioSource","director","getScene","getChildByName","addComponent","AudioSource","soundNode","Node","addChild","loop","importantSoundNode","initSettingListener","settingManager","SettingManager","SettingEventType","SETTING_CHANGED","event","settingType","SettingType","MUSIC","applyMusicSettings","SOUND","applySoundSettings","musicSetting","getMusicSetting","volume","enabled","playing","play","pause","soundSetting","getSoundSetting","playBgMusic","_playBgMusic","bUrl","audioClip","gCtrl","res","loadAssetAsync","AudioClip","audioSource","clip","playSound","_playSound","volumeFactor","_x2","_x3","playImportantSound","_playImportantSound","_x4","_x5","pauseBgMusic","resumeBgMusic","_createClass","key","_ins","ItemType","BagEventType","BagManager","_items","_capacity","_eventListeners","Object","keys","loadBagData","data","sys","parsedData","JSON","parse","items","item","itemId","maxStack","name","count","capacity","size","saveBagData","itemsObj","id","description","icon","quality","canUse","canSell","sellPrice","createTime","expireTime","stringify","addItemByItemId","syncToCloud","getOrCreateItemByItemId","newItem","_extends","addItem","getItemById","shopItem","ShopManager","instance","getShopItemByItemId","CONSUMABLE","BAG_FULL","existingItem","getExistingStackableItem","maxAddCount","addCount","Math","min","ITEM_UPDATED","syncDataToCloud","generateItemId","now","ITEM_ADDED","addItemByShopItem","removeItem","ITEM_REMOVED","useItem","success","applyItemEffect","ITEM_USED","getAllItems","getItemsByType","getCapacity","getItemCount","expandCapacity","addCapacity","BAG_EXPANDED","newCapacity","sortBag","sortBy","sort","a","b","localeCompare","BAG_SORTED","eventType","listeners","random","substr","globalThis","GCtrl","BagUI","_dec2","_dec3","_dec4","Label","_dec5","_dec6","ScrollView","_dec7","_dec8","Prefab","_dec9","_class2","_class3","_BaseUI","_inheritsLoose","_len","length","args","Array","_key","call","concat","_initializerDefineProperty","_descriptor","_assertThisInitialized","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","onLoad","content","bagItemPrefab","closeButton","on","EventType","TOUCH_END","onCloseClick","initBagUI","updateBalance","bagManager","removeAllChildren","getComponent","UITransform","itemHeight","contentHeight","contentSize","Size","createBagItems","tipsLabel","string","node","active","itemNode","instantiate","gapHeight","yPos","setPosition","updateItemInfo","_itemNode$getChildByN","_itemNode$getChildByN2","_itemNode$getChildByN3","_itemNode$getChildByN4","iconSprite","Sprite","iconPath","bundleName","assetPath","assetManager","loadBundle","err","bundle","load","SpriteFrame","spriteFrame","nameLabel","descLabel","quatityLabel","balanceLabel","getCurrentCoin","showToast","showItemDetail","detailPopup","message","scene","emit","hide","onDestroy","off","BaseUI","viewLayer","UILayer","UI","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","_Component","show","Component","BundleDownloadManager","downloadingBundles","downloadedBundles","Set","autoDownloadAllBundles","_autoDownloadAllBundles","bundleNames","downloadPromises","map","downloadBundle","Promise","all","_downloadBundle","has","downloadPromise","resolve","reject","add","isBundleDownloaded","CaoChuanJieJianSkill","_BaseSkill","gameUI","onExecute","_onExecute","params","selectRandomZiTypeFromCollection","selectedZiStyle","sendToast","selectedZis","selectZisFromBoard","eliminateZis","collectionZiList","m_PlaceHolders","styleCountMap","zi","style","styles","from","entries","randomIndex","floor","boardZiList","m_ZiList","matchingZis","filter","ziStyle","indices","_eliminateZis","zis","targetZi","targetPosition","Vec3","position","x","y","z","animationPromises","_loop","isValid","setParent","collectArea","parent","setSiblingIndex","children","ins","createBundleObject","animationPromise","tween","to","start","i","reSetStacks","updateCollectionZiPositions","updateUI","onBeforeActivate","BaseSkill","CoinEventType","currentCoin","totalEarned","totalSpent","coinRecords","adRewardRecords","initEventListeners","loadData","COIN_ADD","COIN_SUBTRACT","source","oldCoin","addCoinRecord","saveData","addCoinWithAnimation","newCoin","subtractCoin","getTotalEarned","getTotalSpent","balance","record","generateRecordId","timestamp","unshift","slice","getCoinRecords","addAdRewardRecord","rewardAmount","watchScene","watchTime","getAdRewardRecords","callback","listenersCopy","coinData","COIN_KEY","COIN_RECORD_KEY","AD_REWARD_KEY","coinDataStr","coinRecordsStr","adRewardStr","resetData","window","DailyRewardUI","isClaimed","claimButton","onClaimClick","doubleRewardButton","onDoubleRewardClick","initDailyRewardUI","updateButtonStates","onAdWatched","DestoryHook","m_Hooks","addHook","hook","GameDataManager","userInfo","getDefaultUserInfo","userId","generateUserId","username","avatar","level","exp","lastLoginTime","consecutiveLoginDays","totalLoginDays","isRecommended","saveLevel","LEVEL_KEY","loadLevel","savedLevel","resetLevel","saveUserInfo","USER_INFO_KEY","loadUserInfo","userInfoStr","loadedUserInfo","validateUserInfo","getUserInfo","updateUserInfo","resetUserInfo","getCurrentLevel","getCurrentExp","getNextLevelExp","currentLevel","LEVEL_EXP_CONFIG","nextLevelConfig","find","getCurrentLevelProgress","currentExp","currentLevelConfig","levelExpRange","currentLevelExp","max","addExp","oldLevel","levelUp","newLevel","levelConfig","setLevelAndExp","canClaimDailyLoginReward","lastLoginDate","currentDate","getDate","getMonth","getFullYear","claimDailyLoginReward","coin","consecutiveDays","timeDiff","getTime","dayDiff","rewardIndex","DAILY_LOGIN_REWARDS","getTodayLoginRewardInfo","canClaim","getConsecutiveLoginDays","getTotalLoginDays","getLastLoginTime","getRecommendedStatus","setRecommendedStatus","day","loginCtrl","LoginCtrl","ResManager","ui","UIManager","ad","bag","shop","task","TaskManager","setting","sign","SignManager","rank","RankManager","openData","OpenDataManager","share","ShareManager","currentGameUI","_init","registerBUrlByCfg","PrefabCfg","autoSign","restoreGameDataFromCloud","canvas2d","preloadRemoteBundles","enterMatch3Game","_enterMatch3Game","openUI","Match3UI","getCurrentGameUI","enterZouZouGame","ToastManager","showMessage","openShop","_openShop","shopUI","ShopUI","openBag","_openBag","bagUI","openLottery","_openLottery","lotteryUI","LotteryUI","openSign","_openSign","signUI","SignUI","openSettings","_openSettings","settingUI","SettingUI","openRank","_openRank","rankUI","RankUI","_preloadRemoteBundles","preloadAllBundles","_restoreGameDataFromCloud","restored","restoreGameData","updateLocalUserData","syncDataToOpenDomain","InteractiveDataManager","POLLING_INTERVAL","pollingInterval","interactiveDataChangeCallbacks","startListening","checkInteractiveData","setInterval","stopListening","clearInterval","_checkInteractiveData","wx","interactiveData","getUserInteractiveStorage","fail","isArray","processShareRewardData","shareRewardData","lastProcessedData","getLastProcessedInteractiveData","newCoins","handleShareRewardChange","saveLastProcessedInteractiveData","addInteractiveDataChangeCallback","removeInteractiveDataChangeCallback","toastManager","dataStr","LAST_PROCESSED_DATA_KEY","modifyFriendInteractiveStorage","_modifyFriendInteractiveStorage","toOpenid","coins","quiet","cleanup","JsonsCfg","LevelGenerator","adjustDifficultyByLevel","positions","shapeType","centerX","centerY","generateCircleShape","shapeName","generateSquareShape","generateStarShape","generateDiamondShape","generateCrossShape","generateMiddleUpBottom","density","noExtend","maxRadius","innerPoints","edgePoints","_step$value","distance","sqrt","pow","_i","_edgePoints","point","_i2","_innerPoints","generateTopLine","generateBottomLine","halfSize","_iterator2","_step2","_step2$value","abs","outerRadius","innerRadius","_iterator3","_step3","_step3$value","angle","atan2","starRadius","cos","generateFourCurnor","SPLIT","COL","sizeX","sizeY","_iterator4","_step4","_step4$value","relX","relY","armLength","armWidth","_iterator5","_step5","_step5$value","generateLevel55","ROW","availableCols","availableRows","row","col","ziNum","types","ziNumPerType","posIndex","_positions$posIndex","_positions$_i","j","generateLevel","ziStepNum","_ref2","selectedTypes","selectTypes","_iterator6","_step6","_positions$posIndex2","segBorder","segMinIndex","temp","typeCount","typeEntries","hasOwnProperty","_i10","_typeEntries","_typeEntries$_i","getCampByLevel","camp","campTypes","ziTypesByCamp","randomType","testLevelGenerator","testLevel","totalPieces","minX","p","maxX","minY","maxY","totalArea","expectedShape","shapes","toFixed","_ref3","join","trim","batchTestLevels","startLevel","endLevel","results","Bundle","m","LoginAudio","bgm","m_OnLoginSuccess","autoLogin","showLogin","onLoginSuccess","Button","isRotating","rotationDuration","rotationTimes","prizes","dailyFreeChances","leftChances","lastLotteryDate","lotteryButton","CLICK","onLotteryButtonClick","onCloseButtonClick","initLotteryChances","initItems","startLottery","showAdAndLottery","selectPrizeByProbability","cumulativeProbability","totalProbability","probabiliy","normalized","probability","byAd","reduceLotteryChance","interactable","prizeIndex","selectAbleIndexs","currentAngle","poiterSprite","prizeAngle","angleDiff","minRotation","targetAngle","rotatePointer","showPrizeResult","calculatePrizeMultiplier","gameDataManager","multiplier","prizeMultiplier","setPrizes","clockwise","actualTargetAngle","easing","prize","updateChanceDisplay","itemConfig","ShopConfig","itemName","shopManager","itemNodes","nodeCount","updateItemNode","itemSprite","itemLabel","spriteComponent","getBundle","uiTransform","setContentSize","labelComponent","todayStr","savedLastDate","savedLeftChances","getLeftChances","adManager","adEventListener","leftChanceLabel","label","video","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_dec23","_dec24","_dec25","_dec26","_descriptor9","_descriptor10","_descriptor11","_descriptor12","_descriptor13","_descriptor14","_descriptor15","_descriptor16","_descriptor17","_descriptor18","_descriptor19","_descriptor20","_descriptor21","_descriptor22","_descriptor23","_descriptor24","_descriptor25","skillManager","currentItem","currentDisplayedItems","levelText","progressBar","progressLabel","entryFee","winReward","isGameStarted","coinAnimationTween","taskManager","gameStartTime","interstitialAdShown","isProcessingContinue","interactiveDataCallback","stacks","m_CollectEventQueue","m_IsProcessingCollectEvent","pageManager","initialZiCount","lastEliminateTime","comboCount","totalComboCount","comboTimeout","campTips","m_IsLose","warningMaskFlashTween","compareVersion","v1","v2","v1Parts","split","v2Parts","len","num1","num2","initRecommendationManager","createPageManager","openlink","systemInfo","getSystemInfoSync","SDKVersion","isSupportRecommended","undefined","showRecommendationPopup","initPopups","gameSuccess","gameFail","pausePannel","initPauseFeature","pauseButton","addButtonTouchEffect","onPauseButtonClicked","cancelButton","onCancelButtonClicked","failShareButton","onFailShareButtonClicked","disableAllZiClicks","pauseCoinRewardLabel","lossAmount","enableAllZiClicks","shareToFriendForCoins","startInteractiveDataListening","getOpenid","then","openid","getUserProfile","nickName","avatarUrl","shareAppMessage","title","imageUrl","query","cachedOpenid","getStorageSync","login","code","mockOpenid","setStorageSync","errMsg","interactiveDataManager","once","stopInteractiveDataListening","desc","cachedUserInfo","handleShareFailure","button","_this7","buttonNode","removeButtonTouchEffect","originalScale","userData","scale","clone","hoverScale","pressScale","MOUSE_ENTER","MOUSE_LEAVE","TOUCH_START","propagationStopped","scheduleOnce","TOUCH_CANCEL","targetOff","Tween","stopAllByTarget","cleanupSuccessPopupButtons","successContinueButton","successDoubleRewardButton","successBuyButton","successShareButton","cleanupFailPopupButtons","failRetryButton","failBuyButton","rebornButton","Match3ZiUE","globalClickable","onCoinChanged","coinNode","coinLabel","updateProgress","checkAndShowInterstitialAd","updateCoinWithAnimation","startCoin","endCoin","duration","stop","onUpdate","target","ratio","remainingZiCount","progress","barNode","progressBarWidth","progressBarHeight","newWidth","percentage","R","loader","addUI","SpriteFramesCfg","initCharactersTexture","addZi","ziUE","isNaN","r","c","targetRow","targetCol","ZiStack","calcClickable","stack","empty","top","_start","warningMask","bind","SkillManager","setupAdEventListeners","initSkillSystem","gameStatus","levelNode","progressBarNode","ProgressBar","labelNode","rmax","row_stacks","cmax","initLevel","clearQipan","_this8","setClickable","_initLevel","_this9","deductEntryFee","updateMatch3TaskProgress","clickFunc","clickZi","isClickable","playFlyToCollectAreaAnimation","removeZi","retryCount","maxRetries","levelJson","board","fallbackLevelJson","isMarkElimnate","changeMoveingTargetIndex","ziCol","ziRow","_this10","addCollectEventToQueue","isCollected","processCollectEventQueue","_processCollectEventQueue","shift","processCollectEvent","_processCollectEvent","tryCollectingZi","checkWin","calculateWinReward","grantWinReward","checkMatch3TaskCompletion","showGameSuccess","nextLevel","_nextLevel","_this11","elimination","it","equals","currentTime","isCombo","showComboTextAnimation","startIndex","checkCollectAreaSpace","checkLose","moveToTargetIndex","v","_ret","startWarningMaskFlash","stopWarningMaskFlash","color","Color","union","repeatForever","remainingSpaces","showGameFail","resetGame","_deductEntryFee","_this12","handleWinAdReward","handleLoseAdReward","handleRespawnAdReward","_handleRespawnAdReward","_this13","executeTuoDaoHuiMaSkill","_param$customParams","doubleReward","rewardCoins","showContinueButton","gameTimeInSeconds","setEntryFee","fee","setWinReward","dailyTaskId","dailyTask","getTaskById","TaskStatus","ACCEPTED","currentProgress","updateTaskProgress","UNACCEPTED","acceptTask","achievementTaskId1","achievementTask1","achievementTaskId2","achievementTask2","COMPLETED","claimTaskReward","levelBonus","gameTime","comboReward","totalReward","rewardDetailLabel","successLevelDetailLabel","_this14","successCoinLabel","onSuccessContinueClicked","onSuccessDoubleRewardClicked","onSuccessBuyButtonClicked","onSuccessShareButtonClicked","_this15","baseReward","_this16","failCoinLabel","onFailRetryClicked","onFailBuyButtonClicked","onRebornButtonClicked","onFailRecoverClicked","_onSuccessBuyButtonClicked","_onFailBuyButtonClicked","_executeTuoDaoHuiMaSkill","skillConfig","cooldown","SkillType","TUO_DAO_HUI_MA","targetType","effectParams","skill","TuoDaoHuiMaSkill","skillsNode","setupBagEventListeners","displayBagItems","checkIfNeedsUpdate","displayedItem","_this17","_event$item","_event$item2","_event$item3","_event$item4","_event$item5","_event$item6","_event$item7","_event$item8","onSkillEvent","skillId","cooldownTime","_this18","consumables","bgSprite","createItemIcon","child","_this19","skillPrefab","skillNode","layer","iconSpriteNode","sprite","iconButton","useButtonNode","useButton","originalSize","width","height","countLabelNode","countLabelTransform","countLabel","fontSize","onItemIconClicked","onUseItemButtonClicked","_onUseItemButtonClicked","_this20","selectedItemItemId","useSuccess","skillSuccess","useSkillByItem","SkillEventType","SKILL_EXECUTED","SKILL_ERROR","remainingItem","shareToWeChat","_this21","_director$getScene$ge","camera","Camera","renderTexture","RenderTexture","reset","originalTargetTexture","targetTexture","Director","EVENT_AFTER_DRAW","canvas","createCanvas","ctx","getContext","readPixels","imageData","createImageData","putImageData","tempFilePath","toTempFilePathSync","destWidth","destHeight","onShareAppMessage","giveShareReward","complete","jsb","fileUtils","saveImageData","getWritablePath","shareReward","showRewardToast","comboTextNode","Layers","Enum","UI_2D","horizontalAlign","verticalAlign","enableOutline","outlineColor","outlineWidth","enableShadow","shadowColor","shadowOffset","Vec2","shadowBlur","setScale","delay","MovingType","m_ClickFunc","m_MovingType","none","m_TargetPosition","m_SmoothFactor","m_FlyingCallBack","setDisplay","click","_setDisplay","characterIndex","paiAsync","Type","SIMPLE","sizeMode","SizeMode","CUSTOM","bClickable","bg","WHITE","cb","flying","currentPosition","newTargetPosition","adjusting","cachedData","lastSyncTime","getDefaultData","loadLocalData","startPeriodicSync","update_time","saveLocalData","SYNC_INTERVAL","WechatOpenDataContext","isWechatEnvironment","updateLocalCache","uploadToOpenDomain","bagItems","convertBagItemsToOpenData","setStorage","getFriendsData","_getFriendsData","getFriendCloudStorage","keyList","gameData","KVDataList","kv","openDataInfo","getCachedData","_restoreGameData","restoreFromLocalStorage","getStorage","processRestoredData","localItem","bagItem","clearCache","detected","isWechatPlatform","isByteDancePlatform","getCurrentPlatform","createRewardedVideoAd","createInterstitialAd","tt","isDefaultPlatform","targetPlatform","supportsAds","ZouZouEntry","ToastUI","QianKunNuoYiSkill","boardZis","getAllZisFromBoard","originalPositions","recordZiPositions","shuffledZis","shuffleZis","reassignZiPositions","shuffled","_reassignZiPositions","originalPosition","playBlinkEffect","updatePosition","round","updateAllZisClickable","originalColor","g","RankItemUI","rankType","rankLabel","valueLabel","nickname","RankType","COIN","LEVEL","setRankStyle","loadAvatar","rankBgNode","rankBgSprite","avatarSprite","RankEventType","coinRankData","levelRankData","wechatOpenDataContext","DATA_UPDATED","REFRESH_SUCCESS","REFRESH_FAILED","coinRankStr","levelRankStr","getCoinRankData","getLevelRankData","getRankData","getWechatOpenDataContext","updateUserDataInRank","rankData","findIndex","sortRankData","extractScore","kvData","getGroupRankData","shareTicket","refreshRankData","refreshWechatRankData","getFriendRankData","processWechatRankData","playerId","uploadUserDataToWechat","uploadUserData","getUserRanking","ToggleContainer","Toggle","currentRankType","coinContentNode","levelContentNode","coinRankItemUIs","levelRankItemUIs","rankManager","refreshButton","onRefreshClick","coinTab","TOGGLE","onCoinTabToggle","levelTab","onLevelTabToggle","coinScrollView","levelScrollView","initRankUI","addRankEventListeners","isChecked","updatePlayerInfo","loadRankData","updateRankUI","updateCoinRankUI","updateLevelRankUI","rankItemPrefab","clearCoinRankItems","generateRankItems","clearLevelRankItems","contentNode","rankItemUIs","contentTransform","createRankItem","rankItemNode","rankItemUI","playerRankLabel","playerNameLabel","playerValueLabel","userRanking","obj","create","ResLoader","toLoadAssets","loadedAssets","m_Released","addSpriteFrame","addAsset","uiClass","getUIClassBUrl","_load","toLoadPromises","toLoad","toLoadResults","asset","addRef","decRef","releaseResRef","autoRelease","comp","bundleDownloadManager","e","loadBundleAsync","loadAsset","callBack","_asset","getAsset","assetBundle","_preloadAllBundles","_soundSetting","_musicSetting","_graphicsSetting","fps","_controlSetting","vibration","sensitivity","_languageSetting","region","_notificationSetting","sound","loadSettingData","SETTING_KEY","validateSettingData","validateSoundSetting","music","validateMusicSetting","graphics","validateGraphicsSetting","control","validateControlSetting","language","validateLanguageSetting","notification","validateNotificationSetting","SETTING_LOADED","saveSettingData","getGraphicsSetting","getControlSetting","getLanguageSetting","getNotificationSetting","updateSoundSetting","oldSetting","newSetting","setSoundEnabled","setSoundVolume","updateMusicSetting","setMusicEnabled","setMusicVolume","updateGraphicsSetting","GRAPHICS","updateControlSetting","CONTROL","updateLanguageSetting","LANGUAGE","updateNotificationSetting","NOTIFICATION","resetAllSettings","oldSettings","SETTING_RESET","newSettings","getAllSettings","exists","validTypes","some","validated","Slider","saveButton","onSaveClick","bgmSlider","onBgmVolumeChange","effectsSlider","onEffectsVolumeChange","bgmToggle","onBgmToggleChange","effectsToggle","onEffectsToggleChange","initSettingUI","isEnabled","launchOptions","getLaunchOptionsSync","shareOpenid","handleShareReward","setupGlobalShareMessage","currentOpenid","hasReceivedFromShareOpenid","sendInteractiveToShareSender","recordShareRewardReceived","shareRewardCount","updateShareRewardRecord","checkLocalShareReward","checkLocalShareRewardInternal","startsWith","getOpenidFromServer","cloud","env","traceUser","callFunction","receivedShareOpenids","getReceivedShareOpenids","receivedShareOpenidsStr","_sendInteractiveToShareSender","openDataManager","date","setUserCloudStorage","shareToFriend","successCallback","failCallback","createShareButton","left","shareTickets","price","ShopItemType","ITEM","getItemByItemId","getItemProducts","getCoinProducts","getSpecialProducts","SPECIAL","getSpecialOfferItems","allItems","specialItems","itemsCopy","specialItem","getRecommendedItemsForNewbie","getRecommendedItemsForAdvanced","getLimitedTimeOfferItems","isSpecial","specialPrice","ShopItemUI","itemData","onDetailClick","onBuyClick","buyButton","onBuyButtonClick","onItemClick","priceLabel","originalPriceLabel","updateBuyButtonState","purchased","getItemData","_specialItems","_purchaseRecords","_purchaseCallbacks","_lastRefreshTime","_refreshInterval","_refreshCallbacks","loadShopData","checkRefresh","initDefaultItems","specialItemsData","specialItemsArray","recordsData","lastRefreshTime","defaultItems","saveShopData","itemsArray","values","refreshShop","getSpecialItems","force","triggerRefreshCallbacks","_iterator7","_step7","registerRefreshCallback","unregisterRefreshCallback","purchaseItem","triggerPurchaseCallback","coinDeductSuccess","deliverySuccess","deliverItem","purchaseTime","_iterator8","_step8","registerPurchaseCallback","unregisterPurchaseCallback","coinAmount","handleSpecialItem","specialType","getPurchaseRecords","getNextRefreshTime","getRefreshRemainingTime","nextRefreshTime","clearData","shopItemUIs","scrollView","initShopUI","updateBalanceDisplay","clearShopItems","shopItems","shopItemPrefab","generateShopItems","eventParam","updateAllShopItemStates","shopItemUI","createShopItem","shopItemNode","buyProduct","productId","showInsufficientBalanceTips","purchasedItem","showPurchaseErrorTips","requiredPrice","errorMessage","constructor","signData","loadSignData","SIGN_DATA_KEY","lastSignDate","signHistory","totalSignDays","saveSignData","canSign","getTodayDateString","doSign","yesterday","getYesterdayDateString","dayIndex","BASE_REWARDS","EXTRA_REWARD","updateSignHistory","newHistory","getRecentSignHistory","getDailyRewards","rewards","getConsecutiveDays","getTotalSignDays","padStart","str","targetLength","padString","String","repeat","ceil","formatDate","year","month","setDate","signItems","initSignItems","bindButtonEvents","updateSignUI","ruleButton","onRuleClick","ruleNode","onRuleNodeClick","dailyRewards","continusDayLabel","rewardLabels","isSigned","SkillState","generateSkillId","configId","state","READY","lastUsedTime","useCount","getId","getConfig","getData","getState","timeSinceLastUse","getRemainingCooldown","cooldownMs","remainingMs","use","_use","ACTIVE","COOLDOWN","update","deltaTime","remainingCooldown","onAfterExecute","fontColor","showToastWithUIManagerAndStyle","_skills","_skillConfigs","_skillData","_gameUI","initSkillConfigs","_gCtrl","loadSkillData","initSkills","tuoDaoHuiMaConfig","caoChuanJieJianConfig","CAO_CHUAN_JIE_JIAN","qianKunNuoYiConfig","QIAN_KUN_NUO_YI","tuoDaoHuiMaSkill","caoChuanJieJianSkill","qianKunNuoYiSkill","saveSkillData","dataObj","_useSkillByItem","targetConfig","targetSkill","skillData","getSkillConfig","getAllSkillConfigs","getSkill","getAllSkills","skills","_isInitialized","_initPromise","_doInitCharactersTexture","_doInitCharactersTexture2","resManager","textureUrl","texture","Texture2D","setCharactersTexture","createCharacterSpriteFrame","_charactersTexture","cols","rows","totalCount","textureWidth","textureHeight","cellWidth","cellHeight","rect","Rect","offset","getCharacterSpriteFrame","_charactersSpriteFrames","getCharacterSpriteFrameAsync","_getCharacterSpriteFrameAsync","_paiAsync","pai","TaskConfig","_taskConfigs","loadTaskConfigs","unlocked","unlockCondition","getTaskConfig","taskId","getAllTaskConfigs","getDailyTaskConfigs","dailyTasks","getAchievementTaskConfigs","achievementTasks","getUnlockedAchievementTaskConfigs","unlockedTasks","isTaskUnlocked","unlockTask","_dailyTasks","_achievementTasks","_taskRecords","_taskUpdateCallbacks","_taskCompleteCallbacks","_taskRewardClaimedCallbacks","_onDailyTasksRefreshed","loadTaskData","loadTaskRecords","checkDailyTasksRefresh","taskConfig","dailyTaskConfigs","achievementTaskConfigs","lastRefreshDate","refreshDailyTasks","saveTaskRecords","saveTaskRecord","getDailyTasks","getAchievementTasks","getAllTasks","t","acceptTime","triggerTaskUpdateCallbacks","completeTime","triggerTaskCompleteCallbacks","triggerTaskRewardClaimedCallbacks","rewardResults","grantReward","allRewardsGranted","every","claimTime","rollbackRewards","heroId","hero","vipExp","grantedRewards","claimMultipleTaskRewards","taskIds","getClaimableTasks","allTasks","checkAchievementProgress","eventData","achievementConfigs","_taskId4","newProgress","condition","heroCount","playerLevel","unlockAchievementTask","canUnlock","previousTask","gameProgress","checkAllAchievementUnlockConditions","_loop2","_taskId5","registerDailyTasksRefreshedCallback","registerTaskUpdateCallback","unregisterTaskUpdateCallback","registerTaskCompleteCallback","registerTaskRewardClaimedCallback","unregisterTaskRewardClaimedCallback","unregisterTaskCompleteCallback","_iterator9","_step9","_iterator10","_step10","TaskType","DAILY","ACHIEVEMENT","TaskUI","tabContainer","onTabSwitch","initTaskUI","toggles","getComponentsInChildren","dailyTaskList","achievementTaskList","showTaskDetail","claimReward","showToastWithUIManager","showMessageWithStyle","_showToastWithUIManager","toastUI","showToastFallback","_showToastWithUIManagerAndStyle","_x6","_x7","_x8","setupToast","bgNode","bgTransform","overflow","labelTransform","playAnimation","Toast","lastZi","getLastZiFromCollection","returnZiToBoard","_returnZiToBoard","targetX","targetY","updateAffectedZisClickable","returnedZi","g_KeyCls2BUrl","cfg","uiClassName","g_UICls2BUrl","G_VIEW_SIZE","adapterScreen","resolutionPolicy","view","getResolutionPolicy","designSize","getDesignResolutionSize","frameSize","screen","windowSize","frameW","frameH","isScreenWidthLarger","targetResolutionPolicy","ResolutionPolicy","FIXED_HEIGHT","FIXED_WIDTH","getContentStrategy","strategy","setDesignResolutionSize","setUIClassBUrl","js","getClassName","MyLayer","m_Canvas","m_Layers","Scene","maxLayer","_openUI","resLoader","ueClass","prefab","onError","errorDetails","errCode","errDetail","fullError","FAILED","LOAD_FAILED","onClose","isEnded","SHOW_FAILED","offLoad","offError","offClose","getRankManager","createOpenDataContext","updateLocalUserInfo","currentUserInfo","getOpenDataContext","openDataContext","postMessage","messageHandled","globalHandlerName","onMessage","levelData","showOpenDataRank","hideOpenDataRank","m_Stack","initUI","registerButtonEvents","addEnterAnimation","titleLabel","addExitAnimation","_onCloseButtonClick","close","startGame"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator } from 'cc';\nimport { AdConfigManager } from './AdConfigManager';\nimport { AdPlatform } from './AdManager';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n * \n */\n@ccclass('AdConfigInitializer')\nexport class AdConfigInitializer {\n    \n    /**\n     * \n     */\n    public static init(): void {\n        const configManager = AdConfigManager.getInstance();\n        \n        // \n        this.loadLocalConfig();\n        \n        // \n        // this.loadRemoteConfig();\n    }\n    \n    /**\n     * \n     */\n    private static loadLocalConfig(): void {\n        try {\n            // resources\n            // \n            console.log('AdConfigInitializer: ');\n            \n            // \n            // const customConfig = {\n            //     wechat: {\n            //         rewardedVideoAdUnitId: 'your-custom-wechat-rewarded-ad-unit-id',\n            //         interstitialAdUnitId: 'your-custom-wechat-interstitial-ad-unit-id',\n            //     }\n            // };\n            // AdConfigManager.getInstance().loadFromJson(customConfig);\n            \n        } catch (error) {\n            console.error('AdConfigInitializer: ', error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private static async loadRemoteConfig(): Promise<void> {\n        try {\n            // \n            // const configUrl = 'https://your-server.com/ad-config.json';\n            // await AdConfigManager.getInstance().loadFromUrl(configUrl);\n            \n            console.log('AdConfigInitializer: ');\n            \n        } catch (error) {\n            console.error('AdConfigInitializer: ', error);\n            // \n            this.loadLocalConfig();\n        }\n    }\n    \n    /**\n     * \n     */\n    public static getCurrentConfig() {\n        return AdConfigManager.getInstance().getAdConfig(AdPlatform.DEFAULT);\n    }\n}","import { AdPlatform } from './AdManager';\n\n/**\n * \n */\nexport interface IAdConfig {\n    /** ID */\n    rewardedVideoAdUnitId: string;\n    /** ID */\n    interstitialAdUnitId: string;\n    /** BannerID */\n    bannerAdUnitId?: string;\n    /** ID */\n    nativeAdUnitId?: string;\n}\n\n/**\n * \n */\nexport interface IPlatformAdConfig {\n    /**  */\n    platform: AdPlatform;\n    /**  */\n    config: IAdConfig;\n}\n\n/**\n * \n * ID\n */\nexport class AdConfigManager {\n    private static _instance: AdConfigManager | null = null;\n    \n    /**\n     * AdConfigManager\n     */\n    public static getInstance(): AdConfigManager {\n        if (!AdConfigManager._instance) {\n            AdConfigManager._instance = new AdConfigManager();\n        }\n        return AdConfigManager._instance;\n    }\n    \n    /**\n     * \n     */\n    private platformConfigs: Map<AdPlatform, IAdConfig> = new Map();\n    \n    /**\n     * \n     */\n    private constructor() {\n        // \n        this.initDefaultConfigs();\n    }\n    \n    /**\n     * \n     */\n    private initDefaultConfigs(): void {\n        // \n        this.platformConfigs.set(AdPlatform.WECHAT, {\n            rewardedVideoAdUnitId: 'adunit-ab8f7341f27e9bb7',\n            interstitialAdUnitId: 'adunit-interstitial-wechat',\n            bannerAdUnitId: 'adunit-banner-wechat',\n            nativeAdUnitId: 'adunit-native-wechat',\n        });\n        \n        // \n        this.platformConfigs.set(AdPlatform.BYTEDANCE, {\n            rewardedVideoAdUnitId: 'your-bytedance-rewarded-ad-unit-id',\n            interstitialAdUnitId: 'your-bytedance-interstitial-ad-unit-id',\n            bannerAdUnitId: 'your-bytedance-banner-ad-unit-id',\n            nativeAdUnitId: 'your-bytedance-native-ad-unit-id',\n        });\n        \n        // \n        this.platformConfigs.set(AdPlatform.DEFAULT, {\n            rewardedVideoAdUnitId: 'adunit-ab8f7341f27e9bb7',\n            interstitialAdUnitId: 'test-interstitial-ad-unit-id',\n            bannerAdUnitId: 'test-banner-ad-unit-id',\n            nativeAdUnitId: 'test-native-ad-unit-id',\n        });\n    }\n    \n    /**\n     * \n     * @param platform \n     * @returns \n     */\n    public getAdConfig(platform: AdPlatform): IAdConfig | null {\n        return this.platformConfigs.get(platform) || null;\n    }\n    \n    /**\n     * \n     * @param platform \n     * @param config \n     */\n    public setAdConfig(platform: AdPlatform, config: IAdConfig): void {\n        this.platformConfigs.set(platform, config);\n        console.log(`AdConfigManager:  ${this.getPlatformName(platform)} `);\n    }\n    \n    /**\n     * \n     * @param configs \n     */\n    public setAdConfigs(configs: IPlatformAdConfig[]): void {\n        configs.forEach(({ platform, config }) => {\n            this.setAdConfig(platform, config);\n        });\n    }\n    \n    /**\n     * JSON\n     * @param jsonConfig JSON\n     */\n    public loadFromJson(jsonConfig: { [key: string]: IAdConfig }): void {\n        for (const platformName in jsonConfig) {\n            const platform = this.parsePlatformName(platformName);\n            if (platform !== null) {\n                this.setAdConfig(platform, jsonConfig[platformName]);\n            }\n        }\n    }\n    \n    /**\n     * URL\n     * @param url URL\n     * @returns Promise<void>\n     */\n    public async loadFromUrl(url: string): Promise<void> {\n        try {\n            const response = await fetch(url);\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            const jsonConfig = await response.json();\n            this.loadFromJson(jsonConfig);\n            console.log('AdConfigManager: URL');\n        } catch (error) {\n            console.error('AdConfigManager: URL', error);\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getAllConfigs(): IPlatformAdConfig[] {\n        const configs: IPlatformAdConfig[] = [];\n        this.platformConfigs.forEach((config, platform) => {\n            configs.push({ platform, config });\n        });\n        return configs;\n    }\n    \n    /**\n     * \n     */\n    public resetToDefault(): void {\n        this.platformConfigs.clear();\n        this.initDefaultConfigs();\n        console.log('AdConfigManager: ');\n    }\n    \n    /**\n     * \n     * @param platformName \n     * @returns \n     */\n    private parsePlatformName(platformName: string): AdPlatform | null {\n        switch (platformName.toLowerCase()) {\n            case 'wechat':\n            case 'weixin':\n            case 'wx':\n                return AdPlatform.WECHAT;\n            case 'bytedance':\n            case 'tt':\n            case 'douyin':\n                return AdPlatform.BYTEDANCE;\n            case 'default':\n            case 'test':\n                return AdPlatform.DEFAULT;\n            default:\n                return null;\n        }\n    }\n    \n    /**\n     * \n     * @param platform \n     * @returns \n     */\n    private getPlatformName(platform: AdPlatform): string {\n        switch (platform) {\n            case AdPlatform.WECHAT:\n                return '';\n            case AdPlatform.BYTEDANCE:\n                return '';\n            case AdPlatform.DEFAULT:\n                return '';\n            default:\n                return '';\n        }\n    }\n}","import { _decorator } from 'cc';\nimport CoinManager from '../coin/CoinManager';\nimport { IAdAdapter } from './IAdAdapter';\nimport { WechatAdAdapter } from './WechatAdAdapter';\nimport { PlatformDetector } from './PlatformDetector';\nimport { AdConfigManager, IAdConfig } from './AdConfigManager';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n */\nexport enum AdType {\n    REWARD_VIDEO = 'reward_video',  // \n    INTERSTITIAL = 'interstitial',\n    BANNER = \"BANNER\",\n    NATIVE = \"NATIVE\",  // \n}\n\n/**\n * \n */\nexport enum AdLoadState {\n    NOT_LOADED = 'not_loaded',      // \n    LOADING = 'loading',            // \n    LOADED = 'loaded',              // \n    FAILED = 'failed',              // \n}\n\n/**\n * \n */\nexport enum AdEventType {\n    LOAD_SUCCESS = 'load_success',      // \n    LOAD_FAILED = 'load_failed',        // \n    SHOW_SUCCESS = 'show_success',      // \n    SHOW_FAILED = 'show_failed',        // \n    CLICKED = 'clicked',                // \n    CLOSED = 'closed',                  // \n    REWARDED = 'rewarded',              // \n}\n\n/**\n * \n */\nexport interface AdEventParam {\n    type: AdEventType;\n    adType: AdType;\n    adUnitId?: string;  // ID\n    rewardKey?: string; // \n    error?: string;\n    reward?: {\n        type: string;\n        amount: number;\n    };\n    customParams?: any;\n}\n\n/**\n * \n */\nexport type AdEventListener = (param: AdEventParam) => void;\n\n/**\n * \n */\nexport enum AdPlatform {\n    WECHAT = 'wechat',      // \n    BYTEDANCE = 'bytedance', // \n    DEFAULT = 'default',     // \n}\n\n/**\n * \n * \n */\nexport class AdManager {\n    private static _instance: AdManager | null = null;\n    \n    /**\n     * AdManager\n     */\n    public static getInstance(): AdManager {\n        if (!AdManager._instance) {\n            AdManager._instance = new AdManager();\n        }\n        return AdManager._instance;\n    }\n    \n    /**\n     * \n     */\n    private eventListeners: AdEventListener[] = [];\n    \n    /**\n     * \n     */\n    private currentPlatform: AdPlatform = AdPlatform.DEFAULT;\n    \n    /**\n     * \n     */\n    private adAdapter: IAdAdapter | null = null;\n    \n    /**\n     * \n     */\n    private adLoadStates: Map<AdType, AdLoadState> = new Map();\n    \n    /**\n     * \n     */\n    private rewardVideoAd: any = null;\n    \n    /**\n     * \n     */\n    private rewardVideoLoadRetryCount: number = 0;\n    \n    /**\n     * \n     */\n    private readonly REWARD_VIDEO_MAX_RETRY_COUNT: number = 3;\n    \n    /**\n     * \n     */\n    private interstitialAd: any = null;\n    \n    /**\n     * \n     */\n    private interstitialLoadRetryCount: number = 0;\n    \n    /**\n     * \n     */\n    private readonly INTERSTITIAL_MAX_RETRY_COUNT: number = 3;\n    \n    /**\n     * \n     */\n    private adRewardConfig: Map<string, { type: string; amount: number }> = new Map();\n    \n    /**\n     * \n     */\n    private dailyAdWatchLimits: Map<AdType, number> = new Map();\n    \n    /**\n     * \n     */\n    private todayAdWatchCount: Map<AdType, number> = new Map();\n    \n    /**\n     * ID\n     */\n    private adUnitIds: Map<AdType, string> = new Map();\n    \n    /**\n     * \n     */\n    private constructor() {\n        // \n        this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.NOT_LOADED);\n        this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.NOT_LOADED);\n        \n        // ID\n        //adUnitId: 'adunit-8bb6f4d5faa29d1e'\n        this.adUnitIds.set(AdType.REWARD_VIDEO, 'adunit-8bb6f4d5faa29d1e');\n        this.adUnitIds.set(AdType.INTERSTITIAL, 'interstitial_unit_id');\n        \n        // \n        this.initAdRewardConfig();\n        \n        // \n        this.dailyAdWatchLimits.set(AdType.REWARD_VIDEO, 10000);  // 10\n        this.dailyAdWatchLimits.set(AdType.INTERSTITIAL, 20000); // 20\n        \n        // \n        this.loadTodayAdWatchCount();\n    }\n    \n    /**\n     * \n     */\n    private initAdRewardConfig(): void {\n        // \n        this.adRewardConfig.set('reward_video_default', { type: 'coin', amount: 100 });\n        this.adRewardConfig.set('reward_video_double', { type: 'coin', amount: 200 });\n        this.adRewardConfig.set('reward_video_special', { type: 'coin', amount: 500 });\n        \n        // \n        // reward_video_reward_video_match3_win_reward\n        this.adRewardConfig.set('reward_video_match3_lose_reward', { type: 'coin', amount: 360 });\n        this.adRewardConfig.set('reward_video_reward_video_match3_win_reward', { type: 'coin', amount: 180 });\n        \n        // \n        this.adRewardConfig.set('interstitial_default', { type: 'coin', amount: 10 });\n    }\n    \n    /**\n     * \n     */\n    private loadTodayAdWatchCount(): void {\n        const today = new Date().toDateString();\n        const savedDate = localStorage.getItem('ad_watch_date');\n        \n        if (savedDate === today) {\n            // \n            const rewardVideoCount = parseInt(localStorage.getItem('ad_watch_reward_video_count') || '0', 10);\n            const interstitialCount = parseInt(localStorage.getItem('ad_watch_interstitial_count') || '0', 10);\n            \n            this.todayAdWatchCount.set(AdType.REWARD_VIDEO, rewardVideoCount);\n            this.todayAdWatchCount.set(AdType.INTERSTITIAL, interstitialCount);\n        } else {\n            // \n            this.todayAdWatchCount.set(AdType.REWARD_VIDEO, 0);\n            this.todayAdWatchCount.set(AdType.INTERSTITIAL, 0);\n            \n            // \n            localStorage.setItem('ad_watch_date', today);\n            localStorage.setItem('ad_watch_reward_video_count', '0');\n            localStorage.setItem('ad_watch_interstitial_count', '0');\n        }\n    }\n    \n    /**\n     * \n     */\n    private saveTodayAdWatchCount(): void {\n        localStorage.setItem('ad_watch_reward_video_count', this.todayAdWatchCount.get(AdType.REWARD_VIDEO)?.toString() || '0');\n        localStorage.setItem('ad_watch_interstitial_count', this.todayAdWatchCount.get(AdType.INTERSTITIAL)?.toString() || '0');\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public getTodayAdWatchCount(adType: AdType): number {\n        return this.todayAdWatchCount.get(adType) || 0;\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public getDailyAdWatchLimit(adType: AdType): number {\n        return this.dailyAdWatchLimits.get(adType) || 0;\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public canWatchAd(adType: AdType): boolean {\n        const todayCount = this.getTodayAdWatchCount(adType);\n        const limit = this.getDailyAdWatchLimit(adType);\n        return todayCount < limit;\n    }\n    \n    /**\n     * \n     * @param adType \n     */\n    private incrementTodayAdWatchCount(adType: AdType): void {\n        const currentCount = this.getTodayAdWatchCount(adType);\n        this.todayAdWatchCount.set(adType, currentCount + 1);\n        this.saveTodayAdWatchCount();\n    }\n    public init(adUnitIds?: { [key in AdType]?: string }): void {\n        console.log('AdManager: ');\n        \n        // \n        this.initAdConfig();\n        \n        // \n        this.detectPlatform();\n        \n        // ID\n        if (adUnitIds) {\n            for (const adType in adUnitIds) {\n                if (adUnitIds[adType as AdType]) {\n                    this.adUnitIds.set(adType as AdType, adUnitIds[adType as AdType]!);\n                }\n            }\n        }\n        \n        // \n        this.initAdAdapter();\n        \n        // \n        this.triggerEvent({\n            type: AdEventType.LOAD_SUCCESS,\n            adType: AdType.REWARD_VIDEO,\n        });\n    }\n    \n    /**\n     * \n     */\n    private initAdConfig(): void {\n        // \n        // \n        console.log('AdManager: ');\n        \n        // \n        // const customConfig = {\n        //     wechat: {\n        //         rewardedVideoAdUnitId: 'your-custom-wechat-rewarded-ad-unit-id',\n        //         interstitialAdUnitId: 'your-custom-wechat-interstitial-ad-unit-id',\n        //     }\n        // };\n        // AdConfigManager.getInstance().loadFromJson(customConfig);\n    }\n    \n    /**\n     * \n     */\n    private detectPlatform(): void {\n        this.currentPlatform = PlatformDetector.getInstance().detectPlatform();\n        console.log(`AdManager:  ${PlatformDetector.getInstance().getPlatformName()}`);\n    }\n    \n    /**\n     * \n     */\n    private initAdAdapter(): void {\n        // \n        const adConfig = AdConfigManager.getInstance().getAdConfig(this.currentPlatform);\n        \n        if (!adConfig) {\n            console.error(`AdManager:  ${PlatformDetector.getInstance().getPlatformName()} `);\n            return;\n        }\n        \n        // \n        switch (this.currentPlatform) {\n            case AdPlatform.WECHAT:\n                this.adAdapter = new WechatAdAdapter();\n                console.log('AdManager: ');\n                break;\n            // case AdPlatform.BYTEDANCE:\n            //     this.adAdapter = new ByteDanceAdAdapter();\n            //     console.log('AdManager: ');\n            //     break;\n            default:\n                // \n                this.adAdapter = null;\n                // \n                this.initRewardVideoAd();\n                this.initInterstitialAd();\n                return;\n        }\n        \n        // \n        if (this.adAdapter) {\n            // AdManager\n            this.adAdapter.addEventListener((param) => {\n                this.triggerEvent(param);\n            });\n            \n            // \n            this.setupAdapterEventListeners();\n            \n            // \n            this.adAdapter.init({\n                [AdType.REWARD_VIDEO]: adConfig.rewardedVideoAdUnitId,\n                [AdType.INTERSTITIAL]: adConfig.interstitialAdUnitId,\n                [AdType.BANNER]: adConfig.bannerAdUnitId,\n                [AdType.NATIVE]: adConfig.nativeAdUnitId,\n            });\n        }\n    }\n    \n    /**\n     * \n     */\n    private setupAdapterEventListeners(): void {\n        // \n        this.addEventListener((param) => {\n            // \n            if (param.type === AdEventType.REWARDED && param.adType === AdType.REWARD_VIDEO && this.adAdapter) {\n                console.log('AdManager: ', param);\n                \n                // 'default'\n                const rewardKey = param.rewardKey || 'default';\n                \n                // \n                this.grantAdReward(AdType.REWARD_VIDEO, rewardKey);\n                \n                // \n                const rewardInfo = this.getAdRewardInfo(AdType.REWARD_VIDEO, rewardKey);\n                if (rewardInfo) {\n                    param.reward = rewardInfo;\n                }\n            }\n        });\n        \n        console.log('AdManager: ');\n    }\n    \n    /**\n     * \n     */\n    private initRewardVideoAd(): void {\n        \n        // \n        console.log('AdManager: ');\n        this.loadRewardVideoAd();\n    }\n    \n    /**\n     * \n     */\n    private initInterstitialAd(): void {\n        // SDK\n        // if (window['wx']) { this.initWechatInterstitialAd(); }\n        \n        // \n        console.log('AdManager: ');\n        this.loadInterstitialAd();\n    }\n    \n    /**\n     * \n     * @param listener \n     */\n    public addEventListener(listener: AdEventListener): void {\n        if (this.eventListeners.indexOf(listener) === -1) {\n            this.eventListeners.push(listener);\n        }\n    }\n    \n    /**\n     * \n     * @param listener \n     */\n    public removeEventListener(listener: AdEventListener): void {\n        const index = this.eventListeners.indexOf(listener);\n        if (index !== -1) {\n            this.eventListeners.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     * @param param \n     */\n    private triggerEvent(param: AdEventParam): void {\n        for (const listener of this.eventListeners) {\n            try {\n                listener(param);\n            } catch (error) {\n                console.error('AdManager: ', error);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getAdConfig(): IAdConfig | null {\n        return AdConfigManager.getInstance().getAdConfig(this.currentPlatform);\n    }\n    \n    /**\n     * \n     * @param config \n     */\n    public setAdConfig(config: IAdConfig): void {\n        AdConfigManager.getInstance().setAdConfig(this.currentPlatform, config);\n        // \n        if (this.adAdapter) {\n            this.adAdapter.destroy();\n            this.initAdAdapter();\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getPlatformInfo(): { platform: AdPlatform; name: string; supportsAds: boolean } {\n        return PlatformDetector.getInstance().getPlatformInfo();\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public getAdLoadState(adType: AdType): AdLoadState {\n        // \n        if (this.adAdapter) {\n            return this.adAdapter.getAdLoadState(adType);\n        }\n        \n        // \n        return this.adLoadStates.get(adType) || AdLoadState.NOT_LOADED;\n    }\n    \n    /**\n     * ID\n     * @param adType \n     * @returns ID\n     */\n    public getAdUnitId(adType: AdType): string | undefined {\n        return this.adUnitIds.get(adType);\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public isAdLoaded(adType: AdType): boolean {\n        // \n        if (this.adAdapter) {\n            return this.adAdapter.isAdLoaded(adType);\n        }\n        \n        // \n        return this.getAdLoadState(adType) === AdLoadState.LOADED;\n    }\n    \n    \n    /**\n     * \n     * @param adType \n     */\n    public loadAd(adType: AdType): void {\n        // \n        if (this.adAdapter) {\n            this.adAdapter.loadAd(adType);\n            return;\n        }\n        \n        // \n        switch (adType) {\n            case AdType.REWARD_VIDEO:\n                this.loadRewardVideoAd();\n                break;\n            case AdType.INTERSTITIAL:\n                this.loadInterstitialAd();\n                break;\n            default:\n                console.log(`AdManager:  ${adType}`);\n                break;\n        }\n    }\n    \n    /**\n     * \n     */\n    public loadInterstitialAd(): void {\n        if (this.getAdLoadState(AdType.INTERSTITIAL) === AdLoadState.LOADING) {\n            console.log('AdManager: ');\n            return;\n        }\n        \n        console.log('AdManager: ');\n        this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.LOADING);\n        \n        // SDK\n        // \n        setTimeout(() => {\n            // \n            this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.LOADED);\n            this.interstitialLoadRetryCount = 0;\n            this.triggerEvent({\n                type: AdEventType.LOAD_SUCCESS,\n                adType: AdType.INTERSTITIAL,\n                adUnitId: this.getAdUnitId(AdType.INTERSTITIAL),\n            });\n            console.log('AdManager: ');\n        }, 1000);\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public showInterstitialAd(): boolean {\n        // \n        if (this.adAdapter) {\n            console.warn('AdManager: ');\n            return false;\n        }\n        \n        if (!this.isAdLoaded(AdType.INTERSTITIAL)) {\n            console.log('AdManager: ');\n            this.loadInterstitialAd();\n            return false;\n        }\n        \n        console.log('AdManager: ');\n        \n        // SDK\n        // \n        this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.NOT_LOADED);\n        \n        setTimeout(() => {\n            // \n            this.triggerEvent({\n                type: AdEventType.SHOW_SUCCESS,\n                adType: AdType.INTERSTITIAL,\n                adUnitId: this.getAdUnitId(AdType.INTERSTITIAL),\n            });\n            \n            // \n            setTimeout(() => {\n                this.triggerEvent({\n                    type: AdEventType.CLOSED,\n                    adType: AdType.INTERSTITIAL,\n                    adUnitId: this.getAdUnitId(AdType.INTERSTITIAL),\n                });\n                \n                // \n                this.loadInterstitialAd();\n            }, 2000);\n        }, 500);\n        \n        return true;\n    }\n    public loadRewardVideoAd(): void {\n        if (this.getAdLoadState(AdType.REWARD_VIDEO) === AdLoadState.LOADING) {\n            console.log('AdManager: ');\n            return;\n        }\n        \n        console.log('AdManager: ');\n        this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.LOADING);\n        \n        // SDK\n        // \n        setTimeout(() => {\n            // \n            this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.LOADED);\n            this.rewardVideoLoadRetryCount = 0;\n            this.triggerEvent({\n                type: AdEventType.LOAD_SUCCESS,\n                adType: AdType.REWARD_VIDEO,\n                adUnitId: this.getAdUnitId(AdType.REWARD_VIDEO),\n            });\n            console.log('AdManager: ');\n        }, 1000);\n    }\n    \n    /**\n     * \n     * @param rewardKey \n     * @returns \n     */\n    public showRewardVideoAd(rewardKey: string = 'default'): boolean {\n        // \n        if (this.adAdapter) {\n            console.warn('AdManager: ');\n            return false;\n        }\n        \n        if (!this.isAdLoaded(AdType.REWARD_VIDEO)) {\n            console.log('AdManager: ');\n            this.loadRewardVideoAd();\n            return false;\n        }\n        \n        if (!this.canWatchAd(AdType.REWARD_VIDEO)) {\n            console.log('AdManager: ');\n            return false;\n        }\n        \n        console.log('AdManager: ');\n        \n        // SDK\n        // \n        this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.NOT_LOADED);\n        \n        setTimeout(() => {\n            // \n            this.triggerEvent({\n                type: AdEventType.SHOW_SUCCESS,\n                adType: AdType.REWARD_VIDEO,\n                adUnitId: this.getAdUnitId(AdType.REWARD_VIDEO),\n            });\n            \n            // \n            setTimeout(() => {\n                // \n                this.grantAdReward(AdType.REWARD_VIDEO, rewardKey);\n                \n                // \n                const rewardInfo = this.getAdRewardInfo(AdType.REWARD_VIDEO, rewardKey);\n                this.triggerEvent({\n                    type: AdEventType.REWARDED,\n                    adType: AdType.REWARD_VIDEO,\n                    adUnitId: this.getAdUnitId(AdType.REWARD_VIDEO),\n                    reward: rewardInfo || { type: 'coin', amount: 0 },\n                });\n            }, 2000);\n            \n            // \n            setTimeout(() => {\n                this.triggerEvent({\n                    type: AdEventType.CLOSED,\n                    adType: AdType.REWARD_VIDEO,\n                    adUnitId: this.getAdUnitId(AdType.REWARD_VIDEO),\n                });\n                \n                // \n                this.loadRewardVideoAd();\n            }, 3000);\n        }, 500);\n        \n        return true;\n    }\n    \n    /**\n     * \n     * @param adType \n     * @param rewardKey \n     * @returns \n     */\n    public grantAdReward(adType: AdType, rewardKey: string = 'default'): boolean {\n        // \n        const configKey = `${adType}_${rewardKey}`;\n        const rewardConfig = this.adRewardConfig.get(configKey);\n        \n        if (!rewardConfig) {\n            console.error(`AdManager:  ${configKey}`);\n            return false;\n        }\n        \n        // \n        this.incrementTodayAdWatchCount(adType);\n        \n        // \n        if (rewardConfig.type === 'coin') {\n            const coinManager = CoinManager.getInstance();\n            coinManager.addCoin(rewardConfig.amount, 'ad_reward');\n            console.log(`AdManager:  ${rewardConfig.amount}`);\n            return true;\n        }\n        \n        // \n        console.error(`AdManager:  ${rewardConfig.type}`);\n        return false;\n    }\n    \n    /**\n     * \n     * @param adType \n     * @param rewardKey \n     * @returns \n     */\n    public getAdRewardInfo(adType: AdType, rewardKey: string = 'default'): { type: string; amount: number } | null {\n        const configKey = `${adType}_${rewardKey}`;\n        return this.adRewardConfig.get(configKey) || null;\n    }\n    /**\n     * \n     * @param adType \n     * @param rewardKey \n     * @returns \n     */\n    public showAd(adType: AdType, rewardKey: string = 'default', customParams: any = {}): boolean {\n        // \n        if (this.adAdapter) {\n            // \n            if (adType === AdType.REWARD_VIDEO && !this.canWatchAd(AdType.REWARD_VIDEO)) {\n                console.log('AdManager: ');\n                return false;\n            }\n            \n            const result = this.adAdapter.showAd(adType, rewardKey, customParams);\n            \n            // \n            if (result && adType === AdType.REWARD_VIDEO) {\n                this.incrementTodayAdWatchCount(adType);\n            }\n            \n            return result;\n        }\n        \n        // \n        switch (adType) {\n            case AdType.REWARD_VIDEO:\n                return this.showRewardVideoAd(rewardKey);\n            case AdType.INTERSTITIAL:\n                return this.showInterstitialAd();\n            default:\n                console.log(`AdManager:  ${adType}`);\n                return false;\n        }\n    }\n}","import { AudioClip, AudioSource, director, Node } from \"cc\";\nimport { SettingManager, SettingEventType, SettingType } from \"../setting/SettingManager\";\n\n/**\n * \n */\nexport class AudioManager {\n\n    private static _ins: AudioManager = null;\n\n    /**AudioSource */\n    private m_AttachNode: Node = null;\n    /**AudioSource */\n    private m_AudioSource: AudioSource = null;\n    \n    /** */\n    private m_CurrentBgm: AudioClip = null;\n    \n    /**AudioSource */\n    private m_SoundAudioSource: AudioSource = null;\n    \n    /**AudioSource */\n    private m_ImportantSoundAudioSource: AudioSource = null;\n\n    static get ins(): AudioManager {\n        if (this._ins === null) {\n            this._ins = new AudioManager();\n        }\n        return this._ins;\n    }\n\n    private constructor() {\n        //\n        // this.m_AttachNode = new Node(\"Sound_bg\");\n        // director.addPersistRootNode(this.m_AttachNode);\n        this.m_AttachNode = director.getScene().getChildByName(\"Canvas\");\n        this.m_AudioSource = this.m_AttachNode.addComponent(AudioSource);\n        \n        // AudioSource\n        const soundNode = new Node(\"Sound_Effect\");\n        this.m_AttachNode.addChild(soundNode);\n        this.m_SoundAudioSource = soundNode.addComponent(AudioSource);\n        this.m_SoundAudioSource.loop = false;\n        \n        // AudioSource\n        const importantSoundNode = new Node(\"Important_Sound_Effect\");\n        this.m_AttachNode.addChild(importantSoundNode);\n        this.m_ImportantSoundAudioSource = importantSoundNode.addComponent(AudioSource);\n        this.m_ImportantSoundAudioSource.loop = false;\n        \n        // \n        this.initSettingListener();\n    }\n    \n    /**\n     * \n     */\n    private initSettingListener(): void {\n        const settingManager = SettingManager.getInstance();\n        \n        // \n        settingManager.addEventListener(SettingEventType.SETTING_CHANGED, (event) => {\n            if (event.settingType === SettingType.MUSIC) {\n                this.applyMusicSettings();\n            } else if (event.settingType === SettingType.SOUND) {\n                this.applySoundSettings();\n            }\n        });\n        \n        // \n        this.applyMusicSettings();\n        this.applySoundSettings();\n    }\n    \n    /**\n     * \n     */\n    private applyMusicSettings(): void {\n        const settingManager = SettingManager.getInstance();\n        const musicSetting = settingManager.getMusicSetting();\n        \n        // \n        if (this.m_AudioSource) {\n            this.m_AudioSource.volume = musicSetting.volume;\n            \n            if (musicSetting.enabled && this.m_CurrentBgm) {\n                if (!this.m_AudioSource.playing) {\n                    this.m_AudioSource.play();\n                }\n            } else {\n                if (this.m_AudioSource.playing) {\n                    this.m_AudioSource.pause();\n                }\n            }\n        }\n        \n        console.log(`AudioManager:  - : ${musicSetting.enabled}, : ${musicSetting.volume}`);\n    }\n    \n    /**\n     * \n     */\n    private applySoundSettings(): void {\n        const settingManager = SettingManager.getInstance();\n        const soundSetting = settingManager.getSoundSetting();\n        \n        // \n        if (this.m_SoundAudioSource) {\n            this.m_SoundAudioSource.volume = soundSetting.volume;\n        }\n        \n        // \n        if (this.m_ImportantSoundAudioSource) {\n            this.m_ImportantSoundAudioSource.volume = soundSetting.volume;\n        }\n        \n        console.log(`AudioManager:  - : ${soundSetting.enabled}, : ${soundSetting.volume}`);\n    }\n\n    /**\n     * \n     * @param bUrl bundleName: url\n     */\n    public async playBgMusic(bUrl: IBundleUrl) {\n        //\n        const audioClip = await gCtrl.res.loadAssetAsync(bUrl, AudioClip);\n        this.m_CurrentBgm = audioClip;\n        let audioSource = this.m_AudioSource;\n        audioSource.clip = audioClip;\n        audioSource.loop = true;\n        \n        // \n        const settingManager = SettingManager.getInstance();\n        const musicSetting = settingManager.getMusicSetting();\n        audioSource.volume = musicSetting.volume;\n        \n        if (musicSetting.enabled) {\n            audioSource.play();\n        }\n    }\n    \n    /**\n     * \n     * @param bUrl bundleName: url\n     * @param volumeFactor 1\n     */\n    public async playSound(bUrl: IBundleUrl, volumeFactor: number = 1) {\n        // \n        const settingManager = SettingManager.getInstance();\n        const soundSetting = settingManager.getSoundSetting();\n        \n        // \n        if (!soundSetting.enabled) {\n            console.log(`AudioManager: `);\n            return;\n        }\n        \n        //\n        const audioClip = await gCtrl.res.loadAssetAsync(bUrl, AudioClip);\n        this.m_SoundAudioSource.clip = audioClip;\n        this.m_SoundAudioSource.volume = soundSetting.volume * volumeFactor;\n        this.m_SoundAudioSource.play();\n        \n        console.log(`AudioManager: : ${soundSetting.volume}`);\n    }\n    \n    /**\n     * AudioSource\n     * @param bUrl bundleName: url\n     * @param volumeFactor 1\n     */\n    public async playImportantSound(bUrl: IBundleUrl, volumeFactor: number = 1) {\n        // \n        const settingManager = SettingManager.getInstance();\n        const soundSetting = settingManager.getSoundSetting();\n        \n        // \n        if (!soundSetting.enabled) {\n            console.log(`AudioManager: `);\n            return;\n        }\n        \n        //\n        const audioClip = await gCtrl.res.loadAssetAsync(bUrl, AudioClip);\n        this.m_ImportantSoundAudioSource.clip = audioClip;\n        this.m_ImportantSoundAudioSource.volume = soundSetting.volume * volumeFactor;\n        this.m_ImportantSoundAudioSource.play();\n        \n        console.log(`AudioManager: : ${soundSetting.volume}`);\n    }\n    \n    /**\n     * \n     */\n    public pauseBgMusic(): void {\n        if (this.m_AudioSource && this.m_AudioSource.playing) {\n            this.m_AudioSource.pause();\n            console.log(\"AudioManager: \");\n        }\n    }\n    \n    /**\n     * \n     */\n    public resumeBgMusic(): void {\n        if (this.m_AudioSource && this.m_CurrentBgm) {\n            // \n            const settingManager = SettingManager.getInstance();\n            const musicSetting = settingManager.getMusicSetting();\n            \n            // \n            if (musicSetting.enabled) {\n                this.m_AudioSource.play();\n                console.log(\"AudioManager: \");\n            }\n        }\n    }\n}","import { _decorator, sys } from 'cc';\nimport { ShopItem, ShopManager } from '../shop/ShopManager';\n\n/**\n * \n */\nexport enum ItemType {\n    PROP = 'prop',          // \n    EQUIPMENT = 'equipment', // \n    MATERIAL = 'material',   // \n    CONSUMABLE = 'consumable' // \n}\n\n/**\n * \n */\nexport interface BagItem {\n    id: string;              // ID\n    itemId: string;          // ID\n    type: ItemType;          // \n    name: string;            // \n    description: string;     // \n    icon: string;            // \n    count: number;           // \n    maxStack: number;        // \n    quality: number;         // 1-5\n    canUse: boolean;         // \n    canSell: boolean;        // \n    sellPrice: number;       // \n    useEffect?: any;         // \n    createTime: number;      // \n    expireTime?: number;     // \n}\n\n/**\n * \n */\nexport enum BagEventType {\n    ITEM_ADDED = 'item_added',         // \n    ITEM_REMOVED = 'item_removed',     // \n    ITEM_UPDATED = 'item_updated',     // \n    ITEM_USED = 'item_used',           // \n    BAG_FULL = 'bag_full',             // \n    BAG_EXPANDED = 'bag_expanded',     // \n    BAG_SORTED = 'bag_sorted'          // \n}\n\n/**\n * \n */\nexport interface BagEvent {\n    type: BagEventType;\n    item?: BagItem;\n    items?: BagItem[];\n    data?: any;\n}\n\n/**\n * \n * \n */\nexport class BagManager {\n    private static _instance: BagManager;\n    private _items: Map<string, BagItem> = new Map<string, BagItem>(); // ID\n    private _capacity: number = 10000000; // \n    private _eventListeners: Map<BagEventType, Function[]> = new Map<BagEventType, Function[]>(); // \n    \n    /**\n     * BagManager\n     */\n    public static getInstance(): BagManager {\n        if (!this._instance) {\n            this._instance = new BagManager();\n        }\n        return this._instance;\n    }\n\n    /**\n     * \n     */\n    private constructor() {\n        // \n        Object.keys(BagEventType).forEach((key: string) => {\n            const type = BagEventType[key as keyof typeof BagEventType];\n            this._eventListeners.set(type, []);\n        });\n    }\n\n    /**\n     * \n     */\n    public init(): void {\n        console.log('BagManager: ');\n        this.loadBagData();\n    }\n\n    /**\n     * \n     */\n    private loadBagData(): void {\n        try {\n            const data = sys.localStorage.getItem('bag_data');\n            if (data) {\n                const parsedData = JSON.parse(data);\n                // Map\n                this._items = new Map<string, BagItem>();\n                if (parsedData.items) {\n                    Object.keys(parsedData.items).forEach(key => {\n                        const item = parsedData.items[key];\n                        // \n                        if (item && item.itemId) {\n                            // maxStack\n                            if (!item.maxStack || item.maxStack < 9999) {\n                                item.maxStack = 9999;\n                                console.log(`BagManager:  ${item.name} maxStack9999`);\n                            }\n                            this._items.set(item.itemId, item);\n                            console.log(`BagManager:  ${item.name}  ${item.count}`);\n                        }\n                    });\n                }\n                this._capacity = parsedData.capacity || 1000000;\n                console.log(`BagManager:  ${this._items.size} `);\n            } else {\n                console.log('BagManager: ');\n            }\n        } catch (error) {\n            console.error('BagManager: ', error);\n            this._items = new Map<string, BagItem>();\n            this._capacity = 100;\n        }\n    }\n\n    /**\n     * \n     */\n    private saveBagData(): void {\n        try {\n            // Map\n            const itemsObj: { [key: string]: BagItem } = {};\n            this._items.forEach((value, key) => {\n                // \n                itemsObj[key] = {\n                    id: value.id,\n                    itemId: value.itemId,\n                    type: value.type,\n                    name: value.name,\n                    description: value.description,\n                    icon: value.icon,\n                    count: value.count,\n                    maxStack: value.maxStack,\n                    quality: value.quality,\n                    canUse: value.canUse,\n                    canSell: value.canSell,\n                    sellPrice: value.sellPrice,\n                    createTime: value.createTime,\n                    expireTime: value.expireTime\n                };\n            });\n            \n            const data = {\n                items: itemsObj,\n                capacity: this._capacity\n            };\n            \n            // \n            sys.localStorage.setItem('bag_data', JSON.stringify(data));\n            console.log(`BagManager:  ${this._items.size} `);\n        } catch (error) {\n            console.error('BagManager: ', error);\n        }\n    }\n\n    public addItemByItemId(itemId: string, count: number = 1, syncToCloud: boolean = true): boolean {\n        // \n        const item = this.getOrCreateItemByItemId(itemId);\n        if (!item) {\n            console.error(`BagManager:  ${itemId} `);\n            return false;\n        }\n        \n        // \n        const newItem: BagItem = {\n            ...item,\n            count: count\n        };\n        \n        // \n        return this.addItem(newItem, syncToCloud);\n    }\n    private getOrCreateItemByItemId(itemId: string): BagItem | undefined {\n        let item = this.getItemById(itemId);\n        if (!item) {\n            const shopItem = ShopManager.instance.getShopItemByItemId(itemId);   \n            item = {\n                id: '',\n                itemId: shopItem.itemId,\n                type: ItemType.CONSUMABLE,\n                name: shopItem.name,\n                description: shopItem.description,\n                icon: shopItem.icon,\n                count: 1,\n                maxStack: 9999,\n                quality: 1,\n                canUse: true,\n                canSell: false,\n                sellPrice: 0,\n                createTime: 0\n            };\n        }\n        return item;\n    }\n\n    public getItemById(itemId: string): BagItem | undefined {\n        return this._items.get(itemId);\n    }\n\n    /**\n     * \n     * @param item \n     * @param syncToCloud true\n     * @returns \n     */\n    public addItem(item: BagItem, syncToCloud: boolean = true): boolean {\n        // \n        if (this._items.size >= this._capacity) {\n            console.warn('BagManager: ');\n            this.triggerEvent({ type: BagEventType.BAG_FULL });\n            return false;\n        }\n\n        // \n        const existingItem = this.getExistingStackableItem(item);\n        if (existingItem) {\n            const maxAddCount = existingItem.maxStack - existingItem.count;\n            const addCount = Math.min(item.count, maxAddCount);\n            \n            if (addCount > 0) {\n                // \n                existingItem.count += addCount;\n                this._items.set(existingItem.itemId, existingItem);\n                \n                // \n                this.saveBagData();\n                \n                // \n                this.triggerEvent({ type: BagEventType.ITEM_UPDATED, item: existingItem });\n                \n                // \n                if (syncToCloud) {\n                    this.syncDataToCloud();\n                }\n                \n                // \n                if (item.count > addCount) {\n                    item.count -= addCount;\n                    return this.addItem(item, syncToCloud);\n                }\n                \n                console.log(`BagManager:  ${existingItem.name}  ${existingItem.count}`);\n                return true;\n            }\n        }\n\n        // ID\n        item.id = this.generateItemId();\n        item.createTime = Date.now();\n        this._items.set(item.itemId, item);\n        \n        // \n        this.saveBagData();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        this.triggerEvent({ type: BagEventType.ITEM_ADDED, item: item });\n        console.log(`BagManager:  ${item.name}  ${item.count}`);\n        return true;\n    }\n\n    /**\n     * ID\n     * @param itemId ID\n     * @param count \n     * @param syncToCloud true\n     * @returns \n     */\n    public addItemByShopItem(shopItem: ShopItem, syncToCloud: boolean = true): boolean {\n        // \n        // \n        const item: BagItem = {\n            id: '',\n            itemId: shopItem.itemId,\n            type: ItemType.CONSUMABLE,\n            name: shopItem.name,\n            description: shopItem.description,\n            icon: shopItem.icon,\n            count: shopItem.count || 1,\n            maxStack: 9999,\n            quality: 1,\n            canUse: true,\n            canSell: false,\n            sellPrice: 0,\n            createTime: Date.now()\n        };\n        \n        console.log(`BagManager:  ${item.name}  ${item.count}`);\n        return this.addItem(item, syncToCloud);\n    }\n\n    /**\n     * \n     * @param itemId ID\n     * @param count \n     * @param syncToCloud true\n     * @returns \n     */\n    public removeItem(itemId: string, count: number = -1, syncToCloud: boolean = true): boolean {\n        const item = this._items.get(itemId);\n        if (!item) {\n            console.warn(`BagManager: ${itemId}`);\n            return false;\n        }\n\n        if (count === -1 || count >= item.count) {\n            // \n            this._items.delete(itemId);\n            this.saveBagData();\n            \n            // \n            if (syncToCloud) {\n                this.syncDataToCloud();\n            }\n            \n            this.triggerEvent({ type: BagEventType.ITEM_REMOVED, item: item });\n            return true;\n        } else {\n            // \n            item.count -= count;\n            this._items.set(itemId, item);\n            this.saveBagData();\n            \n            // \n            if (syncToCloud) {\n                this.syncDataToCloud();\n            }\n            \n            this.triggerEvent({ type: BagEventType.ITEM_UPDATED, item: item });\n            return true;\n        }\n    }\n\n    /**\n     * \n     * @param itemId ID\n     * @param count 1\n     * @returns \n     */\n    public useItem(itemId: string, count: number = 1): boolean {\n        const item = this._items.get(itemId);\n        if (!item) {\n            console.warn(`BagManager: ${itemId}`);\n            return false;\n        }\n\n        if (!item.canUse) {\n            console.warn(`BagManager: ${itemId}`);\n            return false;\n        }\n\n        if (item.count < count) {\n            console.warn(`BagManager: ${itemId}`);\n            return false;\n        }\n\n        // \n        if (item.expireTime && item.expireTime < Date.now()) {\n            console.warn(`BagManager: ${itemId}`);\n            return false;\n        }\n\n        // \n        const success = this.applyItemEffect(item, count);\n        if (success) {\n            // \n            this.removeItem(itemId, count);\n            this.triggerEvent({ type: BagEventType.ITEM_USED, item: item, data: { count } });\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * \n     * @param item \n     * @param count \n     * @returns \n     */\n    private applyItemEffect(item: BagItem, count: number): boolean {\n        // \n        // \n        console.log(`BagManager: ${item.name} x${count}`);\n        \n        // \n        if (item.type === ItemType.CONSUMABLE) {\n            // \n            // CoinManager\n            console.log(`BagManager: ${item.name}`);\n            return true;\n        }\n        \n        return true;\n    }\n\n    /**\n     * \n     * @param itemId ID\n     * @returns null\n     */\n    public getItem(itemId: string): BagItem | null {\n        return this._items.get(itemId) || null;\n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getAllItems(): BagItem[] {\n        const items: BagItem[] = [];\n        this._items.forEach(value => {\n            items.push(value);\n        });\n        return items;\n    }\n\n    /**\n     * \n     * @param type \n     * @returns \n     */\n    public getItemsByType(type: ItemType): BagItem[] {\n        const items: BagItem[] = [];\n        this._items.forEach(value => {\n            if (value.type === type) {\n                items.push(value);\n            }\n        });\n        return items;\n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getCapacity(): number {\n        return this._capacity;\n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getItemCount(): number {\n        return this._items.size;\n    }\n\n    /**\n     * \n     * @param addCapacity \n     * @returns \n     */\n    public expandCapacity(addCapacity: number): boolean {\n        if (addCapacity <= 0) {\n            return false;\n        }\n\n        this._capacity += addCapacity;\n        this.saveBagData();\n        this.triggerEvent({ type: BagEventType.BAG_EXPANDED, data: { addCapacity, newCapacity: this._capacity } });\n        return true;\n    }\n\n    /**\n     * \n     * @param sortBy 'type', 'quality', 'name'\n     * @returns \n     */\n    public sortBag(sortBy: string = 'type'): boolean {\n        try {\n            const items: BagItem[] = [];\n            this._items.forEach(value => {\n                items.push(value);\n            });\n            \n            // \n            items.sort((a, b) => {\n                switch (sortBy) {\n                    case 'type':\n                        return a.type.localeCompare(b.type);\n                    case 'quality':\n                        return b.quality - a.quality;\n                    case 'name':\n                        return a.name.localeCompare(b.name);\n                    case 'count':\n                        return b.count - a.count;\n                    default:\n                        return 0;\n                }\n            });\n            \n            // Map\n            this._items = new Map<string, BagItem>();\n            items.forEach(item => {\n                this._items.set(item.id, item);\n            });\n            \n            this.saveBagData();\n            this.triggerEvent({ type: BagEventType.BAG_SORTED, data: { sortBy } });\n            return true;\n        } catch (error) {\n            console.error('BagManager: ', error);\n            return false;\n        }\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param listener \n     */\n    public addEventListener(eventType: BagEventType, listener: Function): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            listeners.push(listener);\n        }\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param listener \n     */\n    public removeEventListener(eventType: BagEventType, listener: Function): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            const index = listeners.indexOf(listener);\n            if (index !== -1) {\n                listeners.splice(index, 1);\n            }\n        }\n    }\n\n    /**\n     * \n     * @param event \n     */\n    private triggerEvent(event: BagEvent): void {\n        const listeners = this._eventListeners.get(event.type);\n        if (listeners) {\n            listeners.forEach(listener => {\n                try {\n                    listener(event);\n                } catch (error) {\n                    console.error('BagManager: ', error);\n                }\n            });\n        }\n    }\n\n    /**\n     * \n     * @param item \n     * @returns null\n     */\n    private getExistingStackableItem(item: BagItem): BagItem | null {\n        let result: BagItem | null = null;\n        this._items.forEach((existingItem, key) => {\n            // itemIdid\n            if (existingItem.itemId === item.itemId && \n                existingItem.count < existingItem.maxStack &&\n                (!existingItem.expireTime || existingItem.expireTime === item.expireTime)) {\n                result = existingItem;\n                console.log(`BagManager:  ${existingItem.name}  ${existingItem.count}`);\n                // \n                return;\n            }\n        });\n        return result;\n    }\n\n    /**\n     * ID\n     * @returns ID\n     */\n    private generateItemId(): string {\n        return `item_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    \n    /**\n     * \n     */\n    private syncDataToCloud(): void {\n        try {\n            // \n            const gCtrl = (globalThis as any).GCtrl;\n            if (gCtrl && gCtrl.syncDataToCloud) {\n                gCtrl.syncDataToCloud();\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n}","import { _decorator, Component, Node, Button, Label, ScrollView, Sprite, Prefab, instantiate, Vec3, UITransform, resources, assetManager, SpriteFrame, Size } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { UILayer } from './UILayer';\nimport { BagManager } from '../bag/BagManager';\nimport { BagItem } from '../bag/BagManager';\nimport CoinManager from '../coin/CoinManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('BagUI')\nexport class BagUI extends BaseUI {\n    // UI\n    public static readonly viewLayer = UILayer.UI;\n    \n    // \n    @property(Node)\n    itemList: Node = null;\n\n    // \n    @property(Node)\n    detailPopup: Node = null;\n\n    // \n    @property(Label)\n    tipsLabel: Label = null;\n\n    // \n    @property(Node)\n    closeButton: Node = null;\n\n    // \n    @property(ScrollView)\n    scrollView: ScrollView = null;\n\n    // \n    @property(Node)\n    content: Node = null;\n\n    // \n    @property(Prefab)\n    bagItemPrefab: Prefab = null;\n\n    // \n    @property(Label)\n    balanceLabel: Label = null;\n\n    protected onLoad(): void {\n        console.log('BagUI: onLoad');\n        \n        // \n        if (!this.content) {\n            console.error('BagUI: content');\n            return;\n        }\n        \n        if (!this.bagItemPrefab) {\n            console.error('BagUI: bagItemPrefab');\n            return;\n        }\n        \n        if (!this.closeButton) {\n            console.warn('BagUI: closeButton');\n        } else {\n            // \n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        this.initBagUI();\n        console.log('BagUI: onLoad');\n    }\n\n    /**\n     * \n     */\n    private initBagUI() {\n        console.log('BagUI: ');\n        \n        // \n        this.updateBalance();\n        \n        // \n        const bagManager = BagManager.getInstance();\n        const items = bagManager.getAllItems();\n        \n        console.log(`BagUI:  ${items.length} `);\n        \n        // \n        if (this.content) {\n            this.content.removeAllChildren();\n        }\n        \n        // content\n        if (this.content && this.content.getComponent(UITransform)) {\n            const itemHeight = 100; // 100\n            const contentHeight = items.length * itemHeight;\n            this.content.getComponent(UITransform).contentSize = new Size(580, contentHeight);\n        }\n        \n        // UI\n        this.createBagItems(items);\n        \n        // \n        // this.updateCapacity(bagManager.getItemCount(), bagManager.getCapacity());\n    }\n\n    /**\n     * UI\n     * @param items \n     */\n    private createBagItems(items: BagItem[]) {\n        if (!this.content || !this.bagItemPrefab) {\n            console.error('BagUI: contentbagItemPrefab');\n            return;\n        }\n\n        if (items.length === 0) {\n            console.log('BagUI: UI');\n            // \n            if (this.tipsLabel) {\n                this.tipsLabel.string = '';\n                this.tipsLabel.node.active = true;\n            }\n            return;\n        } else if (this.tipsLabel) {\n            this.tipsLabel.node.active = false;\n        }\n        \n        // UI\n        items.forEach((item, index) => {\n            // \n            const itemNode = instantiate(this.bagItemPrefab);\n            \n            const gapHeight = 40; // \n            // \n            const yPos = -index * 100 - 50 - gapHeight * index; // 100\n            \n            itemNode.setPosition(0, yPos, 0);\n            \n            // \n            this.updateItemInfo(itemNode, item);\n            \n            // content\n            this.content.addChild(itemNode);\n            \n            console.log(`BagUI: UI ${item.name} (ID: ${item.id})`);\n        });\n    }\n\n    /**\n     * \n     * @param itemNode \n     * @param item \n     */\n    private updateItemInfo(itemNode: Node, item: BagItem) {\n        // \n        const iconSprite = itemNode.getChildByName('iconSprite')?.getComponent(Sprite);\n        if (iconSprite && item.icon) {\n            // \n            const iconPath = item.icon;\n            const bundleName = 'CommonUI'; // bundle\n            const assetPath = `ui/${iconPath}`; // \n            \n            // bundle\n            assetManager.loadBundle(bundleName, (err, bundle) => {\n                if (err) {\n                    console.error(`Failed to load bundle: ${bundleName}`, err);\n                    return;\n                }\n                \n                // bundle\n                bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                    if (err) {\n                        console.error(`Failed to load sprite frame: ${assetPath} from bundle: ${bundleName}`, err);\n                        return;\n                    }\n                    \n                    if (spriteFrame && iconSprite) {\n                        iconSprite.spriteFrame = spriteFrame;\n                    } else {\n                        console.error(`Failed to get sprite frame: ${assetPath} from bundle: ${bundleName}`);\n                    }\n                });\n            });\n        }\n        \n        // \n        const nameLabel = itemNode.getChildByName('nameLabel')?.getComponent(Label);\n        if (nameLabel) {\n            nameLabel.string = item.name;\n        }\n        \n        // \n        const descLabel = itemNode.getChildByName('descLabel')?.getComponent(Label);\n        if (descLabel) {\n            descLabel.string = item.description;\n        }\n        \n        // \n        const quatityLabel = itemNode.getChildByName('quatityLabel')?.getComponent(Label);\n        if (quatityLabel) {\n            quatityLabel.string = ` X  ${item.count}`;\n        }\n    }\n\n    /**\n     * \n     */\n    private updateBalance() {\n        if (this.balanceLabel) {\n            // \n            const coinManager = CoinManager.getInstance();\n            this.balanceLabel.string = `: ${coinManager.getCurrentCoin()}`;\n            // this.balanceLabel.string = ': 1000'; // \n        }\n    }\n\n    // /**\n    //  * \n    //  * @param current \n    //  * @param capacity \n    //  */\n    // private updateCapacity(current: number, capacity: number) {\n    //     if (this.capacityLabel) {\n    //         const capacityLabelComp = this.capacityLabel.getComponent(Label);\n    //         if (capacityLabelComp) {\n    //             capacityLabelComp.string = `: ${current}/${capacity}`;\n    //         }\n    //     }\n    // }\n\n    /**\n     * \n     * @param itemId ID\n     */\n    public useItem(itemId: string) {\n        console.log(`BagUI:  ${itemId}`);\n        \n        // BagManager\n        const bagManager = BagManager.getInstance();\n        const success = bagManager.useItem(itemId);\n        \n        if (success) {\n            console.log(`BagUI:  ${itemId} `);\n            // \n            this.showToast(``);\n            \n            // \n            this.initBagUI();\n        } else {\n            console.error(`BagUI:  ${itemId} `);\n            // \n            this.showToast(``);\n        }\n    }\n\n    /**\n     * \n     * @param itemId ID\n     */\n    public showItemDetail(itemId: string) {\n        if (this.detailPopup) {\n            // TODO: ID\n            this.detailPopup.active = true;\n        }\n    }\n\n    /**\n     * \n     * @param message \n     */\n    private showToast(message: string) {\n        // Toast\n        console.log(`BagUI Toast: ${message}`);\n        // : gCtrl.ui.showToast(message);\n    }\n\n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('BagUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('BagUI: ');\n        }\n        // \n        this.hide();\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        super.onDestroy();\n    }\n}","import { _decorator, Component } from 'cc';\nconst { ccclass } = _decorator;\n\n/**\n * UI\n * UI\n */\n@ccclass('BaseUI')\nexport class BaseUI extends Component {\n    /**\n     * UI\n     */\n    public show(): void {\n        this.node.active = true;\n    }\n\n    /**\n     * UI\n     */\n    public hide(): void {\n        this.node.active = false;\n    }\n\n\n    /**\n     * UI\n     */\n    // public destroy(): boolean {\n    //     return super.destroy();\n    // }\n}","import { assetManager } from \"cc\";\n\nexport class BundleDownloadManager {\n    private static instance: BundleDownloadManager;\n    private downloadingBundles: Map<string, Promise<void>> = new Map();\n    private downloadedBundles: Set<string> = new Set();\n    \n    public static getInstance(): BundleDownloadManager {\n        if (!BundleDownloadManager.instance) {\n            BundleDownloadManager.instance = new BundleDownloadManager();\n        }\n        return BundleDownloadManager.instance;\n    }\n    \n    /**\n     * \n     */\n    public async autoDownloadAllBundles(): Promise<void> {\n        console.log('BundleDownloadManager: ');\n        \n        // \n        const bundleNames = ['CommonUI', 'LoginBN', 'Match3BN', 'GScriptBN'];\n        \n        // \n        const downloadPromises = bundleNames.map(name => this.downloadBundle(name));\n        \n        try {\n            await Promise.all(downloadPromises);\n            console.log('BundleDownloadManager: ');\n        } catch (error) {\n            console.error('BundleDownloadManager: ', error);\n        }\n    }\n    \n    /**\n     * \n     */\n    public async downloadBundle(bundleName: string): Promise<void> {\n        // \n        if (this.downloadedBundles.has(bundleName)) {\n            return;\n        }\n        \n        // Promise\n        if (this.downloadingBundles.has(bundleName)) {\n            return this.downloadingBundles.get(bundleName);\n        }\n        \n        // Promise\n        const downloadPromise = new Promise<void>((resolve, reject) => {\n            console.log(`BundleDownloadManager:  ${bundleName}`);\n            \n            assetManager.loadBundle(bundleName, (err, bundle) => {\n                if (err) {\n                    console.error(`BundleDownloadManager:  ${bundleName} `, err);\n                    reject(err);\n                } else {\n                    console.log(`BundleDownloadManager:  ${bundleName} `);\n                    this.downloadedBundles.add(bundleName);\n                    resolve();\n                }\n            });\n        });\n        \n        // Promise\n        this.downloadingBundles.set(bundleName, downloadPromise);\n        \n        try {\n            await downloadPromise;\n        } finally {\n            // Promise\n            this.downloadingBundles.delete(bundleName);\n        }\n    }\n    \n    /**\n     * \n     */\n    public isBundleDownloaded(bundleName: string): boolean {\n        return this.downloadedBundles.has(bundleName);\n    }\n}","import { AudioManager } from '../audio/AudioManager';\nimport { createBundleObject } from '../res/ResConst';\nimport { BaseSkill, SkillConfig, SkillType, SkillState } from './SkillBase';\nimport { Node, tween, Vec3 } from 'cc';\n\n/**\n * \n * 3\n */\nexport class CaoChuanJieJianSkill extends BaseSkill {\n    private gameUI: any;\n    \n    constructor(config: SkillConfig, gameUI: any) {\n        super(config);\n        this.gameUI = gameUI;\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected async onExecute(params?: any): Promise<boolean> {\n        try {\n            console.log(`: ${this.config.name}`);\n            \n            // \n            const [selectedZiStyle, count] = this.selectRandomZiTypeFromCollection() || [0, 0];\n            \n            if (!selectedZiStyle) {\n                console.warn('');\n                this.sendToast('');\n                return false;\n            }\n            \n            // 3\n            const selectedZis = this.selectZisFromBoard(selectedZiStyle, 3 - count);\n            \n            if (selectedZis.length < 1) {\n                console.warn(`${selectedZiStyle}`);   \n                return false;\n            }\n            \n            // \n            const success = await this.eliminateZis(selectedZis);\n            \n            if (success) {\n                console.log(`${selectedZis.length}${selectedZiStyle}`);\n                return true;\n            } else {\n                console.warn('');\n                return false;\n            }\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @returns null\n     */\n    private selectRandomZiTypeFromCollection(): [number, number] | null {\n        // \n        const collectionZiList = this.gameUI.m_PlaceHolders;\n        \n        if (!collectionZiList || collectionZiList.length === 0) {\n            return null;\n        }\n        \n        // \n        const styleCountMap: Map<number, number> = new Map();\n        \n        collectionZiList.forEach(zi => {\n            // style\n            const style = zi.style;\n            const count = styleCountMap.get(style) || 0;\n            styleCountMap.set(style, count + 1);\n        });\n        console.log(styleCountMap);\n\n        // \n        const styles = Array.from(styleCountMap.entries());\n        if (styles.length === 0) {\n            return null;\n        }\n        console.log(styles);\n        \n        const randomIndex = Math.floor(Math.random() * styles.length);\n        return styles[randomIndex];\n    }\n    \n    /**\n     * \n     * @param style \n     * @param count \n     * @returns \n     */\n    private selectZisFromBoard(style: number, count: number): any[] {\n        // \n        const boardZiList = this.gameUI.m_ZiList;\n        \n        if (!boardZiList || boardZiList.length === 0) {\n            return [];\n        }\n        \n        // \n        const matchingZis = boardZiList.filter(zi => {\n            // style\n            const ziStyle = zi.style;\n            return ziStyle === style;\n        });\n\n        console.log(`${count}${style}`, matchingZis);\n        \n        // \n        if (matchingZis.length <= count) {\n            return matchingZis;\n        }\n        \n        // \n        const selectedZis: any[] = [];\n        const indices = new Set<number>();\n        \n        while (selectedZis.length < count && indices.size < matchingZis.length) {\n            const randomIndex = Math.floor(Math.random() * matchingZis.length);\n            if (!indices.has(randomIndex)) {\n                indices.add(randomIndex);\n                selectedZis.push(matchingZis[randomIndex]);\n            }\n        }\n        \n        return selectedZis;\n    }\n    \n    /**\n     * \n     * @param zis \n     * @returns \n     */\n    private async eliminateZis(zis: any[]): Promise<boolean> {\n        try {\n            // \n            const collectionZiList = this.gameUI.m_PlaceHolders;\n            \n            if (!collectionZiList || collectionZiList.length === 0) {\n                return false;\n            }\n            \n            // \n            const matchingZis = collectionZiList.filter(zi => {\n                // style\n                const ziStyle = zi.style;\n                return ziStyle === zis[0].style;\n            });\n            \n            if (matchingZis.length === 0) {\n                console.warn('');\n                this.sendToast('');\n                return false;\n            }\n            \n            // \n            const targetZi = matchingZis[0];\n            const targetPosition = new Vec3(\n                targetZi.node.position.x,\n                targetZi.node.position.y,\n                targetZi.node.position.z\n            );\n            \n            // Promise\n            const animationPromises: Promise<void>[] = [];\n            \n            // \n            for (const zi of zis) {\n                // \n                const index = this.gameUI.m_ZiList.indexOf(zi);\n                // if (index !== -1) {\n                this.gameUI.m_ZiList.splice(index, 1);\n                // }\n                \n                // \n                if (zi && zi.node && (zi.node as any).isValid) {\n                    // \n                    zi.node.setParent(this.gameUI.collectArea || targetZi.node.parent, true);\n                    \n                    // z-index\n                    zi.node.setSiblingIndex((this.gameUI.collectArea || targetZi.node.parent).children.length - 1);\n                    \n                    AudioManager.ins.playSound(createBundleObject(\"Res/Audio/arrows\", \"LoginBN\"));\n\n                    // Promise\n                    const animationPromise = new Promise<void>((resolve) => {\n                        // tween\n                        tween(zi.node)\n                            .to(0.5, { position: targetPosition })\n                            .call(() => {\n                                // \n                                AudioManager.ins.playSound(createBundleObject(\"Res/Audio/clear\", \"LoginBN\"));\n                                zi.node.destroy();\n                                resolve();\n                            })\n                            .start();\n                    });\n                    \n                    animationPromises.push(animationPromise);\n                }\n            }\n            \n            // \n            await Promise.all(animationPromises);\n            \n            // \n            for (let i = 0; i < matchingZis.length; i++) {\n                const zi = matchingZis[i];\n                const index = this.gameUI.m_PlaceHolders.indexOf(zi);\n                if (index !== -1) {\n                    this.gameUI.m_PlaceHolders.splice(index, 1);\n                    \n                    // \n                    if (zi && zi.node && (zi.node as any).isValid) {\n                        if (typeof zi['playEliminateAnimation'] === 'function') {\n                            zi['playEliminateAnimation']();\n                            zi.node.destroy();\n                        } else {\n                            // \n                            zi.node.destroy();\n                        }\n                    }\n                }\n            }\n            this.gameUI.reSetStacks();\n            //\n            this.gameUI.updateCollectionZiPositions();\n            \n            // UI\n            this.gameUI.updateUI();\n            \n            // \n            if (typeof this.gameUI['checkGameState'] === 'function') {\n                this.gameUI['checkGameState']();\n            }\n            \n            return true;\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected onBeforeActivate(params?: any): boolean {\n        // \n        const collectionZiList = this.gameUI.m_PlaceHolders;\n        \n        if (!collectionZiList || collectionZiList.length === 0) {\n            console.warn('');\n            this.sendToast('');\n            return false;\n        }\n        \n        return true;\n    }\n}","import { _decorator, sys } from 'cc';\n\n// \nexport interface CoinRecord {\n    id: string;                    // ID\n    amount: number;                // \n    source: string;               // \n    timestamp: number;            // \n    balance: number;              // \n}\n\n// \nexport interface AdRewardRecord {\n    id: string;                   // ID\n    adType: string;              // \n    rewardAmount: number;        // \n    watchTime: number;           // \n    watchScene: string;          // \n}\n\n// \nexport enum CoinEventType {\n    COIN_ADD = 'COIN_ADD',       // \n    COIN_SUBTRACT = 'COIN_SUBTRACT' // \n}\n\n// \nexport interface CoinEventParam {\n    eventType: CoinEventType;    // \n    amount: number;              // \n    balance: number;             // \n    source: string;              // \n}\n\n// \nexport type CoinEventCallback = (param: CoinEventParam) => void;\n\nexport default class CoinManager {\n    private static instance: CoinManager;\n    \n    // \n    private static readonly COIN_KEY = \"game_coin_data\";\n    private static readonly COIN_RECORD_KEY = \"game_coin_record\";\n    private static readonly AD_REWARD_KEY = \"game_ad_reward\";\n    \n    // \n    private currentCoin: number = 0;        // \n    private totalEarned: number = 0;        // \n    private totalSpent: number = 0;         // \n    \n    // \n    private coinRecords: CoinRecord[] = [];\n    \n    // \n    private adRewardRecords: AdRewardRecord[] = [];\n    \n    // \n    private eventListeners: Map<CoinEventType, CoinEventCallback[]> = new Map();\n    \n    // \n    public static getInstance(): CoinManager {\n        if (!CoinManager.instance) {\n            CoinManager.instance = new CoinManager();\n        }\n        return CoinManager.instance;\n    }\n    \n    // \n    private constructor() {\n        this.initEventListeners();\n        this.loadData();\n    }\n    \n    // \n    private initEventListeners(): void {\n        this.eventListeners.set(CoinEventType.COIN_ADD, []);\n        this.eventListeners.set(CoinEventType.COIN_SUBTRACT, []);\n    }\n    \n    // \n    public addCoin(amount: number, source: string = \"unknown\", syncToCloud: boolean = true): boolean {\n        if (amount <= 0) {\n            console.warn(`0: ${amount}`);\n            return false;\n        }\n        \n        const oldCoin = this.currentCoin;\n        this.currentCoin += amount;\n        this.totalEarned += amount;\n        \n        // \n        this.addCoinRecord(amount, source, this.currentCoin);\n        \n        // \n        this.triggerEvent(CoinEventType.COIN_ADD, amount, this.currentCoin, source);\n        \n        // \n        this.saveData();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(`: ${amount}, : ${source}, : ${this.currentCoin}`);\n        return true;\n    }\n    \n    // \n    public addCoinWithAnimation(amount: number, source: string = \"unknown\", syncToCloud: boolean = true): { success: boolean, oldCoin: number, newCoin: number } {\n        if (amount <= 0) {\n            console.warn(`0: ${amount}`);\n            return { success: false, oldCoin: this.currentCoin, newCoin: this.currentCoin };\n        }\n        \n        const oldCoin = this.currentCoin;\n        this.currentCoin += amount;\n        this.totalEarned += amount;\n        \n        // \n        this.addCoinRecord(amount, source, this.currentCoin);\n        \n        // \n        this.triggerEvent(CoinEventType.COIN_ADD, amount, this.currentCoin, source);\n        \n        // \n        this.saveData();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(`(): ${amount}, : ${source}, : ${this.currentCoin}`);\n        return { success: true, oldCoin: oldCoin, newCoin: this.currentCoin };\n    }\n    \n    // \n    public subtractCoin(amount: number, source: string = \"unknown\", syncToCloud: boolean = true): boolean {\n        if (amount <= 0) {\n            console.warn(`0: ${amount}`);\n            return false;\n        }\n        \n        if (this.currentCoin < amount) {\n            console.warn(`:  ${this.currentCoin},  ${amount}`);\n            return false;\n        }\n        \n        this.currentCoin -= amount;\n        this.totalSpent += amount;\n        \n        // \n        this.addCoinRecord(-amount, source, this.currentCoin);\n        \n        // \n        this.triggerEvent(CoinEventType.COIN_SUBTRACT, amount, this.currentCoin, source);\n        \n        // \n        this.saveData();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(`: ${amount}, : ${source}, : ${this.currentCoin}`);\n        return true;\n    }\n    \n    // \n    public getCurrentCoin(): number {\n        return this.currentCoin;\n    }\n    \n    // \n    public getTotalEarned(): number {\n        return this.totalEarned;\n    }\n    \n    // \n    public getTotalSpent(): number {\n        return this.totalSpent;\n    }\n    \n    // \n    private addCoinRecord(amount: number, source: string, balance: number): void {\n        const record: CoinRecord = {\n            id: this.generateRecordId(),\n            amount: amount,\n            source: source,\n            timestamp: Date.now(),\n            balance: balance\n        };\n        \n        this.coinRecords.unshift(record); // \n        \n        // \n        if (this.coinRecords.length > 1000) {\n            this.coinRecords = this.coinRecords.slice(0, 1000);\n        }\n    }\n    \n    // ID\n    private generateRecordId(): string {\n        return `record_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    \n    // \n    public getCoinRecords(): CoinRecord[] {\n        return [...this.coinRecords]; // \n    }\n    \n    // \n    public addAdRewardRecord(adType: string, rewardAmount: number, watchScene: string): void {\n        const record: AdRewardRecord = {\n            id: this.generateRecordId(),\n            adType: adType,\n            rewardAmount: rewardAmount,\n            watchTime: Date.now(),\n            watchScene: watchScene\n        };\n        \n        this.adRewardRecords.unshift(record); // \n        \n        // \n        if (this.adRewardRecords.length > 500) {\n            this.adRewardRecords = this.adRewardRecords.slice(0, 500);\n        }\n    }\n    \n    // \n    public getAdRewardRecords(): AdRewardRecord[] {\n        return [...this.adRewardRecords]; // \n    }\n    \n    // \n    public addEventListener(eventType: CoinEventType, callback: CoinEventCallback): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners) {\n            listeners.push(callback);\n        }\n    }\n    \n    // \n    public removeEventListener(eventType: CoinEventType, callback: CoinEventCallback): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners) {\n            const index = listeners.indexOf(callback);\n            if (index !== -1) {\n                listeners.splice(index, 1);\n            }\n        }\n    }\n    \n    // \n    private triggerEvent(eventType: CoinEventType, amount: number, balance: number, source: string): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners && listeners.length > 0) {\n            const param: CoinEventParam = {\n                eventType: eventType,\n                amount: amount,\n                balance: balance,\n                source: source\n            };\n            \n            // \n            const listenersCopy = [...listeners];\n            for (const callback of listenersCopy) {\n                try {\n                    callback(param);\n                } catch (error) {\n                    console.error(`:`, error);\n                }\n            }\n        }\n    }\n    \n    // \n    private saveData(): void {\n        try {\n            const coinData = {\n                currentCoin: this.currentCoin,\n                totalEarned: this.totalEarned,\n                totalSpent: this.totalSpent\n            };\n            \n            sys.localStorage.setItem(CoinManager.COIN_KEY, JSON.stringify(coinData));\n            sys.localStorage.setItem(CoinManager.COIN_RECORD_KEY, JSON.stringify(this.coinRecords));\n            sys.localStorage.setItem(CoinManager.AD_REWARD_KEY, JSON.stringify(this.adRewardRecords));\n            \n            console.log(\"\");\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private syncDataToCloud(): void {\n        try {\n            // \n            const gCtrl = (globalThis as any).GCtrl;\n            if (gCtrl && gCtrl.syncDataToCloud) {\n                gCtrl.syncDataToCloud();\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n\n    \n    // \n    private loadData(): void {\n        try {\n            console.log('CoinManager: ');\n            \n            // \n            const coinDataStr = sys.localStorage.getItem(CoinManager.COIN_KEY);\n            if (coinDataStr) {\n                const coinData = JSON.parse(coinDataStr);\n                this.currentCoin = coinData.currentCoin || 0;\n                this.totalEarned = coinData.totalEarned || 0;\n                this.totalSpent = coinData.totalSpent || 0;\n                console.log('CoinManager: ', coinData);\n            } else {\n                console.log('CoinManager: 0');\n                // 0\n                this.currentCoin = 0;\n                this.totalEarned = 0;\n                this.totalSpent = 0;\n            }\n            \n            // \n            const coinRecordsStr = sys.localStorage.getItem(CoinManager.COIN_RECORD_KEY);\n            if (coinRecordsStr) {\n                this.coinRecords = JSON.parse(coinRecordsStr);\n            }\n            \n            // \n            const adRewardStr = sys.localStorage.getItem(CoinManager.AD_REWARD_KEY);\n            if (adRewardStr) {\n                this.adRewardRecords = JSON.parse(adRewardStr);\n            }\n            \n            console.log(`CoinManager: :  ${this.currentCoin}`);\n        } catch (error) {\n            console.error(\"CoinManager: :\", error);\n            // \n            this.resetData();\n        }\n    }\n    \n    // \n    public resetData(): void {\n        this.currentCoin = 0;\n        this.totalEarned = 0;\n        this.totalSpent = 0;\n        this.coinRecords = [];\n        this.adRewardRecords = [];\n        \n        console.log(\"\");\n    }\n}\n\n// \nif (typeof window !== 'undefined') {\n    window['CoinManager'] = CoinManager;\n    window['CoinEventType'] = CoinEventType;\n    console.log('CoinManager: ');\n}","import { _decorator, Component, Node, Button, Label, Sprite } from 'cc';\nimport { BaseUI } from './BaseUI';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('DailyRewardUI')\nexport class DailyRewardUI extends BaseUI {\n    // \n    @property(Node)\n    consecutiveDaysLabel: Node = null;\n\n    // \n    @property(Node)\n    rewardContent: Node = null;\n\n    // \n    @property(Node)\n    claimButton: Node = null;\n\n    // \n    @property(Node)\n    doubleRewardButton: Node = null;\n\n    // \n    @property(Node)\n    closeButton: Node = null;\n\n    // \n    private isClaimed: boolean = false;\n\n    protected onLoad(): void {\n        // \n        if (this.claimButton) {\n            this.claimButton.on(Node.EventType.TOUCH_END, this.onClaimClick, this);\n        }\n        \n        if (this.doubleRewardButton) {\n            this.doubleRewardButton.on(Node.EventType.TOUCH_END, this.onDoubleRewardClick, this);\n        }\n        \n        if (this.closeButton) {\n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        this.initDailyRewardUI();\n    }\n\n    /**\n     * \n     */\n    private initDailyRewardUI() {\n        // TODO: DailyRewardManager\n        // TODO: \n        // TODO: \n        // TODO: \n        console.log('DailyRewardUI initialized');\n    }\n\n    /**\n     * \n     */\n    private onClaimClick() {\n        if (this.isClaimed) {\n            console.log('Reward already claimed');\n            return;\n        }\n        \n        // TODO: DailyRewardManager\n        console.log('Claim daily reward');\n        \n        // \n        this.isClaimed = true;\n        \n        // \n        this.updateButtonStates();\n        \n        // \n        setTimeout(() => {\n            this.hide();\n        }, 1000);\n    }\n\n    /**\n     * \n     */\n    private onDoubleRewardClick() {\n        if (this.isClaimed) {\n            console.log('Reward already claimed');\n            return;\n        }\n        \n        // TODO: AdManager\n        console.log('Watch ad for double reward');\n        \n        // \n        this.onAdWatched();\n    }\n\n    /**\n     * \n     */\n    private onAdWatched() {\n        if (this.isClaimed) {\n            console.log('Reward already claimed');\n            return;\n        }\n        \n        // TODO: DailyRewardManager\n        console.log('Ad watched, claim double reward');\n        \n        // \n        this.isClaimed = true;\n        \n        // \n        this.updateButtonStates();\n        \n        // \n        setTimeout(() => {\n            this.hide();\n        }, 1000);\n    }\n\n    /**\n     * \n     */\n    private updateButtonStates() {\n        if (this.isClaimed) {\n            // \n            if (this.claimButton) this.claimButton.active = false;\n            if (this.doubleRewardButton) this.doubleRewardButton.active = false;\n        } else {\n            // \n            if (this.claimButton) this.claimButton.active = true;\n            if (this.doubleRewardButton) this.doubleRewardButton.active = true;\n        }\n    }\n\n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        this.hide();\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.claimButton) {\n            this.claimButton.off(Node.EventType.TOUCH_END, this.onClaimClick, this);\n        }\n        \n        if (this.doubleRewardButton) {\n            this.doubleRewardButton.off(Node.EventType.TOUCH_END, this.onDoubleRewardClick, this);\n        }\n        \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        super.onDestroy();\n    }\n}","import { _decorator, Component, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('DestoryHook')\nexport class DestoryHook extends Component {\n\n    private m_Hooks: Function[] = [];\n\n    /** */\n    public addHook(hook: Function) {\n        this.m_Hooks.push(hook);\n    }\n\n    protected onDestroy(): void {\n        for (let i = this.m_Hooks.length - 1; i >= 0; --i) {\n            this.m_Hooks[i]();\n        }\n    }\n}\n\n\n","import { _decorator, sys } from 'cc';\n\n// \nexport interface UserInfo {\n    userId: string;           // ID\n    username: string;         // \n    avatar: string;           // \n    level: number;            // \n    exp: number;              // \n    lastLoginTime: number;    // \n    consecutiveLoginDays: number; // \n    totalLoginDays: number;   // \n    isRecommended: boolean;    // \n}\n\nexport class GameDataManager {\n    private static instance: GameDataManager;\n    \n    // \n    private static readonly LEVEL_KEY = \"game_current_level\";\n    // \n    private static readonly USER_INFO_KEY = \"game_user_info\";\n    \n    // \n    private userInfo: UserInfo;\n    \n    // \n    public static getInstance(): GameDataManager {\n        if (!GameDataManager.instance) {\n            GameDataManager.instance = new GameDataManager();\n        }\n        return GameDataManager.instance;\n    }\n    \n    // \n    private constructor() {\n        this.userInfo = this.getDefaultUserInfo();\n    }\n    \n    // \n    private getDefaultUserInfo(): UserInfo {\n        return {\n            userId: this.generateUserId(),\n            username: \"\",\n            avatar: \"\",\n            level: 1,\n            exp: 0,\n            lastLoginTime: 0,\n            consecutiveLoginDays: 0,\n            totalLoginDays: 0,\n            isRecommended: false\n        };\n    }\n    \n    // ID\n    private generateUserId(): string {\n        return `user_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    \n    // \n    public saveLevel(level: number): void {\n        sys.localStorage.setItem(GameDataManager.LEVEL_KEY, level.toString());\n        console.log(`: ${level}`);\n    }\n    \n    // \n    public loadLevel(): number {\n        const savedLevel = sys.localStorage.getItem(GameDataManager.LEVEL_KEY);\n        const level = savedLevel ? parseInt(savedLevel, 10) : 1;\n        console.log(`: ${level}`);\n        return level;\n    }\n    \n    // \n    public resetLevel(level: number): void {\n        sys.localStorage.setItem(GameDataManager.LEVEL_KEY, level.toString());\n        console.log(`: ${level}`);\n    }\n    \n    // \n    public saveUserInfo(): void {\n        try {\n            sys.localStorage.setItem(GameDataManager.USER_INFO_KEY, JSON.stringify(this.userInfo));\n            console.log(\"\");\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n    \n    // \n    public loadUserInfo(): void {\n        try {\n            const userInfoStr = sys.localStorage.getItem(GameDataManager.USER_INFO_KEY);\n            if (userInfoStr) {\n                const loadedUserInfo = JSON.parse(userInfoStr);\n                // \n                if (this.validateUserInfo(loadedUserInfo)) {\n                    this.userInfo = loadedUserInfo;\n                    console.log(\"\");\n                } else {\n                    console.warn(\"\");\n                    this.userInfo = this.getDefaultUserInfo();\n                }\n            } else {\n                console.log(\"\");\n                this.userInfo = this.getDefaultUserInfo();\n            }\n        } catch (error) {\n            console.error(\":\", error);\n            this.userInfo = this.getDefaultUserInfo();\n        }\n    }\n    \n    // \n    private validateUserInfo(userInfo: any): boolean {\n        return userInfo && \n               typeof userInfo.userId === 'string' &&\n               typeof userInfo.username === 'string' &&\n               typeof userInfo.avatar === 'string' &&\n               typeof userInfo.level === 'number' &&\n               typeof userInfo.exp === 'number' &&\n               typeof userInfo.lastLoginTime === 'number' &&\n               typeof userInfo.consecutiveLoginDays === 'number' &&\n               typeof userInfo.totalLoginDays === 'number' &&\n               typeof userInfo.isRecommended === 'boolean';\n    }\n    \n    // \n    public getUserInfo(): UserInfo {\n        return { ...this.userInfo }; // \n    }\n    \n    // \n    public updateUserInfo(userInfo: Partial<UserInfo>, syncToCloud: boolean = true): void {\n        this.userInfo = { ...this.userInfo, ...userInfo };\n        this.saveUserInfo();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(\"\");\n    }\n    \n    // \n    public resetUserInfo(): void {\n        this.userInfo = this.getDefaultUserInfo();\n        sys.localStorage.removeItem(GameDataManager.USER_INFO_KEY);\n        console.log(\"\");\n    }\n    \n    // \n    private static readonly LEVEL_EXP_CONFIG = [\n        { level: 1, exp: 0 },           // 10\n        { level: 2, exp: 100 },         // 2100\n        { level: 3, exp: 300 },         // 3300\n        { level: 4, exp: 600 },         // 4600\n        { level: 5, exp: 1000 },        // 51000\n        { level: 6, exp: 1500 },        // 61500\n        { level: 7, exp: 2100 },        // 72100\n        { level: 8, exp: 2800 },        // 82800\n        { level: 9, exp: 3600 },        // 93600\n        { level: 10, exp: 4500 },       // 104500\n        { level: 11, exp: 5500 },       // 115500\n        { level: 12, exp: 6600 },       // 126600\n        { level: 13, exp: 7800 },       // 137800\n        { level: 14, exp: 9100 },       // 149100\n        { level: 15, exp: 10500 },      // 1510500\n        { level: 16, exp: 12000 },      // 1612000\n        { level: 17, exp: 13600 },      // 1713600\n        { level: 18, exp: 15300 },      // 1815300\n        { level: 19, exp: 17100 },      // 1917100\n        { level: 20, exp: 19000 },      // 2019000\n    ];\n    \n    // \n    public getCurrentLevel(): number {\n        return this.userInfo.level;\n    }\n    \n    // \n    public getCurrentExp(): number {\n        return this.userInfo.exp;\n    }\n    \n    // \n    public getNextLevelExp(): number {\n        const currentLevel = this.userInfo.level;\n        if (currentLevel >= GameDataManager.LEVEL_EXP_CONFIG.length) {\n            return -1; // \n        }\n        \n        const nextLevelConfig = GameDataManager.LEVEL_EXP_CONFIG.find(config => config.level === currentLevel + 1);\n        return nextLevelConfig ? nextLevelConfig.exp : -1;\n    }\n    \n    // 0-1\n    public getCurrentLevelProgress(): number {\n        const currentLevel = this.userInfo.level;\n        const currentExp = this.userInfo.exp;\n        \n        if (currentLevel >= GameDataManager.LEVEL_EXP_CONFIG.length) {\n            return 1; // \n        }\n        \n        const currentLevelConfig = GameDataManager.LEVEL_EXP_CONFIG.find(config => config.level === currentLevel);\n        const nextLevelConfig = GameDataManager.LEVEL_EXP_CONFIG.find(config => config.level === currentLevel + 1);\n        \n        if (!currentLevelConfig || !nextLevelConfig) {\n            return 0;\n        }\n        \n        const levelExpRange = nextLevelConfig.exp - currentLevelConfig.exp;\n        const currentLevelExp = currentExp - currentLevelConfig.exp;\n        \n        return Math.min(1, Math.max(0, currentLevelExp / levelExpRange));\n    }\n    \n    // \n    public addExp(exp: number, syncToCloud: boolean = true): boolean {\n        if (exp <= 0) {\n            console.warn(`0: ${exp}`);\n            return false;\n        }\n        \n        const oldLevel = this.userInfo.level;\n        this.userInfo.exp += exp;\n        \n        // \n        let levelUp = false;\n        let newLevel = oldLevel;\n        \n        // \n        for (let i = oldLevel + 1; i <= GameDataManager.LEVEL_EXP_CONFIG.length; i++) {\n            const levelConfig = GameDataManager.LEVEL_EXP_CONFIG.find(config => config.level === i);\n            if (levelConfig && this.userInfo.exp >= levelConfig.exp) {\n                newLevel = i;\n                levelUp = true;\n            } else {\n                break;\n            }\n        }\n        \n        if (levelUp) {\n            this.userInfo.level = newLevel;\n            console.log(` ${oldLevel}  ${newLevel} `);\n        }\n        \n        this.saveUserInfo();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(`: ${exp}, : ${this.userInfo.exp}, : ${this.userInfo.level}`);\n        \n        return levelUp;\n    }\n    \n    // \n    public setLevelAndExp(level: number, exp: number): void {\n        if (level < 1 || level > GameDataManager.LEVEL_EXP_CONFIG.length) {\n            console.warn(`1-${GameDataManager.LEVEL_EXP_CONFIG.length}: ${level}`);\n            return;\n        }\n        \n        const levelConfig = GameDataManager.LEVEL_EXP_CONFIG.find(config => config.level === level);\n        if (!levelConfig) {\n            console.warn(`: ${level}`);\n            return;\n        }\n        \n        // \n        this.userInfo.level = level;\n        this.userInfo.exp = Math.max(levelConfig.exp, exp);\n        \n        this.saveUserInfo();\n        console.log(`: ${level}, : ${this.userInfo.exp}`);\n    }\n    \n    // \n    private static readonly DAILY_LOGIN_REWARDS = [\n        { day: 1, coin: 100, exp: 10 },      // 110010\n        { day: 2, coin: 150, exp: 15 },      // 215015\n        { day: 3, coin: 200, exp: 20 },      // 320020\n        { day: 4, coin: 250, exp: 25 },      // 425025\n        { day: 5, coin: 300, exp: 30 },      // 530030\n        { day: 6, coin: 350, exp: 35 },      // 635035\n        { day: 7, coin: 500, exp: 50 },      // 750050\n    ];\n    \n    // \n    public canClaimDailyLoginReward(): boolean {\n        const now = Date.now();\n        const lastLoginTime = this.userInfo.lastLoginTime;\n        \n        // \n        if (lastLoginTime === 0) {\n            return true;\n        }\n        \n        // \n        const lastLoginDate = new Date(lastLoginTime);\n        const currentDate = new Date(now);\n        \n        // \n        return lastLoginDate.getDate() !== currentDate.getDate() ||\n               lastLoginDate.getMonth() !== currentDate.getMonth() ||\n               lastLoginDate.getFullYear() !== currentDate.getFullYear();\n    }\n    \n    // \n    public claimDailyLoginReward(): { success: boolean; coin: number; exp: number; consecutiveDays: number } {\n        if (!this.canClaimDailyLoginReward()) {\n            console.log(\"\");\n            return { success: false, coin: 0, exp: 0, consecutiveDays: this.userInfo.consecutiveLoginDays };\n        }\n        \n        const now = Date.now();\n        const lastLoginTime = this.userInfo.lastLoginTime;\n        \n        // \n        let consecutiveDays = 1; // 1\n        \n        if (lastLoginTime > 0) {\n            const lastLoginDate = new Date(lastLoginTime);\n            const currentDate = new Date(now);\n            \n            // \n            const timeDiff = currentDate.getTime() - lastLoginDate.getTime();\n            const dayDiff = Math.floor(timeDiff / (1000 * 3600 * 24));\n            \n            if (dayDiff === 1) {\n                // \n                consecutiveDays = this.userInfo.consecutiveLoginDays + 1;\n                \n                // 71\n                if (consecutiveDays > 7) {\n                    consecutiveDays = 1;\n                }\n            } else if (dayDiff > 1) {\n                // 1\n                consecutiveDays = 1;\n            }\n        }\n        \n        // \n        this.userInfo.lastLoginTime = now;\n        this.userInfo.consecutiveLoginDays = consecutiveDays;\n        this.userInfo.totalLoginDays += 1;\n        \n        // \n        const rewardIndex = (consecutiveDays - 1) % GameDataManager.DAILY_LOGIN_REWARDS.length;\n        const reward = GameDataManager.DAILY_LOGIN_REWARDS[rewardIndex];\n        \n        if (!reward) {\n            console.error(\"\");\n            this.saveUserInfo();\n            return { success: false, coin: 0, exp: 0, consecutiveDays: this.userInfo.consecutiveLoginDays };\n        }\n        \n        // \n        this.saveUserInfo();\n        \n        console.log(` ${reward.coin} ${reward.exp} ${consecutiveDays} `);\n        \n        return { success: true, coin: reward.coin, exp: reward.exp, consecutiveDays: consecutiveDays };\n    }\n    \n    // \n    public getTodayLoginRewardInfo(): { canClaim: boolean; coin: number; exp: number; consecutiveDays: number } {\n        const canClaim = this.canClaimDailyLoginReward();\n        \n        // \n        let consecutiveDays = this.userInfo.consecutiveLoginDays;\n        if (canClaim) {\n            const now = Date.now();\n            const lastLoginTime = this.userInfo.lastLoginTime;\n            \n            if (lastLoginTime > 0) {\n                const lastLoginDate = new Date(lastLoginTime);\n                const currentDate = new Date(now);\n                \n                // \n                const timeDiff = currentDate.getTime() - lastLoginDate.getTime();\n                const dayDiff = Math.floor(timeDiff / (1000 * 3600 * 24));\n                \n                if (dayDiff === 1) {\n                    // \n                    consecutiveDays += 1;\n                    \n                    // 71\n                    if (consecutiveDays > 7) {\n                        consecutiveDays = 1;\n                    }\n                } else if (dayDiff > 1) {\n                    // 1\n                    consecutiveDays = 1;\n                }\n            } else {\n                // 1\n                consecutiveDays = 1;\n            }\n        }\n        \n        // \n        const rewardIndex = (consecutiveDays - 1) % GameDataManager.DAILY_LOGIN_REWARDS.length;\n        const reward = GameDataManager.DAILY_LOGIN_REWARDS[rewardIndex];\n        \n        return {\n            canClaim: canClaim,\n            coin: reward ? reward.coin : 0,\n            exp: reward ? reward.exp : 0,\n            consecutiveDays: consecutiveDays\n        };\n    }\n    \n    // \n    public getConsecutiveLoginDays(): number {\n        return this.userInfo.consecutiveLoginDays;\n    }\n    \n    // \n    public getTotalLoginDays(): number {\n        return this.userInfo.totalLoginDays;\n    }\n    \n    // \n    public getLastLoginTime(): number {\n        return this.userInfo.lastLoginTime;\n    }\n    \n    // \n    public getRecommendedStatus(): boolean {\n        return this.userInfo.isRecommended;\n    }\n    \n    // \n    public setRecommendedStatus(isRecommended: boolean, syncToCloud: boolean = true): void {\n        this.userInfo.isRecommended = isRecommended;\n        this.saveUserInfo();\n        \n        // \n        if (syncToCloud) {\n            this.syncDataToCloud();\n        }\n        \n        console.log(`: ${isRecommended}`);\n    }\n    \n    /**\n     * \n     */\n    private syncDataToCloud(): void {\n        try {\n            // \n            const gCtrl = (globalThis as any).GCtrl;\n            if (gCtrl && gCtrl.syncDataToCloud) {\n                gCtrl.syncDataToCloud();\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n}\n\n// \nif (typeof window !== 'undefined') {\n    window['GameDataManager'] = GameDataManager;\n    console.log('GameDataManager: ');\n}","import { Canvas, Component, _decorator } from 'cc';\nimport { LoginCtrl } from './GamePlay/modules/Login/LoginCtrl';\nimport { Match3UI } from './GamePlay/modules/Match3/Match3UI';\nimport { ZouZouEntry } from './GamePlay/modules/ZouZou/ZouZouEntry';\nimport { ResManager } from './core/modules/res/ResManager';\nimport UIManager, { registerBUrlByCfg } from './core/modules/ui/UIManager';\nimport { PrefabCfg } from './auto/PrefabCfg';\nimport { GameDataManager } from './core/modules/data/GameDataManager';\nimport CoinManager from './core/modules/coin/CoinManager';\nimport { AdManager } from './core/modules/ad/AdManager';\nimport { BagManager } from './core/modules/bag/BagManager';\nimport { ShopManager } from './core/modules/shop/ShopManager';\nimport { TaskManager } from './core/modules/task/TaskManager';\nimport { SettingManager } from './core/modules/setting/SettingManager';\nimport { SignManager } from './core/modules/ui/SignManager';\nimport { ToastManager } from './core/modules/ui/ToastManager';\nimport { ShopUI } from './core/modules/ui/ShopUI';\nimport { BagUI } from './core/modules/ui/BagUI';\nimport { LotteryUI } from './core/modules/ui/LotteryUI';\nimport { SignUI } from './core/modules/ui/SignUI';\nimport { SettingUI } from './core/modules/ui/SettingUI';\nimport { RankManager } from './core/modules/rank/RankManager';\nimport { RankUI } from './core/modules/ui/RankUI';\nimport { OpenDataManager } from './core/modules/rank/OpenDataManager';\nimport { ShareManager } from './core/modules/share/ShareManager';\nconst { ccclass, property } = _decorator;\n\n//\ndeclare global {\n    const gCtrl: GCtrl;\n}\n\n@ccclass('GCtrl')\nexport class GCtrl extends Component {\n\n    readonly loginCtrl = new LoginCtrl();\n    readonly res = new ResManager();\n    readonly ui = new UIManager();\n    readonly data = GameDataManager.getInstance(); // \n    readonly coin = CoinManager.getInstance(); // \n    readonly ad = AdManager.getInstance(); // \n    readonly bag = BagManager.getInstance(); // \n    readonly shop = ShopManager.instance; // \n    readonly task = TaskManager.getInstance(); // \n    readonly setting = SettingManager.getInstance(); // \n    readonly sign = SignManager.instance; // \n    readonly rank = RankManager.getInstance(); // \n    readonly openData = OpenDataManager.getInstance(); // \n    readonly share = ShareManager.getInstance(); // \n    \n    private currentGameUI: any = null; // UI\n    \n    constructor() {\n        super();\n        // \n        (globalThis as any).gCtrl = this;\n    }\n\n    async init(param: { canvas2d: Canvas, releaseBoostFun: Function }) {\n\n        //\n        (globalThis as any)[\"gCtrl\"] = this;\n        console.log('GCtrl: ');\n        \n        //\n        registerBUrlByCfg(PrefabCfg);\n        console.log('GCtrl: ');\n        \n        //\n        this.loginCtrl.init();\n        console.log('GCtrl: ');\n        \n        //\n        // this.coin.loadData(); \n        console.log('GCtrl: :', this.coin.getCurrentCoin());\n        \n        //\n        this.ad.init();\n        console.log('GCtrl: ');\n        \n        //\n        this.bag.init();\n        console.log('GCtrl: ');\n        \n        //\n        this.data.loadUserInfo();\n        console.log('GCtrl: ');\n        \n        //\n        this.task.init();\n        console.log('GCtrl: ');\n        \n        //\n        this.setting.init();\n        console.log('GCtrl: ');\n\n        //\n        this.shop.init();\n        console.log('GCtrl: ');\n        \n        // instance getterinit\n        console.log('GCtrl: ');\n        \n        //\n        // this.rank.init();\n        console.log('GCtrl: ');\n        \n        //\n        console.log('GCtrl: ');\n        \n        //\n        this.share.init();\n        console.log('GCtrl: ');\n        \n        // \n        this.sign.autoSign();\n        console.log('GCtrl: ');\n        \n        // \n        this.restoreGameDataFromCloud();\n        console.log('GCtrl: ');\n        \n\n\n        //\n        gCtrl.ui.init(param.canvas2d);\n        console.log('GCtrl: ');\n        \n\n        console.log('GCtrl: ');\n        \n        // \n        this.preloadRemoteBundles();\n        \n        //\n        // this.loginCtrl.showLogin(async () => {\n        //     // \n        //     param.releaseBoostFun();\n        //     // // LoginBN  LoginEntry.ts  LoginEntry \n        //     // // js.getClassByName \n        //     // ResManager.ins.loadBundle(\"LoginBN\", () => {\n        //     //     const loginEntryClass = js.getClassByName(\"LoginCtrl\") as typeof Component;\n        //     //     this.node.addComponent(loginEntryClass);\n        //     // })\n        // })\n    }\n\n    /**\n     * \n     */\n    public async enterMatch3Game(): Promise<void> {\n        console.log('GCtrl: ');\n        this.currentGameUI = await gCtrl.ui.openUI(Match3UI);\n        console.log('GCtrl: UI');\n    }\n\n    /**\n     * UI\n     * @returns UI\n     */\n    public getCurrentGameUI(): any {\n        return this.currentGameUI;\n    }\n\n    /**\n     * \n     */\n    public enterZouZouGame(): void {\n        console.log('GCtrl: ');\n        ToastManager.getInstance().showMessage('', 1);\n  \n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('ZouZouEntry: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('ZouZouEntry: ');\n        }\n    }\n\n    /**\n     * \n     */\n    public async openShop(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            const shopUI = await gCtrl.ui.openUI(ShopUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n        }\n    }\n\n    /**\n     * \n     */\n    public async openBag(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            console.log('GCtrl: UIManagerBagUI');\n            const bagUI = await gCtrl.ui.openUI(BagUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n            throw error; // \n        }\n    }\n\n    /**\n     * \n     */\n    public async openLottery(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            console.log('GCtrl: UIManagerLotteryUI');\n            const lotteryUI = await gCtrl.ui.openUI(LotteryUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n            throw error; // \n        }\n    }\n\n    /**\n     * \n     */\n    public async openSign(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            console.log('GCtrl: UIManagerSignUI');\n            const signUI = await gCtrl.ui.openUI(SignUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n            throw error; // \n        }\n    }\n\n    /**\n     * \n     */\n    public async openSettings(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            console.log('GCtrl: UIManagerSettingUI');\n            const settingUI = await gCtrl.ui.openUI(SettingUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n            throw error; // \n        }\n    }\n\n    /**\n     * \n     */\n    public async openRank(): Promise<void> {\n        console.log('GCtrl: ');\n        try {\n            console.log('GCtrl: UIManagerRankUI');\n            const rankUI = await gCtrl.ui.openUI(RankUI);\n            console.log('GCtrl: ');\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            ToastManager.getInstance().showMessage('', 2);\n            throw error; // \n        }\n    }\n\n    /**\n     * \n     */\n    private async preloadRemoteBundles(): Promise<void> {\n        console.log('GCtrl: ');\n        \n        try {\n            // \n            await this.res.preloadAllBundles();\n            console.log('GCtrl: ');\n\n\n            //\n            SignManager.instance.autoSign();\n        } catch (error) {\n            console.error('GCtrl: ', error);\n            // \n        }\n    }\n    \n    /**\n     * \n     */\n    private async restoreGameDataFromCloud(): Promise<void> {\n        try {\n            console.log('GCtrl: ');\n            const restored = await this.openData.restoreGameData();\n            \n            if (restored) {\n                console.log('GCtrl: ');\n                ToastManager.getInstance().showMessage('', 1);\n                \n                // \n                this.rank.updateLocalUserData();\n            } else {\n                console.log('GCtrl: ');\n            }\n        } catch (error) {\n            console.error('GCtrl: ', error);\n        }\n    }\n    \n    /**\n     * \n     * \n     */\n    public syncDataToCloud(): void {\n        try {\n            console.log('GCtrl: ');\n            this.openData.syncDataToOpenDomain();\n            \n            // \n            this.rank.updateLocalUserData();\n        } catch (error) {\n            console.error('GCtrl: ', error);\n        }\n    }\n}\n\n\n","import { AdType, AdEventType, AdEventParam } from './AdManager';\n\n/**\n * \n */\nexport enum AdLoadState {\n    NOT_LOADED = 'not_loaded',      // \n    LOADING = 'loading',            // \n    LOADED = 'loaded',              // \n    FAILED = 'failed',              // \n}\n\n/**\n * \n */\nexport type AdEventListener = (param: AdEventParam) => void;\n\n/**\n * \n * \n */\nexport interface IAdAdapter {\n    /**\n     * \n     * @param adUnitIds ID\n     */\n    init(adUnitIds: { [key in AdType]?: string }): void;\n\n    /**\n     * \n     * @param adType \n     */\n    loadAd(adType: AdType): void;\n\n    /**\n     * \n     * @param adType \n     * @param rewardKey \n     * @param customParams \n     * @returns \n     */\n    showAd(adType: AdType, rewardKey?: string, customParams?: any): boolean;\n\n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    getAdLoadState(adType: AdType): AdLoadState;\n\n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    isAdLoaded(adType: AdType): boolean;\n\n    /**\n     * \n     * @param listener \n     */\n    addEventListener(listener: AdEventListener): void;\n\n    /**\n     * \n     * @param listener \n     */\n    removeEventListener(listener: AdEventListener): void;\n\n    /**\n     * \n     */\n    destroy(): void;\n}","/**\n * \n * \n */\n\n// \nexport type { IAdAdapter, AdLoadState, AdEventListener } from './IAdAdapter';\n\n// \nexport { WechatAdAdapter } from './WechatAdAdapter';\n// export { ByteDanceAdAdapter } from './ByteDanceAdAdapter';\n\n// \nexport { PlatformDetector } from './PlatformDetector';\n\n// \nexport type { IAdConfig, IPlatformAdConfig } from './AdConfigManager';\nexport { AdConfigManager } from './AdConfigManager';\nexport { AdConfigInitializer } from './AdConfigInitializer';\n\n// \nexport type { \n    AdLoadState as AdManagerLoadState, \n    AdEventParam, \n    AdEventListener as AdManagerEventListener\n} from './AdManager';\nexport { \n    AdManager, \n    AdType, \n    AdEventType, \n    AdPlatform \n} from './AdManager';","import { sys } from 'cc';\nimport CoinManager from '../coin/CoinManager';\nimport { ToastManager } from '../ui/ToastManager';\n\n// \ninterface InteractiveData {\n    key: number; // 1-50\n    value: number; // 32\n}\n\n// \ninterface LastProcessedInteractiveData {\n    key: number;\n    value: number;\n    timestamp: number;\n}\n\n// \nexport type InteractiveDataChangeCallback = (newCoins: number) => void;\n\nexport default class InteractiveDataManager {\n    private static instance: InteractiveDataManager;\n    \n    // \n    private static readonly LAST_PROCESSED_DATA_KEY = 'last_processed_interactive_data';\n    \n    // \n    private readonly POLLING_INTERVAL = 3000; // 3\n    \n    // \n    private pollingInterval: number = null;\n    \n    // \n    private interactiveDataChangeCallbacks: InteractiveDataChangeCallback[] = [];\n    \n    // \n    public static getInstance(): InteractiveDataManager {\n        if (!InteractiveDataManager.instance) {\n            InteractiveDataManager.instance = new InteractiveDataManager();\n        }\n        return InteractiveDataManager.instance;\n    }\n    \n    private constructor() {\n        // \n    }\n    \n    /**\n     * \n     */\n    public startListening(): void {\n        if (this.pollingInterval) {\n            return;\n        }\n        \n        console.log('InteractiveDataManager: ');\n        \n        // \n        this.checkInteractiveData();\n        \n        // \n        this.pollingInterval = setInterval(() => {\n            this.checkInteractiveData();\n        }, this.POLLING_INTERVAL);\n    }\n    \n    /**\n     * \n     */\n    public stopListening(): void {\n        if (this.pollingInterval) {\n            clearInterval(this.pollingInterval);\n            this.pollingInterval = null;\n            console.log('InteractiveDataManager: ');\n        }\n    }\n    \n    /**\n     * \n     */\n    public async checkInteractiveData(): Promise<void> {\n        if (typeof wx === 'undefined') {\n            console.log('InteractiveDataManager: ');\n            return;\n        }\n        \n        try {\n            console.log('InteractiveDataManager: ');\n            \n            // getUserInteractiveStorage API\n            const interactiveData = await new Promise<any>((resolve, reject) => {\n                (wx as any).getUserInteractiveStorage({\n                    success: (res: any) => {\n                        console.log('InteractiveDataManager: :', res.data || []);\n                        resolve(res.data || []);\n                    },\n                    fail: (error: any) => {\n                        console.error('InteractiveDataManager: :', error);\n                        reject(error);\n                    }\n                });\n            });\n            \n            if (Array.isArray(interactiveData)) {\n                // key=1\n                this.processShareRewardData(interactiveData);\n            }\n        } catch (error) {\n            console.error('InteractiveDataManager: :', error);\n        }\n    }\n    \n    /**\n     * \n     * @param interactiveData \n     */\n    private processShareRewardData(interactiveData: InteractiveData[]): void {\n        // key=1\n        const shareRewardData = interactiveData.find(item => item.key === 1);\n        \n        if (shareRewardData) {\n            console.log('InteractiveDataManager: :', shareRewardData);\n            \n            // \n            const lastProcessedData = this.getLastProcessedInteractiveData();\n            \n            // \n            if (shareRewardData.value > (lastProcessedData?.value || 0)) {\n                // \n                const newCoins = shareRewardData.value - (lastProcessedData?.value || 0);\n                \n                // \n                this.handleShareRewardChange(newCoins);\n                \n                // \n                this.saveLastProcessedInteractiveData({\n                    key: shareRewardData.key,\n                    value: shareRewardData.value,\n                    timestamp: Date.now()\n                });\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param callback \n     */\n    public addInteractiveDataChangeCallback(callback: InteractiveDataChangeCallback): void {\n        if (this.interactiveDataChangeCallbacks.indexOf(callback) > -1) {\n            this.interactiveDataChangeCallbacks.push(callback);\n            console.log('InteractiveDataManager: ');\n        }\n    }\n    \n    /**\n     * \n     * @param callback \n     */\n    public removeInteractiveDataChangeCallback(callback: InteractiveDataChangeCallback): void {\n        const index = this.interactiveDataChangeCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this.interactiveDataChangeCallbacks.splice(index, 1);\n            console.log('InteractiveDataManager: ');\n        }\n    }\n    \n    /**\n     * \n     * @param newCoins \n     */\n    private handleShareRewardChange(newCoins: number): void {\n        console.log('InteractiveDataManager: :', newCoins);\n        \n        // \n        this.interactiveDataChangeCallbacks.forEach(callback => {\n            try {\n                callback(newCoins);\n            } catch (error) {\n                console.error('InteractiveDataManager: :', error);\n            }\n        });\n        \n        // \n        const coinManager = CoinManager.getInstance();\n        coinManager.addCoin(newCoins, 'share_reward');\n        \n        // \n        const toastManager = ToastManager.getInstance();\n        toastManager.showMessage(`: ${newCoins}`);\n        \n        // \n        console.log(`InteractiveDataManager: : ${newCoins}`);\n    }\n    \n    /**\n     * \n     */\n    private getLastProcessedInteractiveData(): LastProcessedInteractiveData | null {\n        try {\n            const dataStr = sys.localStorage.getItem(InteractiveDataManager.LAST_PROCESSED_DATA_KEY);\n            if (dataStr) {\n                return JSON.parse(dataStr);\n            }\n        } catch (error) {\n            console.error('InteractiveDataManager: :', error);\n        }\n        return null;\n    }\n    \n    /**\n     * \n     * @param data \n     */\n    private saveLastProcessedInteractiveData(data: LastProcessedInteractiveData): void {\n        try {\n            sys.localStorage.setItem(InteractiveDataManager.LAST_PROCESSED_DATA_KEY, JSON.stringify(data));\n            console.log('InteractiveDataManager: ');\n        } catch (error) {\n            console.error('InteractiveDataManager: :', error);\n        }\n    }\n    \n    /**\n     * \n     * @param toOpenid openid\n     * @param coins \n     */\n    public async modifyFriendInteractiveStorage(toOpenid: string, coins: number): Promise<boolean> {\n        if (typeof wx === 'undefined') {\n            console.log('InteractiveDataManager: ');\n            return true;\n        }\n        \n        try {\n            console.log('InteractiveDataManager: :', toOpenid, coins);\n            \n            // modifyFriendInteractiveStorage API\n            return new Promise((resolve) => {\n                (wx as any).modifyFriendInteractiveStorage({\n                    toOpenid: toOpenid,\n                    key: 1, // key=1\n                    value: coins,\n                    quiet: false, // false\n                    success: () => {\n                        console.log('InteractiveDataManager: ');\n                        resolve(true);\n                    },\n                    fail: (error) => {\n                        console.error('InteractiveDataManager: :', error);\n                        resolve(false);\n                    }\n                });\n            });\n        } catch (error) {\n            console.error('InteractiveDataManager: modifyFriendInteractiveStorage:', error);\n            return false;\n        }\n    }\n    \n\n    \n    /**\n     * \n     */\n    public cleanup(): void {\n        this.stopListening();\n    }\n}\n\n// \nif (typeof window !== 'undefined') {\n    window['InteractiveDataManager'] = InteractiveDataManager;\n    console.log('InteractiveDataManager: ');\n}","import { createBundleObject } from \"../core/modules/res/ResConst\";\n\nexport class JsonsCfg {\n    \n    static level = (key: string | number) => createBundleObject(`yang/Jsons/level/${key}`, \"Match3BN\");\n}","import { _decorator } from 'cc';\n\nconst { ccclass } = _decorator;\n\n/**\n * \n * \n */\n@ccclass('LevelGenerator')\nexport class LevelGenerator {\n    /** */\n    public static readonly COL = 7;\n    /** */\n    public static readonly ROW = 9;\n    /** */\n    public static readonly SPLIT = 6;\n\n    /**\n     * \n     * @param level \n     * @returns \n     * \n     * level:\n     * \n     */\n    /**\n     * \n     * @param level \n     * @param positions \n     * @returns \n     */\n    private static adjustDifficultyByLevel(level: number, positions: [number, number][]): [number, number][] {\n        if (level % 2 !== 0) {\n            return positions;\n        }\n        const shapeType = (level/2) % 5; // 3\n        // const centerX = Math.floor(LevelGenerator.COL * LevelGenerator.SPLIT / 2);\n        // const centerY = Math.floor(LevelGenerator.ROW * LevelGenerator.SPLIT / 2);\n        \n        const centerX = 19;\n        const centerY = 28;\n        if (level < 11) {\n            return this.generateCircleShape(centerX, centerY, positions, 1, true);\n        }\n\n        let shapeName = \"\";\n        shapeName = [\"\", \"\", \"\", \"\", \"\"][shapeType];\n        console.log(` ${level}:  - ${shapeName}`);\n        let result: [number, number][] = [];\n        switch(shapeType) {\n            case 0: // \n                return this.generateCircleShape(centerX, centerY, positions, 0.6);\n            case 1: // \n                return this.generateSquareShape(centerX, centerY, positions, 0.7);\n            case 2: // \n                result = this.generateStarShape(centerX, centerY, positions, 0.5);\n                break;\n            case 3: // \n                result = this.generateDiamondShape(centerX, centerY, positions, 0.6);\n                break;\n            case 4: // \n                result = this.generateCrossShape(centerX, centerY, positions, 0.6);\n                break;\n            default:\n                return positions;\n        }\n        if (level === 55) {\n             //\n            this.generateMiddleUpBottom(result);\n        }\n        return result;\n    }\n\n    /**\n     * \n     * @param centerX X\n     * @param centerY Y\n     * @param positions \n     * @param density 0-1\n     * @returns \n     */\n    private static generateCircleShape(centerX: number, centerY: number, positions: [number, number][], density: number, noExtend: boolean = false): [number, number][] {\n        const maxRadius = Math.floor(Math.min(centerX, centerY) * 0.8);\n        const result: [number, number][] = [];\n        \n        // \n        const innerPoints: [number, number][] = [];\n        const edgePoints: [number, number][] = [];\n        \n        for (const [x, y] of positions) {\n            const distance = Math.sqrt(Math.pow(x - centerX, 2) + Math.pow(y - centerY, 2));\n            if (distance <= maxRadius) {\n                // 80%-100%\n                if (distance >= maxRadius * 0.8) {\n                    edgePoints.push([x, y]);\n                } else {\n                    innerPoints.push([x, y]);\n                }\n            }\n        }\n        \n        // \n        for (const point of edgePoints) {\n            // \n            if (Math.random() < density * 1.5) {  // 50%\n                result.push(point);\n            }\n        }\n        \n        // \n        for (const point of innerPoints) {\n            // \n            if (Math.random() < density * 0.8) {  // 20%\n                result.push(point);\n            }\n        }\n        \n        if (!noExtend) {\n            this.generateTopLine(result);\n            this.generateBottomLine(result);\n        }\n        \n        return result.length > 0 ? result : positions;\n    }\n\n    /**\n     * \n     * @param centerX X\n     * @param centerY Y\n     * @param positions \n     * @param density 0-1\n     * @returns \n     */\n    private static generateSquareShape(centerX: number, centerY: number, positions: [number, number][], density: number): [number, number][] {\n        const halfSize = Math.min(centerX, centerY) * 0.7;\n        const result: [number, number][] = [];\n        \n        for (const [x, y] of positions) {\n            if (Math.abs(x - centerX) <= halfSize && Math.abs(y - centerY) <= halfSize && Math.random() < density) {\n                result.push([x, y]);\n            }\n        }\n        \n        this.generateTopLine(result);\n        this.generateBottomLine(result);\n        return result.length > 0 ? result : positions;\n    }\n\n\n    /**\n     * \n     * @param centerX X\n     * @param centerY Y\n     * @param positions \n     * @param density 0-1\n     * @returns \n     */\n    private static generateStarShape(centerX: number, centerY: number, positions: [number, number][], density: number): [number, number][] {\n        const outerRadius = Math.min(centerX, centerY) * 0.7;\n        const innerRadius = outerRadius * 0.4;\n        const result: [number, number][] = [];\n        \n        for (const [x, y] of positions) {\n            const distance = Math.sqrt(Math.pow(x - centerX, 2) + Math.pow(y - centerY, 2));\n            const angle = Math.atan2(y - centerY, x - centerX);\n            \n            // \n            const starRadius = (outerRadius + innerRadius) / 2 + \n                              (outerRadius - innerRadius) / 2 * Math.cos(5 * angle);\n            \n            if (distance <= starRadius && Math.random() < density) {\n                result.push([x, y]);\n            }\n        }\n\n        this.generateFourCurnor(result);\n        \n        return result.length > 0 ? result : positions;\n    }\n    static generateTopLine(result: [number, number][]) {\n        for (let i = 0; i < LevelGenerator.SPLIT * (LevelGenerator.COL - 1); i++) {\n            result.push([i, 48]);\n        }\n    }\n\n    static generateBottomLine(result: [number, number][]) {\n        for (let i = 0; i < LevelGenerator.SPLIT * (LevelGenerator.COL - 1); i++) {\n            result.push([i, 4]);\n        }\n    }\n\n    /**\n     * \n     * @param centerX X\n     * @param centerY Y\n     * @param positions \n     * @param density 0-1\n     * @returns \n     */\n    private static generateDiamondShape(centerX: number, centerY: number, positions: [number, number][], density: number): [number, number][] {\n        const sizeX = Math.min(centerX, centerY) * 0.7;\n        const sizeY = Math.min(centerX, centerY) * 0.7;\n        const result: [number, number][] = [];\n        \n        for (const [x, y] of positions) {\n            const relX = Math.abs(x - centerX) / sizeX;\n            const relY = Math.abs(y - centerY) / sizeY;\n            \n            if (relX + relY <= 1 && Math.random() < density) {\n                result.push([x, y]);\n            }\n        }\n\n        this.generateFourCurnor(result);\n        \n        return result.length > 0 ? result : positions;\n    }\n\n    private static generateFourCurnor(result: [number, number][]): void {\n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6, 12]);\n        }\n\n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6 + 30, 12]);\n        }\n\n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6, 42]);\n        }\n        \n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6 + 30, 42]);\n        }\n    }\n\n    private static generateMiddleUpBottom(result: [number, number][]): void {\n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6 + 15, 6]);\n        }\n        \n        //\n        for (let i = 0; i < LevelGenerator.SPLIT * 6; i++) {\n            result.push([i%6 + 15, 48]);\n        }\n    }\n\n    /**\n     * \n     * @param centerX X\n     * @param centerY Y\n     * @param positions \n     * @param density 0-1\n     * @returns \n     */\n    private static generateCrossShape(centerX: number, centerY: number, positions: [number, number][], density: number): [number, number][] {\n        const armLength = Math.min(centerX, centerY) * 0.6;\n        const armWidth = Math.min(centerX, centerY) * 0.2;\n        const result: [number, number][] = [];\n        \n        for (const [x, y] of positions) {\n            const relX = Math.abs(x - centerX);\n            const relY = Math.abs(y - centerY);\n            \n            // \n            if (relY <= armWidth && relX <= armLength) {\n                if (Math.random() < density) {\n                    result.push([x, y]);\n                }\n            }\n            // \n            else if (relX <= armWidth && relY <= armLength) {\n                if (Math.random() < density) {\n                    result.push([x, y]);\n                }\n            }\n        }\n\n        this.generateFourCurnor(result);\n        \n        return result.length > 0 ? result : positions;\n    }\n\n\n    public static generateLevel55() {\n        console.log(` 55: 7*9`);\n            \n            // \n            const COL = LevelGenerator.COL;\n            const ROW = LevelGenerator.ROW;\n            const SPLIT = LevelGenerator.SPLIT; // 6x6\n            \n            // 6x6, \n            const availableCols = COL - 1;\n            const availableRows = ROW - 1;\n            \n            // \n            let positions: [number, number][] = [];\n            for (let row = 0; row < availableRows * SPLIT; row++) {\n                for (let col = 0; col < availableCols * SPLIT; col++) {\n                    positions.push([col, row]);\n                }\n            }\n            \n            // \n            let ziNum = positions.length;\n            // 3\n            let types = Math.min(Math.floor(ziNum / 3), 15);\n            const ziNumPerType = Math.floor(ziNum / types);\n            \n            console.log(` 55 :  = ${types},  = ${ziNum},  = ${ziNumPerType}`);\n            \n            // \n            let zis: [col: number, row: number, style: number][] = [];\n            \n            // \n            for (let type = types - 1; type >= 0; type--) {\n                // ziNumPerType\n                for (let i = 0; i < ziNumPerType; i++) {\n                    // \n                    const posIndex = (type * ziNumPerType + i) % positions.length;\n                    const [col, row] = positions[posIndex];\n                    \n                    // 1\n                    zis.push([col, row, type + 1]);\n                }\n            }\n            \n            // \n            for (let i = zis.length; i < positions.length; i++) {\n                const [col, row] = positions[i];\n                zis.push([col, row, 1]);\n            }\n            \n            // \n            for (let i = zis.length - 1; i > 0; i--) {\n                const j = Math.floor(Math.random() * (i + 1));\n                [zis[i], zis[j]] = [zis[j], zis[i]];\n            }\n            \n            console.log(`55 : ${zis.length}`);\n            \n            return { zis };\n    }\n\n    public static generateLevel(level: number) {\n        // if (level == 2) {\n        //     level = 31;\n        // }\n\n        let ziStepNum = 3; // \n        if (level >= 31) {\n            ziStepNum = 3;\n        }\n        let types = Math.floor(level / 3) + 3; // \n        types = Math.min(types, 15); // 20\n        let ziNum = level * ziStepNum + 12; // \n        \n        // 557*9\n        // if (level === 55) {\n        //     return this.generateLevel55();\n        // }\n        \n        // 3\n        let ziNumPerType = Math.floor(ziNum / types);\n        // 3\n        ziNumPerType = Math.floor(ziNumPerType / 3) * 3;\n        // 03\n        if (ziNumPerType === 0) ziNumPerType = 3;\n        \n        // \n        ziNum = ziNumPerType * types;\n        console.log(`:  = ${ziNumPerType},  = ${ziNum}`);\n        \n        // \n        const COL = LevelGenerator.COL;\n        const ROW = LevelGenerator.ROW;\n        const SPLIT = LevelGenerator.SPLIT; // 6x6\n        \n        // 6x6, \n        const availableCols = COL - 1;\n        const availableRows = ROW - 2;\n        \n        // \n        let positions: [number, number][] = [];\n        for (let row = 0; row < availableRows * SPLIT; row++) {\n            for (let col = 0; col < availableCols * SPLIT; col++) {\n                positions.push([col, row]);\n            }\n        }\n        \n        // \n        positions = this.adjustDifficultyByLevel(level, positions);\n        \n        // \n        if (positions.length === 0) {\n            console.log(`:  ${level} `);\n            for (let row = 0; row < availableRows * SPLIT; row++) {\n                for (let col = 0; col < availableCols * SPLIT; col++) {\n                    positions.push([col, row]);\n                }\n            }\n        }\n        \n        console.log(` ${level} : ${positions.length}`);\n        \n        // // \n        for (let i = positions.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [positions[i], positions[j]] = [positions[j], positions[i]];\n        }\n        \n        // \n        let zis: [col: number, row: number, style: number][] = [];\n\n        // \n        let selectedTypes = this.selectTypes(level, types);\n        \n        // \n        for (let type of selectedTypes) {\n            // ziNumPerType\n            for (let i = 0; i < ziNumPerType; i++) {\n                // 0layers-1\n                // const layer = Math.floor(i / Math.ceil(ziNumPerType / layers));\n                \n                // \n                const posIndex = (type * ziNumPerType + i) % positions.length;\n                const [col, row] = positions[posIndex];\n                \n                // 1\n                zis.push([col, row, type]);\n            }\n        }\n        \n        // \n        // zis.sort((a, b) => b[2] - a[2]);\n        // \n        let segBorder = [0.8, 0.2];\n        if (level < 10) {\n            // 10\n            segBorder = [1];\n        }\n        let segMinIndex = 0;\n        for (let x = 0; x < segBorder.length; x++) {\n            segBorder[x] = Math.floor(zis.length * segBorder[x]);\n\n            for (let i = segBorder[x] + segMinIndex - 1; i > segMinIndex && i < zis.length; i--) {\n                const j = Math.floor(Math.random() * (i + 1));\n                let temp = zis[i];\n                zis[i] = zis[j];\n                zis[j] = temp;\n            }\n            segMinIndex = segBorder[x] + 1;\n        }\n        \n        // \n        const typeCount: {[key: number]: number} = {};\n        zis.forEach(zi => {\n            const type = zi[2];\n            typeCount[type] = (typeCount[type] || 0) + 1;\n        });\n        \n        console.log(` ${level} :`);\n        //  ES2015 \n        let typeEntries: [string, number][] = [];\n        for (let type in typeCount) {\n            if (typeCount.hasOwnProperty(type)) {\n                typeEntries.push([type, typeCount[type]]);\n            }\n        }\n        typeEntries.sort((a, b) => parseInt(a[0]) - parseInt(b[0]));\n        \n        for (const [type, count] of typeEntries) {\n            console.log(`   ${type}: ${count} `);\n        }\n        \n        return { zis };\n    }\n\n\n    static readonly ziTypesByCamp: {[key: number]: number[]} = {\n        0: [],\n        1: [1, 2, 3, 4, 5, 6, 7, 8,9,10, \n            11, 12, 13, 14, 15, 16, 18, 20,\n            21, 22, 23, 24, 26, 25, 26, 27, 28, 29, 30, \n            87,\n            105,106],\n            // 102, 103, 145, 146, 148, 149, 150],\n        2: [31, 32, 33, 34, 35, 36, 37, 38, 39, 40, \n            41, 42, 43, 44, 45, 46, 47, 48, 49, 50, \n            51, 52, 53, 54, 55, 56, 57, 58, 59, 60, \n            61, 62, 63, 65,66,67,68,69,70,\n            74,\n            107],\n        3: [73, 74, 75, 76, 77, 78, 79, 70,\n            81,82,83,84,//,\n            94,95,96,97,98,99,100,\n            101,\n            // \n\n            // 121\n            ],\n        4: [27, \n            88, 89, 90, \n            91, 92, 93,\n            111,112,113,114,115,116,117,118,119,120],\n            // 151, 152, 153, 154, 155, 156, 157, 158, 159, 160],\n    };\n\n    public static getCampByLevel(level: number): number {\n        let camp = level % 5;\n        return camp;\n    }\n\n    static selectTypes(level: number, types: number): number[] {\n\n        let selectedTypes: number[] = [];\n\n        //  - \n        //  - \n        //  - \n        //  -  15\n        //  - \n        let camp = this.getCampByLevel(level);\n        console.log(` ${level} : ${camp}`);\n        if (camp !== 0) {\n            let campTypes = this.ziTypesByCamp[camp];\n            if (campTypes.length * 5 >= level) {\n                selectedTypes = campTypes.slice(0, Math.min(types, campTypes.length));\n            } else {\n                //1-selectedTypes.lengthtypes\n                while (selectedTypes.length < types) {\n                    let randomType = campTypes[Math.floor(Math.random() * campTypes.length)];\n                    if (selectedTypes.indexOf(randomType) < 0) {\n                        selectedTypes.push(randomType);\n                    }\n                }\n            }\n        } else {\n            //1-100types\n            while (selectedTypes.length < types) {\n                let randomType = Math.floor(Math.random() * 100) + 1;\n                if (selectedTypes.indexOf(randomType) < 0) {\n                    selectedTypes.push(randomType);\n                }\n            }\n        }\n        console.log(` ${level}  ${camp} : ${selectedTypes}`);\n        return selectedTypes;\n    }\n\n    /**\n     * \n     * @param testLevel \n     * @returns \n     */\n    public static testLevelGenerator(testLevel: number = 1): string {\n        const result = this.generateLevel(testLevel);\n        const zis = result.zis;\n        \n        // \n        const totalPieces = zis.length;\n        const types = new Set(zis.map(zi => zi[2])).size;\n        \n        // \n        const typeCount: {[key: number]: number} = {};\n        zis.forEach(zi => {\n            const type = zi[2];\n            typeCount[type] = (typeCount[type] || 0) + 1;\n        });\n        \n        // \n        const positions = zis.map(zi => [zi[0], zi[1]]);\n        const minX = Math.min(...positions.map(p => p[0]));\n        const maxX = Math.max(...positions.map(p => p[0]));\n        const minY = Math.min(...positions.map(p => p[1]));\n        const maxY = Math.max(...positions.map(p => p[1]));\n        \n        // \n        const totalArea = (maxX - minX + 1) * (maxY - minY + 1);\n        const density = totalPieces / totalArea;\n        \n        // \n        let expectedShape = \"\";\n        if (testLevel < 10) {\n            const shapes = [\"\", \"\", \"\"];\n            expectedShape = shapes[testLevel % 3];\n        } else if (testLevel < 20) {\n            const shapes = [\"\", \"\", \"\", \"\"];\n            expectedShape = shapes[testLevel % 4];\n        } else {\n            const shapes = [\"\", \"\", \"\", \"\", \"\", \"\"];\n            expectedShape = shapes[testLevel % 6];\n        }\n        \n        //  ES2015 \n        let typeEntries: [string, number][] = [];\n        for (let type in typeCount) {\n            if (typeCount.hasOwnProperty(type)) {\n                typeEntries.push([type, typeCount[type]]);\n            }\n        }\n        \n        // \n        return `\n ${testLevel} :\n- : ${expectedShape}\n- : ${totalPieces}\n- : ${types}\n- : X(${minX}-${maxX}), Y(${minY}-${maxY})\n- : ${density.toFixed(2)}\n- : ${typeEntries.map(([type, count]) => `${type}:${count}`).join(', ')}\n        `.trim();\n    }\n\n    /**\n     * \n     * @param startLevel \n     * @param endLevel \n     * @returns \n     */\n    public static batchTestLevels(startLevel: number = 1, endLevel: number = 25): string {\n        let results = [];\n        results.push(`===  ${startLevel}-${endLevel} ===`);\n        \n        for (let level = startLevel; level <= endLevel; level++) {\n            results.push(this.testLevelGenerator(level));\n            results.push(\"---\"); // \n        }\n        \n        return results.join('\\n');\n    }\n}","import { createBundleObject } from \"../../../core/modules/res/ResConst\";\n\n\nconst Bundle = (m: string) => createBundleObject(`Res/Audio/${m}`, \"LoginBN\");\nexport const LoginAudio = {\n    bgm: Bundle(\"bgm\"),\n}\n","import { _decorator, Component } from 'cc';\nimport { AudioManager } from '../../../core/modules/audio/AudioManager';\nimport { LoginAudio } from './LoginAudio';\nconst { ccclass, property } = _decorator;\n\n@ccclass('LoginEntry')\nexport class LoginCtrl extends Component {\n    init() {\n        AudioManager.ins.playBgMusic(LoginAudio.bgm);\n    }\n\n    //()\n    private autoLogin(): void {\n        //1\n        setTimeout(() => {\n            this.m_OnLoginSuccess();\n        }, 1000)\n    }\n\n    private m_OnLoginSuccess: Function = null;\n\n    showLogin(onLoginSuccess: Function): void {\n        this.m_OnLoginSuccess = onLoginSuccess;\n        this.autoLogin();\n    }\n\n    // private async onLoginSuccess(): Promise<void> {\n    //     // Match3BN loadBundle  requireMatch3Entry \n    //     // addComponent(\"Match3Entry\") \n    //     await ResManager.ins.loadBundleAsync(\"Match3BN\");\n    //     // this.node.addComponent(Match3Entry);\n    //     //  LoginEntry.ts Asset Bundle  Match3 \n    //     //1\n    //     //2 Match3BN  LoginBN \n    //     let match3Entry = this.node.addComponent(\"Match3Entry\");\n    //     (match3Entry as any).init();\n    // }\n}\n\n\n","import { _decorator, Button, Component, Node, Sprite, UITransform, Vec3, tween, Label, SpriteFrame, assetManager, Size, sys } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { UILayer } from './UILayer';\nimport { ShopConfig } from '../shop/ShopConfig';\nimport { ToastManager } from './ToastManager';\nimport { AdManager, AdType, AdEventType } from '../ad/AdManager';\nimport { AudioManager } from '../audio/AudioManager';\nimport { createBundleObject } from '../res/ResConst';\nimport { GameDataManager } from '../data/GameDataManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n */\n@ccclass('LotteryUI')\nexport class LotteryUI extends BaseUI {\n    public static readonly viewLayer: UILayer = UILayer.UI;\n    \n    @property(Node)\n    plateSprite: Node | null = null; // \n\n    @property(Node)\n    poiterSprite: Node | null = null; // \n\n    @property(Button)\n    lotteryButton: Button | null = null; // \n\n    @property(Button)\n    closeButton: Button | null = null; // \n\n    @property([Node])\n    itemNodes: Node[] = []; // \n\n    @property(Node)\n    leftChanceLabel: Node | null = null;\n\n    @property(Node)\n    video: Node | null = null;\n\n    private isRotating: boolean = false; // \n    private rotationDuration: number = 3; // \n    private rotationTimes: number = 5; // \n    private prizes: any[] = []; // \n    private dailyFreeChances: number = 3; // \n    private leftChances: number = 0; // \n    private lastLotteryDate: string = ''; // \n\n    start() {\n        // \n        if (this.lotteryButton) {\n            this.lotteryButton.node.on(Button.EventType.CLICK, this.onLotteryButtonClick, this);\n        }\n        \n        // \n        if (this.closeButton) {\n            this.closeButton.node.on(Button.EventType.CLICK, this.onCloseButtonClick, this);\n        }\n\n        // \n        this.initLotteryChances();\n        \n        //\n        this.initItems();\n    }\n\n    /**\n     * \n     */\n    onLotteryButtonClick() {\n        if (this.isRotating) {\n            return; // \n        }\n\n        // \n        if (this.leftChances > 0) {\n            // \n            this.startLottery();\n        } else {\n            // \n            this.showAdAndLottery();\n        }\n    }\n\n    /**\n     * \n     */\n    onCloseButtonClick() {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('LotteryUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('LotteryUI: ');\n        }\n        \n        // \n        this.hide();\n    }\n\n    /**\n     * \n     * @returns \n     */\n    selectPrizeByProbability(): number {\n        // 0-1\n        const random = Math.random();\n        \n        // 1\n        let cumulativeProbability = 0;\n        let totalProbability = 0;\n        \n        // \n        for (let i = 0; i < this.prizes.length; i++) {\n            totalProbability += this.prizes[i].probabiliy;\n        }\n        \n        // 1\n        const normalized = Math.abs(totalProbability - 1.0) > 0.0001;\n        \n        // \n        for (let i = 0; i < this.prizes.length; i++) {\n            let probability = this.prizes[i].probabiliy;\n            \n            // \n            if (normalized && totalProbability > 0) {\n                probability = probability / totalProbability;\n            }\n            \n            cumulativeProbability += probability;\n            \n            // \n            if (random < cumulativeProbability || i === this.prizes.length - 1) {\n                console.log(`: =${i}, =${random}, =${cumulativeProbability}, =${normalized}, =${totalProbability}`);\n                return i;\n            }\n        }\n        \n        // \n        console.warn(`=${random}, =${totalProbability}`);\n        return this.prizes.length - 1;\n    }\n\n    /**\n     * \n     */\n    startLottery(byAd: boolean = false) {\n        if (this.isRotating) {\n            return;\n        }\n        \n        // \n        this.reduceLotteryChance();\n        \n        this.isRotating = true;\n        if (this.lotteryButton) {\n            this.lotteryButton.interactable = false; // \n        }\n\n        let prizeIndex: number = 4;\n        if (byAd) {\n            //\n            const selectAbleIndexs = [0,1,2,3,5,6,7];\n            prizeIndex = selectAbleIndexs[Math.floor(Math.random() * selectAbleIndexs.length)];\n        } else {\n            // \n            prizeIndex = this.selectPrizeByProbability();\n            console.log(`: ${prizeIndex}`);\n        }\n        \n        // \n        // 458360\n        // 00\n        // \n        \n        // 0-360\n        let currentAngle = 0;\n        if (this.poiterSprite) {\n            currentAngle = (this.poiterSprite.angle + 360) % 360;\n        }\n        console.log(`: ${currentAngle}`);\n        \n        // \n        // 00145\n        // \n        const prizeAngle = prizeIndex * 45 * -1;\n        \n        // (5) + ( - )\n        // Cocos Creator\n        // \n        let angleDiff = prizeAngle - currentAngle;\n        if (angleDiff > 0) {\n            angleDiff -= 360; // 360\n        }\n        \n        const minRotation = 360 * 5; // 5\n        // \n        const targetAngle = currentAngle - minRotation + angleDiff;\n        \n        console.log(`: ${currentAngle}, : ${prizeAngle}, : ${angleDiff}, : ${targetAngle}`);\n        \n        // \n        AudioManager.ins.playSound(createBundleObject(\"Res/Audio/lottery\", \"LoginBN\"));\n\n        this.rotatePointer(targetAngle, true, () => {\n            this.isRotating = false;\n            if (this.lotteryButton) {\n                this.lotteryButton.interactable = true; // \n            }\n            \n            // \n            console.log(`: ${prizeIndex}`);\n            this.showPrizeResult(prizeIndex);\n        });\n    }\n\n    /**\n     * \n     * @returns \n     */\n    private calculatePrizeMultiplier(): number {\n        // \n        const gameDataManager = GameDataManager.getInstance();\n        const currentLevel = gameDataManager.loadLevel();\n        \n        // 51\n        // 1-516-10211-153\n        const multiplier = Math.floor((currentLevel - 1) / 5) + 1;\n        \n        console.log(`: ${currentLevel}, : ${multiplier}`);\n        return multiplier;\n    }\n\n    /**\n     * \n     */\n    initItems() {\n        // \n        const prizeMultiplier = this.calculatePrizeMultiplier();\n        console.log(`: ${prizeMultiplier}`);\n        // \n        const prizes = [\n                {\n                    \"type\": \"item\",\n                    \"itemId\": \"item_ccjj\",\n                    \"count\": 1 * prizeMultiplier,\n                    \"probabiliy\": 0.03\n                },\n                {\n                    \"type\": \"coin\",\n                    \"itemId\": \"100\",\n                    \"count\": 100 * prizeMultiplier,\n                    \"probabiliy\": 0.03\n                },\n                {\n                    \"type\": \"item\",\n                    \"itemId\": \"item_qkny\",\n                    \"count\": 1 * prizeMultiplier,\n                    \"probabiliy\": 0.03\n                },\n                {\n                    \"type\": \"coin\",\n                    \"count\": 10 * prizeMultiplier,\n                    \"probabiliy\": 0.25\n                },\n                 {\n                    \"type\": \"none\",\n                    \"itemId\": \"item1\",\n                    \"count\": 1,\n                    \"probabiliy\": 0.4\n                },\n                {\n                    \"type\": \"coin\",\n                    \"count\": 30 * prizeMultiplier,\n                    \"probabiliy\": 0.15\n                },\n                {\n                    \"type\": \"item\",\n                    \"itemId\": \"item_tdhm\",\n                    \"count\": 3 * prizeMultiplier,\n                    \"probabiliy\": 0.04\n                },\n                {\n                    \"type\": \"coin\",\n                    \"count\": 60 * prizeMultiplier,\n                    \"probabiliy\": 0.07\n                }\n            ];\n    \n        // \n        this.setPrizes(prizes);\n        console.log(`: ${prizes.length}: ${prizeMultiplier}`);\n                \n    }\n\n    /**\n     * \n     * @param targetAngle \n     * @param clockwise \n     * @param callback \n     */\n    rotatePointer(targetAngle: number, clockwise: boolean = true, callback: Function) {\n        if (!this.poiterSprite) {\n            console.error(\"\");\n            return;\n        }\n\n        // \n        const currentAngle = (this.poiterSprite.angle + 360) % 360;\n        this.poiterSprite.angle = currentAngle;\n        \n        \n        // \n        const actualTargetAngle = targetAngle;//currentAngle + totalRotation;\n        \n        console.log(`: =${currentAngle}, =${targetAngle}, =${targetAngle}, =${actualTargetAngle}, =${clockwise}`);\n        \n        // tween\n        tween(this.poiterSprite)\n            .to(this.rotationDuration, { angle: actualTargetAngle }, {\n                easing: 'cubicOut' // \n            })\n            .call(() => {\n                if (callback) {\n                    callback();\n                }\n            })\n            .start();\n    }\n\n    /**\n     * \n     * @param prizeIndex \n     */\n    showPrizeResult(prizeIndex: number) {\n        const prize = this.prizes[prizeIndex];\n        let message = '';\n        \n        // UI\n        this.updateChanceDisplay();\n        \n        // \n        if (prize.type === 'item') {\n            // \n            const itemConfig = ShopConfig.getItemById(prize.itemId);\n            const itemName = itemConfig ? itemConfig.name : '';\n            message = `${itemName} x${prize.count}`;\n            \n            // \n            try {\n                // gCtrlShopManager\n                const shopManager = gCtrl.shop;\n                \n                // ShopManager\n                const shopItem = shopManager.getItem(prize.itemId);\n                if (shopItem) {\n                    // \n                    shopItem.count = prize.count;\n                    \n                    // gCtrlBagManager\n                    const bagManager = gCtrl.bag;\n                    const success = bagManager.addItemByShopItem(shopItem);\n                    \n                    if (success) {\n                        console.log(`${itemName} x${prize.count}`);\n                    } else {\n                        console.error(`${itemName} x${prize.count}`);\n                        message += '';\n                    }\n                } else {\n                    console.error(`ShopManager: ${prize.itemId}`);\n                    message += '';\n                }\n            } catch (error) {\n                console.error(':', error);\n                message += '';\n            }\n        } else if (prize.type === 'coin') {\n            // \n            message = `${prize.count}`;\n            \n            // \n            try {\n                // gCtrlCoinManager\n                const coinManager = gCtrl.coin;\n                const success = coinManager.addCoin(prize.count);\n                \n                if (success) {\n                    console.log(`${prize.count}`);\n                } else {\n                    console.error(`${prize.count}`);\n                    message += '';\n                }\n            } catch (error) {\n                console.error(':', error);\n                message += '';\n            }\n        } else if (prize.type === 'none') {\n            // \n            message = '';\n        } else {\n            // \n            message = `${prizeIndex + 1}`;\n        }\n        \n        // ToastManager\n        ToastManager.getInstance().showMessage(message, 3);\n    }\n\n    /**\n     * \n     * @param prizes \n     */\n    setPrizes(prizes: any[]) {\n        this.prizes = prizes;\n        if (!this.itemNodes || this.itemNodes.length === 0) {\n            console.error(\"\");\n            return;\n        }\n\n        // \n        const nodeCount = Math.min(prizes.length, this.itemNodes.length);\n        \n        for (let i = 0; i < nodeCount; i++) {\n            const prize = prizes[i];\n            const itemNode = this.itemNodes[i];\n            \n            // \n            this.updateItemNode(itemNode, prize);\n        }\n    }\n\n    /**\n     * \n     * @param itemNode \n     * @param prize \n     */\n    updateItemNode(itemNode: Node, prize: any) {\n        // \n        const itemSprite = itemNode.getChildByName('itemSprite');\n        const itemLabel = itemNode.getChildByName('itemLabel');\n        \n        // \n        if (prize.type === 'item') {\n            // \n            if (prize.itemId) {\n                // itemId\n                const itemConfig = ShopConfig.getItemById(prize.itemId);\n                if (itemConfig) {\n                    // \n                    if (itemSprite) {\n                        const spriteComponent = itemSprite.getComponent(Sprite);\n                        if (spriteComponent) {\n                            // \n                            const iconPath = itemConfig.icon;\n                            const bundleName = 'CommonUI'; // bundle\n                            const assetPath = `ui/${iconPath}`; // \n                            \n                            // bundle\n                            const bundle = assetManager.getBundle(bundleName);\n                            if (bundle) {\n                                // Bundle\n                                bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                                    if (err) {\n                                        console.error(`bundle ${bundleName} : ${assetPath}`, err);\n                                        return;\n                                    }\n                                    \n                                    if (spriteFrame) {\n                                        spriteComponent.spriteFrame = spriteFrame;\n                                        // 90*90\n                                        const uiTransform = itemSprite.getComponent(UITransform);\n                                        if (uiTransform) {\n                                            uiTransform.setContentSize(90, 90);\n                                        }\n                                    } else {\n                                        console.error(`bundle ${bundleName} : ${assetPath}`);\n                                    }\n                                });\n                            } else {\n                                // Bundlebundle\n                                assetManager.loadBundle(bundleName, (err, bundle) => {\n                                    if (err) {\n                                        console.error(`bundle: ${bundleName}`, err);\n                                        return;\n                                    }\n                                    \n                                    // bundle\n                                    bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                                        if (err) {\n                                            console.error(`bundle ${bundleName} : ${assetPath}`, err);\n                                            return;\n                                        }\n                                        \n                                        if (spriteFrame) {\n                                            spriteComponent.spriteFrame = spriteFrame;\n                                            // 90*90\n                                            const uiTransform = itemSprite.getComponent(UITransform);\n                                            if (uiTransform) {\n                                                uiTransform.setContentSize(90, 90);\n                                            }\n                                        } else {\n                                            console.error(`bundle ${bundleName} : ${assetPath}`);\n                                        }\n                                    });\n                                });\n                            }\n                        }\n                    }\n                    \n                    // \n                    if (itemLabel) {\n                        const labelComponent = itemLabel.getComponent(Label);\n                        if (labelComponent) {\n                            labelComponent.string = `X ${prize.count}`;\n                        }\n                    }\n                } else {\n                    console.error(`: ${prize.itemId}`);\n                }\n            } else {\n                console.error('itemId');\n            }\n        } else if (prize.type === 'coin') {\n            // \n            if (itemSprite) {\n                const spriteComponent = itemSprite.getComponent(Sprite);\n                if (spriteComponent) {\n                    // \n                    const iconPath = 'cion';\n                    const bundleName = 'CommonUI'; // bundle\n                    const assetPath = `ui/${iconPath}/spriteFrame`; // \n                    \n                    // bundle\n                    const bundle = assetManager.getBundle(bundleName);\n                    if (bundle) {\n                        // Bundle\n                        bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                            if (err) {\n                                console.error(`bundle ${bundleName} : ${assetPath}`, err);\n                                return;\n                            }\n                            \n                            if (spriteFrame) {\n                                spriteComponent.spriteFrame = spriteFrame;\n                                // 80*50\n                                const uiTransform = itemSprite.getComponent(UITransform);\n                                if (uiTransform) {\n                                    uiTransform.setContentSize(80, 50);\n                                }\n                            } else {\n                                console.error(`bundle ${bundleName} : ${assetPath}`);\n                            }\n                        });\n                    } else {\n                        // Bundlebundle\n                        assetManager.loadBundle(bundleName, (err, bundle) => {\n                            if (err) {\n                                console.error(`bundle: ${bundleName}`, err);\n                                return;\n                            }\n                            \n                            // bundle\n                            bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                                if (err) {\n                                    console.error(`bundle ${bundleName} : ${assetPath}`, err);\n                                    return;\n                                }\n                                \n                                if (spriteFrame) {\n                                    spriteComponent.spriteFrame = spriteFrame;\n                                    // 80*50\n                                    const uiTransform = itemSprite.getComponent(UITransform);\n                                    if (uiTransform) {\n                                        uiTransform.setContentSize(80, 50);\n                                    }\n                                } else {\n                                    console.error(`bundle ${bundleName} : ${assetPath}`);\n                                }\n                            });\n                        });\n                    }\n                }\n            }\n            \n            // \n            if (itemLabel) {\n                const labelComponent = itemLabel.getComponent(Label);\n                if (labelComponent) {\n                    labelComponent.string = `x ${prize.count}`;\n                }\n            }\n        } else if (prize.type === 'none') {\n            // \n            if (itemLabel) {\n                const labelComponent = itemLabel.getComponent(Label);\n                if (labelComponent) {\n                    labelComponent.string = '';\n                }\n            }\n            // \n            if (itemSprite) {\n                itemSprite.active = false;\n            }\n        }\n    }\n\n    onDestroy() {\n        // \n        if (this.lotteryButton) {\n            this.lotteryButton.node.off(Button.EventType.CLICK, this.onLotteryButtonClick, this);\n        }\n        \n        // \n        if (this.closeButton) {\n            this.closeButton.node.off(Button.EventType.CLICK, this.onCloseButtonClick, this);\n        }\n    }\n\n    /**\n     * \n     */\n    private initLotteryChances(): void {\n        // \n        const today = new Date();\n        const todayStr = `${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`;\n        \n        // \n        const savedLastDate = sys.localStorage.getItem('lastLotteryDate');\n        const savedLeftChances = sys.localStorage.getItem('leftLotteryChances');\n        \n        // \n        if (savedLastDate !== todayStr) {\n            this.leftChances = this.dailyFreeChances;\n            this.lastLotteryDate = todayStr;\n            // \n            sys.localStorage.setItem('lastLotteryDate', this.lastLotteryDate);\n            sys.localStorage.setItem('leftLotteryChances', this.leftChances.toString());\n        } else {\n            // \n            this.leftChances = savedLeftChances ? parseInt(savedLeftChances) : this.dailyFreeChances;\n            this.lastLotteryDate = savedLastDate || todayStr;\n        }\n        \n        // UI\n        this.updateChanceDisplay();\n    }\n\n    /**\n     * \n     */\n    public getLeftChances(): number {\n        return this.leftChances;\n    }\n\n    /**\n     * \n     */\n    private reduceLotteryChance(): void {\n        if (this.leftChances > 0) {\n            this.leftChances--;\n            // \n            sys.localStorage.setItem('leftLotteryChances', this.leftChances.toString());\n            // UI\n            this.updateChanceDisplay();\n        }\n    }\n\n    /**\n     * \n     */\n    private showAdAndLottery(): void {\n        console.log('');\n        \n        // \n        if (this.isRotating) {\n            console.log('');\n            return;\n        }\n        \n        // \n        // this.isRotating = true;\n        if (this.lotteryButton) {\n            this.lotteryButton.interactable = false; // \n        }\n        \n        // \n        const adManager = AdManager.getInstance();\n        \n        // \n        if (adManager) {\n            const success = adManager.showAd(AdType.REWARD_VIDEO, 'reward_video_lottery_chance');\n            if (success) {\n                // \n                const adEventListener = (param: any) => {\n                    console.log('', param);\n                        // res.isEnded \n                        //  2.1.0 res  undefined\n                        //  2.1.0  res.isEnded    \n                    if (param.type === AdEventType.REWARDED) {\n                        // \n                        console.log('');\n                        this.startLottery(true);\n\n                        // \n                        adManager.removeEventListener(adEventListener);\n                    } else if (param.type === AdEventType.CLOSED) {\n                        // \n                        console.log('');\n                        this.isRotating = false;\n                        if (this.lotteryButton) {\n                            this.lotteryButton.interactable = true; // \n                        }\n                        // \n                        adManager.removeEventListener(adEventListener);\n                    }\n                };\n                adManager.addEventListener(adEventListener);\n            }\n        \n            \n            if (!success) {\n                console.error('');\n                \n                // \n                this.isRotating = false;\n                if (this.lotteryButton) {\n                    this.lotteryButton.interactable = true; // \n                }\n            }\n        } else {\n            console.error('');\n            \n            // \n            this.isRotating = false;\n            if (this.lotteryButton) {\n                this.lotteryButton.interactable = true; // \n            }\n        }\n    }\n\n    /**\n     * \n     */\n    private updateChanceDisplay(): void {\n        if (this.leftChanceLabel) {\n            const label = this.leftChanceLabel.getComponent(Label);\n            if (label) {\n                label.string = `${this.leftChances}`;\n            }\n        }\n        \n        // /leftChanceLabelvideo\n        if (this.leftChances > 0) {\n            if (this.leftChanceLabel) this.leftChanceLabel.active = true;\n            if (this.video) this.video.active = false;\n        } else {\n            if (this.leftChanceLabel) this.leftChanceLabel.active = false;\n            if (this.video) this.video.active = true;\n        }\n    }\n}","import { Component, JsonAsset, Node, Vec3, _decorator, tween, Label, RichText, ProgressBar, Button, Sprite, UITransform, Color, assetManager, SpriteFrame, Size, Rect, Prefab, instantiate, Canvas, Camera, RenderTexture, director, Director, Layers, Vec2, Tween } from 'cc';\nimport { SpriteFramesCfg } from '../../../auto/SpriteFramesCfg';\nimport { ResLoader } from '../../../core/modules/res/ResLoader';\nimport { Match3ZiUE } from './Match3ZiUE';\nimport { ZiStack } from './ZiStack';\nimport { LevelGenerator } from './LevelGenerator';\nimport CoinManager, { CoinEventType } from '../../../core/modules/coin/CoinManager';\nimport { TaskManager } from '../../../core/modules/task/TaskManager';\nimport { AdManager, AdType, AdEventType, AdEventParam } from '../../../core/modules/ad/AdManager';\nimport { BagManager, BagItem, ItemType, BagEventType } from '../../../core/modules/bag/BagManager';\nimport { UILayer } from '../../../core/modules/ui/UILayer';\nimport { SkillManager } from '../../../core/modules/skill/SkillManager';\nimport { SkillConfig, SkillEventType, SkillType } from '../../../core/modules/skill/SkillBase';\nimport { AudioManager } from '../../../core/modules/audio/AudioManager';\nimport { createBundleObject } from '../../../core/modules/res/ResConst';\nimport { TuoDaoHuiMaSkill } from '../../../core/modules/skill/TuoDaoHuiMaSkill';\nimport { ToastManager } from '../../../core/modules/ui/ToastManager';\nimport InteractiveDataManager from '../../../core/modules/interactive/InteractiveDataManager';\n\ndeclare const jsb: any;\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('Match3UI')\nexport class Match3UI extends Component {\n\n    @property(Node)\n    private board: Node = null;\n\n    @property(Node)\n    private gameStatus: Node = null;\n\n    @property(Node)\n    private collectArea: Node = null;\n\n    // \n    @property(Node)\n    private coinNode: Node = null;\n\n    // \n    @property(Node)\n    private gameSuccess: Node = null;\n\n    @property(Node)\n    private gameFail: Node = null;\n\n    @property(Label)\n    private successCoinLabel: Label = null;\n\n    @property(Label)\n    private failCoinLabel: Label = null;\n\n    @property(Button)\n    private successContinueButton: Button = null;\n\n    @property(Button)\n    private successDoubleRewardButton: Button = null;\n\n    @property(Button)\n    private failRetryButton: Button = null;\n\n\n    @property(Button)\n    private successBuyButton: Button = null;\n\n    @property(Label)\n    private rewardDetailLabel: Label = null;\n\n    @property(Label)\n    private successLevelDetailLabel: Label = null;\n\n    @property(Button)\n    private failBuyButton: Button = null;\n\n    @property(Button)\n    private successShareButton: Button = null;\n\n    // \n    @property(Node)\n    private pausePannel: Node = null;\n\n    @property(Button)\n    private pauseButton: Button = null;\n\n    @property(Button)\n    private cancelButton: Button = null;\n\n    @property(Button)\n    private failShareButton: Button = null;\n\n    @property(Button)\n    private rebornButton: Button = null;\n\n\n    @property(Sprite)\n    private warningMask: Sprite = null;\n\n    @property(Label)\n    private pauseCoinRewardLabel: Label = null;\n\n    // \n    @property(Node)\n    private skillsNode: Node = null;\n\n    @property(Prefab)\n    private skillPrefab: Prefab = null;\n\n    // \n    private skillManager: SkillManager = null;\n\n    private bagManager: BagManager = null;\n    private currentItem: BagItem = null;\n    \n    // UI\n    private currentDisplayedItems: Map<string, BagItem> = new Map<string, BagItem>();\n\n    private levelText: Label = null;\n\n    private progressBar: ProgressBar = null;\n\n    private progressLabel: Label = null;\n    \n    // \n    private coinManager: CoinManager = null;\n    private entryFee: number = 10;       // \n    private winReward: number = 50;      // \n    private isGameStarted: boolean = false; // \n    private coinAnimationTween: any = null; // tween\n    \n    // \n    private taskManager: TaskManager = null;\n    \n    // \n    private adManager: AdManager = null;\n    private gameStartTime: number = 0; // \n    private interstitialAdShown: boolean = false; // \n    \n    // \n    private isProcessingContinue: boolean = false; // \n    \n    // \n    private interactiveDataCallback: any = null; // \n    \n    //\n    private m_PlaceHolders: Match3ZiUE[] = [];\n\n    /** */\n    private m_ZiList: Match3ZiUE[] = [];\n    private stacks: ZiStack[][] = [];\n    \n    // \n    private m_CollectEventQueue: Match3ZiUE[] = [];\n    // \n    private m_IsProcessingCollectEvent: boolean = false;\n    \n    // \n    private currentLevel: number = 1;\n    \n    // \n    private pageManager: any = null;\n    \n    // \n    private initialZiCount: number = 0;\n    \n    // \n    private lastEliminateTime: number = 0;     // \n    private comboCount: number = 0;            // \n    private totalComboCount: number = 0;       // \n    private comboTimeout: number = 5000;        // \n    campTips: string;\n\n    /**\n     * \n     * @param v1 \n     * @param v2 \n     * @returns 1: v1 > v2, 0: v1 = v2, -1: v1 < v2\n     */\n    private compareVersion(v1: string, v2: string): number {\n        const v1Parts = v1.split('.');\n        const v2Parts = v2.split('.');\n        const len = Math.max(v1Parts.length, v2Parts.length);\n\n        while (v1Parts.length < len) {\n            v1Parts.push('0');\n        }\n        while (v2Parts.length < len) {\n            v2Parts.push('0');\n        }\n\n        for (let i = 0; i < len; i++) {\n            const num1 = parseInt(v1Parts[i]);\n            const num2 = parseInt(v2Parts[i]);\n\n            if (num1 > num2) {\n                return 1;\n            } else if (num1 < num2) {\n                return -1;\n            }\n        }\n\n        return 0;\n    }\n\n    /**\n     * \n     */\n    private initRecommendationManager(): void {\n        // \n        if (typeof wx !== 'undefined') {\n            try {\n                // \n                if (!(wx as any).createPageManager) {\n                    console.warn(\"\");\n                    return;\n                }\n                \n                // PageManager\n                this.pageManager = (wx as any).createPageManager();\n                \n                if (this.pageManager) {\n                    // \n                    this.pageManager.load({\n                        // OPENLINK\n                        openlink: 'TWFRCqV5WeM2AkMXhKwJ03MhfPOieJfAsvXKUbWvQFQtLyyA5etMPabBehga950uzfZcH3Vi3QeEh41xRGEVFw',\n                        success: () => {\n                            console.log(\"\");\n                        },\n                        fail: (err) => {\n                            console.error(\"\", err);\n                        }\n                    });\n                    \n                    // \n                    this.pageManager.on('ready', () => {\n                        console.log(\"\");\n                    });\n                    \n                    this.pageManager.on('show', () => {\n                        console.log(\"\");\n                    });\n                    \n                    this.pageManager.on('destroy', (res: any) => {\n                        console.log(\"\", res);\n                        \n                        // isRecommended3.8.6\n                        const systemInfo = wx.getSystemInfoSync();\n                        const SDKVersion = systemInfo.SDKVersion;\n                        const isSupportRecommended = this.compareVersion(SDKVersion, '3.8.6') >= 0;\n                        \n                        if (isSupportRecommended && res.isRecommended !== undefined) {\n                            console.log(\":\", res.isRecommended);\n                            \n                            // \n                            const gCtrl = (globalThis as any).gCtrl;\n                            if (gCtrl && gCtrl.data) {\n                                // \n                                gCtrl.data.setRecommendedStatus(res.isRecommended, true);\n                                console.log(`: ${res.isRecommended}`);\n                            } else {\n                                console.error(\"\");\n                            }\n                        } else if (!isSupportRecommended) {\n                            console.log(\"\");\n                            \n                            // \n                            const gCtrl = (globalThis as any).gCtrl;\n                            if (gCtrl && gCtrl.data) {\n                                gCtrl.data.setRecommendedStatus(true, true);\n                                console.log(\"\");\n                            }\n                        } else {\n                            console.log(\"\");\n                        }\n                    });\n                    \n                    this.pageManager.on('error', (err: any) => {\n                        console.error(\"\", err);\n                    });\n                }\n                \n                console.log(\"\");\n            } catch (error) {\n                console.error(\":\", error);\n            }\n        } else {\n            console.log(\"\");\n        }\n    }\n    \n    /**\n     * \n     */\n    private showRecommendationPopup(): void {\n        // \n        if (typeof wx === 'undefined' || !this.pageManager) {\n            console.log(\"\");\n            return;\n        }\n        \n        try {\n            // \n            const gCtrl = (globalThis as any).gCtrl;\n            if (gCtrl && gCtrl.data) {\n                const isRecommended = gCtrl.data.getRecommendedStatus();\n                if (isRecommended) {\n                    console.log(\"\");\n                    return;\n                }\n            } else {\n                console.error(\"\");\n            }\n            \n            console.log(` ${this.currentLevel} 5`);\n            \n            // show\n            this.pageManager.show({\n                // OPENLINK\n                openlink: 'TWFRCqV5WeM2AkMXhKwJ03MhfPOieJfAsvXKUbWvQFQtLyyA5etMPabBehga950uzfZcH3Vi3QeEh41xRGEVFw',\n                success: () => {\n                    console.log(\"\");\n                },\n                fail: (err) => {\n                    console.error(\"\", err);\n                }\n            });\n            \n            console.log(\"\");\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private initPopups(): void {\n        // \n        if (this.gameSuccess) {\n            this.gameSuccess.active = false;\n        }\n        \n        if (this.gameFail) {\n            this.gameFail.active = false;\n        }\n        \n        // \n        if (this.pausePannel) {\n            this.pausePannel.active = false;\n        }\n        \n        console.log(\"\");\n    }\n    \n    /**\n     * \n     */\n    private initPauseFeature(): void {\n        // \n        if (this.pauseButton && this.pauseButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.pauseButton);\n            \n            // \n            this.pauseButton.node.on(Button.EventType.CLICK, () => {\n                this.onPauseButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        // \n        if (this.cancelButton && this.cancelButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.cancelButton);\n            \n            // \n            this.cancelButton.node.on(Button.EventType.CLICK, () => {\n                this.onCancelButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        // \n        if (this.failShareButton && this.failShareButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.failShareButton);\n            \n            // \n            this.failShareButton.node.on(Button.EventType.CLICK, () => {\n                this.onFailShareButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        console.log(\"\");\n    }\n    \n    /**\n     * \n     */\n    private onPauseButtonClicked(): void {\n        console.log(\"\");\n        \n        // \n        this.disableAllZiClicks();\n        \n        // \n        AudioManager.ins.pauseBgMusic();\n        \n        // \n        if (this.pausePannel) {\n            this.pausePannel.active = true;\n            \n            // \n            if (this.pauseCoinRewardLabel) {\n                // \n                const lossAmount = this.entryFee; // \n                this.pauseCoinRewardLabel.string = `-${lossAmount}`;\n            }\n        } else {\n            console.error(\"\");\n        }\n    }\n    \n    /**\n     * \n     */\n    private onCancelButtonClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.pausePannel) {\n            this.pausePannel.active = false;\n        } else {\n            console.error(\"\");\n        }\n        \n        // \n        AudioManager.ins.resumeBgMusic();\n        \n        // \n        this.enableAllZiClicks();\n    }\n    \n    /**\n     * \n     */\n    private onFailShareButtonClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.pausePannel) {\n            this.pausePannel.active = false;\n        }\n        \n        // \n        this.shareToFriendForCoins();\n    }\n    \n    /**\n     * 1000\n     */\n    private shareToFriendForCoins(): void {\n        // \n        if (typeof wx !== 'undefined') {\n            // \n            this.startInteractiveDataListening();\n            \n            // openid\n            this.getOpenid().then(openid => {\n                return this.getUserProfile().then(userInfo => {\n                    return { openid, userInfo };\n                });\n            }).then(({ openid, userInfo }) => {\n                const nickName = userInfo.nickName || '';\n                const avatarUrl = userInfo.avatarUrl || '';\n                \n                // openidquery\n                (wx as any).shareAppMessage({\n                    title: `${nickName}1000`,\n                    imageUrl: avatarUrl || '', // \n                    query: `from=share&coins=1000&shareOpenid=${openid}`, // openid\n                    success: () => {\n                        console.log(\"\");\n                        // \n                        this.showToast(\"1000\");\n                        \n                        // \n                        console.log(\"\");\n                    },\n                    fail: (error) => {\n                        console.error(\":\", error);\n                        // \n                        this.showToast(\"\");\n                    }\n                });\n            }).catch(error => {\n                console.error(\"openid:\", error);\n                // \n                this.showToast(\"\");\n            });\n        } else {\n            // \n            console.log(\"\");\n            this.showToast(\"\");\n        }\n    }\n    \n    /**\n     * openid\n     */\n    private getOpenid(): Promise<string> {\n        return new Promise((resolve, reject) => {\n            // openid\n            try {\n                const cachedOpenid = wx.getStorageSync('openid');\n                if (cachedOpenid) {\n                    console.log(\"openid\");\n                    resolve(cachedOpenid);\n                    return;\n                }\n            } catch (error) {\n                console.error(\"openid:\", error);\n            }\n            \n            // wx.login\n            wx.login({\n                success: (res) => {\n                    if (res.code) {\n                        // APIopenidopenid\n                        // codeAPIopenid\n                        const mockOpenid = `mock_openid_${Date.now()}`;\n                        \n                        // openid\n                        try {\n                            wx.setStorageSync('openid', mockOpenid);\n                        } catch (error) {\n                            console.error(\"openid:\", error);\n                        }\n                        \n                        resolve(mockOpenid);\n                    } else {\n                        console.error(\"wx.login:\", res.errMsg);\n                        reject(new Error(\"openid\"));\n                    }\n                },\n                fail: (error) => {\n                    console.error(\"wx.login:\", error);\n                    reject(new Error(\"openid\"));\n                }\n            });\n        });\n    }\n    \n    /**\n     * \n     */\n    private startInteractiveDataListening(): void {\n        try {\n            // InteractiveDataManager\n            const interactiveDataManager = InteractiveDataManager.getInstance();\n            \n            // \n            this.interactiveDataCallback = (newCoins: number) => {\n                // \"B1000\"\n                this.showToast(`${newCoins}`);\n                console.log(`Match3UI: : ${newCoins}`);\n            };\n            interactiveDataManager.addInteractiveDataChangeCallback(this.interactiveDataCallback);\n            \n            // \n            interactiveDataManager.startListening();\n            console.log(\"Match3UI: \");\n            \n            // \n            this.node.once('destroy', () => {\n                this.stopInteractiveDataListening();\n            });\n        } catch (error) {\n            console.error(\"Match3UI: :\", error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private stopInteractiveDataListening(): void {\n        try {\n            // InteractiveDataManager\n            const interactiveDataManager = InteractiveDataManager.getInstance();\n            \n            // \n            if (this.interactiveDataCallback) {\n                interactiveDataManager.removeInteractiveDataChangeCallback(this.interactiveDataCallback);\n                this.interactiveDataCallback = null;\n            }\n            interactiveDataManager.stopListening();\n            console.log(\"Match3UI: \");\n        } catch (error) {\n            console.error(\"Match3UI: :\", error);\n        }\n    }\n    \n    /**\n     * \n     * API\n     */\n    private getUserProfile(): Promise<any> {\n        return new Promise((resolve, reject) => {\n            // wx.getUserProfile\n            if (wx.getUserProfile) {\n                wx.getUserProfile({\n                    desc: '',\n                    success: (res) => {\n                        resolve(res.userInfo);\n                    },\n                    fail: (error) => {\n                        console.error(\"wx.getUserProfile:\", error);\n                        // getUserProfile\n                        this.getDefaultUserInfo().then(resolve).catch(reject);\n                    }\n                });\n            } else {\n                // getUserProfile\n                this.getDefaultUserInfo().then(resolve).catch(reject);\n            }\n        });\n    }\n    \n    /**\n     * \n     * \n     */\n    private getDefaultUserInfo(): Promise<any> {\n        return new Promise((resolve) => {\n            // \n            try {\n                const cachedUserInfo = wx.getStorageSync('userInfo');\n                if (cachedUserInfo) {\n                    resolve(cachedUserInfo);\n                    return;\n                }\n            } catch (error) {\n                console.error(\":\", error);\n            }\n            \n            // \n            resolve({\n                nickName: '',\n                avatarUrl: ''\n            });\n        });\n    }\n    \n    /**\n     * \n     */\n    private handleShareFailure(): void {\n        // \n        const lossAmount = this.entryFee; // \n        if (this.coinManager) {\n            this.coinManager.subtractCoin(lossAmount);\n            console.log(`: ${lossAmount}`);\n            \n            // UI\n            this.updateUI();\n        } else {\n            console.error(\"\");\n        }\n    \n        // \n        this.node.destroy();\n        this.enableAllZiClicks();\n        console.log(\"\");\n    }\n    \n    /**\n     * \n     * @param message \n     */\n    private showToast(message: string): void {\n        // UI\n        console.log(\":\", message);\n        // Toast\n        ToastManager.getInstance().showMessage(message);\n    }\n    \n    /**\n     * \n     * @param button \n     */\n    private addButtonTouchEffect(button: Button): void {\n        if (!button || !button.node) {\n            console.error(\"\");\n            return;\n        }\n        \n        console.log(\"\");\n        const buttonNode = button.node;\n        \n        // \n        this.removeButtonTouchEffect(button);\n        \n        // \n        let originalScale: Vec3;\n        if ((buttonNode as any).userData && (buttonNode as any).userData.originalScale) {\n            originalScale = (buttonNode as any).userData.originalScale;\n        } else {\n            originalScale = buttonNode.scale.clone();\n        }\n        \n        const hoverScale = new Vec3(originalScale.x * 1.1, originalScale.y * 1.1, originalScale.z);\n        const pressScale = new Vec3(originalScale.x * 0.95, originalScale.y * 0.95, originalScale.z);\n        \n        // \n        // \n        (buttonNode as any).userData = (buttonNode as any).userData || {};\n        (buttonNode as any).userData.originalScale = originalScale;\n        (buttonNode as any).userData.hoverScale = hoverScale;\n        (buttonNode as any).userData.pressScale = pressScale;\n        \n        // \n        buttonNode.on(Node.EventType.MOUSE_ENTER, () => {\n            tween(buttonNode)\n                .to(0.1, { scale: hoverScale })\n                .start();\n        }, this);\n        \n        // \n        buttonNode.on(Node.EventType.MOUSE_LEAVE, () => {\n            tween(buttonNode)\n                .to(0.1, { scale: originalScale })\n                .start();\n        }, this);\n        \n        // \n        buttonNode.on(Node.EventType.TOUCH_START, (event: any) => {\n            event.propagationStopped = true; // \n            tween(buttonNode)\n                .to(0.1, { scale: hoverScale })\n                .start();\n                \n            // \n            this.scheduleOnce(() => {\n                tween(buttonNode)\n                    .to(0.1, { scale: pressScale })\n                    .start();\n            }, 0.1);\n        }, this);\n        \n        // \n        buttonNode.on(Node.EventType.TOUCH_END, (event: any) => {\n            event.propagationStopped = true; // \n            tween(buttonNode)\n                .to(0.1, { scale: originalScale })\n                .start();\n        }, this);\n        \n        // \n        buttonNode.on(Node.EventType.TOUCH_CANCEL, (event: any) => {\n            event.propagationStopped = true; // \n            tween(buttonNode)\n                .to(0.1, { scale: originalScale })\n                .start();\n        }, this);\n    }\n    \n    /**\n     * \n     * @param button \n     */\n    private removeButtonTouchEffect(button: Button): void {\n        if (!button || !button.node) {\n            return;\n        }\n        \n        const buttonNode = button.node;\n        \n        // \n        buttonNode.targetOff(this);\n        \n        // tween\n        Tween.stopAllByTarget(buttonNode);\n        \n        // \n        if ((buttonNode as any).userData && (buttonNode as any).userData.originalScale) {\n            buttonNode.scale = (buttonNode as any).userData.originalScale;\n        }\n    }\n    \n    /**\n     * \n     */\n    private cleanupSuccessPopupButtons(): void {\n        console.log(\"\");\n        \n        // \n        if (this.successContinueButton) {\n            this.successContinueButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.successContinueButton);\n        }\n        \n        // \n        if (this.successDoubleRewardButton) {\n            this.successDoubleRewardButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.successDoubleRewardButton);\n        }\n        \n        // \n        if (this.successBuyButton) {\n            this.successBuyButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.successBuyButton);\n        }\n        \n        // \n        if (this.successShareButton) {\n            this.successShareButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.successShareButton);\n        }\n    }\n    \n    /**\n     * \n     */\n    private cleanupFailPopupButtons(): void {\n        console.log(\"\");\n        \n        // \n        if (this.failRetryButton) {\n            this.failRetryButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.failRetryButton);\n        }\n        \n        \n        // \n        if (this.failBuyButton) {\n            this.failBuyButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.failBuyButton);\n        }\n        \n        // \n        if (this.rebornButton) {\n            this.rebornButton.node.targetOff(this);\n            this.removeButtonTouchEffect(this.rebornButton);\n        }\n    }\n    \n    /**\n     * \n     * \n     */\n    private disableAllZiClicks(): void {\n        console.log(\"\");\n        // false\n        Match3ZiUE.globalClickable = false;\n    }\n    \n    /**\n     * \n     * \n     */\n    private enableAllZiClicks(): void {\n        console.log(\"\");\n        // true\n        Match3ZiUE.globalClickable = true;\n    }\n    \n    /**\n     * \n     * UI\n     */\n    private onCoinChanged(): void {\n        console.log(\"Match3UI: UI\");\n        // UI\n        this.updateUI();\n    }\n    \n    /**UI */\n    private updateUI(): void {\n        // \n        if (this.levelText) {\n            this.levelText.string = `${this.campTips}\\n${this.currentLevel}`;\n        }\n        \n        // \n        if (this.coinNode && this.coinNode.getChildByName('coinLabel')) {\n            const coinLabel = this.coinNode.getChildByName('coinLabel').getComponent(Label);\n            if (coinLabel && this.coinManager) {\n                const currentCoin = this.coinManager.getCurrentCoin();\n                coinLabel.string = currentCoin.toString();\n            }\n        }\n        \n        // \n        this.updateProgress();\n        \n        // \n        this.checkAndShowInterstitialAd();\n    }\n    \n    /** */\n    private updateCoinWithAnimation(startCoin: number, endCoin: number, duration: number = 1.0): void {\n        if (!this.coinNode || !this.coinNode.getChildByName('coinLabel')) {\n            console.warn(\"\");\n            return;\n        }\n        \n        const coinLabel = this.coinNode.getChildByName('coinLabel').getComponent(Label);\n        if (!coinLabel) {\n            console.warn(\"\");\n            return;\n        }\n        \n        // \n        if (this.coinAnimationTween) {\n            this.coinAnimationTween.stop();\n        }\n        \n        // \n        coinLabel.string = startCoin.toString();\n        AudioManager.ins.playSound(createBundleObject(\"Res/Audio/coin\", \"LoginBN\"));\n        // tween\n        this.coinAnimationTween = tween(coinLabel.node)\n            .to(duration, {}, {\n                onUpdate: (target: Node, ratio: number) => {\n                    // \n                    const currentCoin = Math.floor(startCoin + (endCoin - startCoin) * ratio);\n                    coinLabel.string = currentCoin.toString();\n                }\n            })\n            .call(() => {\n                // \n                coinLabel.string = endCoin.toString();\n                console.log(`: ${startCoin} -> ${endCoin}`);\n            })\n            .start();\n    }\n    \n    /** */\n    public addCoinWithAnimation(amount: number, source: string = \"unknown\"): void {\n        if (!this.coinManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        // CoinManageraddCoinWithAnimation\n        const result = this.coinManager.addCoinWithAnimation(amount, source);\n        if (result.success) {\n            // \n            this.updateCoinWithAnimation(result.oldCoin, result.newCoin);\n        } else {\n            console.warn(`: ${amount}, : ${source}`);\n        }\n    }\n    \n    /** */\n    private updateProgress(): void {\n        if (this.initialZiCount === 0) return;\n        \n        // \n        const remainingZiCount = this.m_ZiList.length;\n        const progress = Math.max(0, (this.initialZiCount - remainingZiCount) / this.initialZiCount);\n        \n        // \n        if (this.progressBar) {\n            this.progressBar.progress = progress;\n            \n            // Bar\n            const barNode = this.progressBar.node.getChildByName('Bar');\n            if (barNode) {\n                const uiTransform = barNode.getComponent('cc.UITransform') as any;\n                if (uiTransform && uiTransform.setContentSize) {\n                    // Bar\n                    const progressBarWidth = 200; // \n                    const progressBarHeight = 30; // \n                    const newWidth = progressBarWidth * progress;\n                    uiTransform.setContentSize(newWidth, progressBarHeight);\n                }\n            }\n        }\n        \n        // \n        if (this.progressLabel) {\n            const percentage = (progress * 100).toFixed(2);\n            this.progressLabel.string = `${percentage}%`;\n        }\n    }\n\n\n\n    static R(loader: ResLoader) {\n        loader.addUI(Match3ZiUE);\n\n        // characters\n        SpriteFramesCfg.initCharactersTexture().then(() => {\n            console.log(\"Characters texture initialized in Match3UI\");\n        }).catch(err => {\n            console.error(\"Failed to initialize characters texture in Match3UI:\", err);\n            // \n            console.warn(\"Game will continue with fallback display for characters\");\n        });\n\n        //  (0-4459)\n        // \n    }\n\n    /** */\n    public addZi(ziUE: Match3ZiUE) {\n        if (!ziUE) {\n            console.error(\"Cannot add undefined ziUE\");\n            return;\n        }\n        \n        // rowcol\n        if (ziUE.row === undefined || ziUE.col === undefined || \n            typeof ziUE.row !== 'number' || typeof ziUE.col !== 'number') {\n            console.error(\"ziUE has invalid row or col properties\", ziUE);\n            return;\n        }\n        \n        // rowcol\n        if (isNaN(ziUE.row) || isNaN(ziUE.col)) {\n            console.error(\"ziUE has NaN row or col properties\", ziUE);\n            return;\n        }\n        \n        this.m_ZiList.push(ziUE);\n\n        //\n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                const targetRow = ziUE.row + r;\n                const targetCol = ziUE.col + c;\n                \n                // \n                if (isNaN(targetRow) || isNaN(targetCol)) {\n                    console.error(`Invalid target row or col calculation: [${targetRow}][${targetCol}] from ziUE`, ziUE);\n                    continue;\n                }\n                \n                // \n                if (targetRow >= 0 && targetRow < this.stacks.length && \n                    targetCol >= 0 && this.stacks[targetRow] && targetCol < this.stacks[targetRow].length) {\n                    // \n                    if (!this.stacks[targetRow][targetCol]) {\n                        this.stacks[targetRow][targetCol] = new ZiStack();\n                    }\n                    \n                    try {\n                        this.stacks[targetRow][targetCol].push(ziUE);\n                    } catch (error) {\n                        console.error(`Error pushing ziUE to stack at [${targetRow}][${targetCol}]:`, error);\n                    }\n                } else {\n                    console.warn(`Attempted to access out-of-bounds stack at [${targetRow}][${targetCol}], stacks length: ${this.stacks.length}`);\n                }\n            }\n        }\n    }\n\n    /** */\n    public calcClickable(ziUE: Match3ZiUE): boolean {\n        if (!ziUE || ziUE.row === undefined || ziUE.col === undefined) {\n            console.error(\"Invalid ziUE in calcClickable\", ziUE);\n            return false;\n        }\n        \n        let stack: ZiStack = null;\n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                const targetRow = ziUE.row + r;\n                const targetCol = ziUE.col + c;\n                \n                // \n                if (isNaN(targetRow) || isNaN(targetCol)) {\n                    console.error(`Invalid target row or col calculation in calcClickable: [${targetRow}][${targetCol}] from ziUE`, ziUE);\n                    continue;\n                }\n                \n                // \n                if (targetRow >= 0 && targetRow < this.stacks.length && \n                    targetCol >= 0 && this.stacks[targetRow] && targetCol < this.stacks[targetRow].length) {\n                    \n                    stack = this.stacks[targetRow][targetCol];\n                    if (stack && !stack.empty && stack.top !== ziUE) {\n                        //\n                        return false;\n                    }\n                } else {\n                    console.warn(`Attempted to access out-of-bounds stack in calcClickable at [${targetRow}][${targetCol}]`);\n                }\n            }\n        }\n        return true;\n    }\n\n    async start() {\n        console.log(\"\");\n        this.enableAllZiClicks();\n        this.m_ZiList = [];\n        this.stacks = [];\n        this.m_PlaceHolders = [];\n        this.isGameStarted = false; // \n        \n        // warningMask\n        if (this.warningMask) {\n            this.warningMask.node.active = false;\n        }\n        \n        // \n        this.coinManager = CoinManager.getInstance();\n        \n        // \n        this.coinManager.addEventListener(CoinEventType.COIN_ADD, this.onCoinChanged.bind(this));\n        this.coinManager.addEventListener(CoinEventType.COIN_SUBTRACT, this.onCoinChanged.bind(this));\n        \n        // \n        this.taskManager = TaskManager.getInstance();\n        \n        // \n        this.adManager = AdManager.getInstance();\n        \n        // \n        this.bagManager = gCtrl.bag;\n        \n        // \n        this.skillManager = SkillManager.getInstance();\n        \n        // \n        this.setupAdEventListeners();\n        \n        // \n        this.initPopups();\n        \n        // \n        this.initPauseFeature();\n        \n        // \n        this.initSkillSystem();\n        \n        // \n        this.initRecommendationManager();\n        \n        // \n        this.currentLevel = gCtrl.data.loadLevel();\n        this.initialZiCount = 0; // \n\n        // UI\n        if (this.gameStatus) {\n            if (!this.levelText) {\n                const levelNode = this.gameStatus.getChildByName('level');\n                if (levelNode) {\n                    this.levelText = levelNode.getComponent(Label);\n                }\n            }\n            \n            if (!this.progressBar) {\n                const progressBarNode = this.gameStatus.getChildByName('ProgressBar');\n                if (progressBarNode) {\n                    this.progressBar = progressBarNode.getComponent(ProgressBar);\n                    \n                    if (!this.progressLabel) {\n                        const labelNode = progressBarNode.getChildByName('Label');\n                        if (labelNode) {\n                            this.progressLabel = labelNode.getComponent(Label);\n                        }\n                    }\n                }\n            }\n        }\n        \n        // \n        if (!this.coinNode) {\n            this.coinNode = this.node.getChildByName('coinNode');\n        }\n\n        //\n        for (let r = 0, rmax = LevelGenerator.ROW * LevelGenerator.SPLIT; r < rmax; ++r) {\n            let row_stacks: ZiStack[] = [];\n            this.stacks.push(row_stacks);\n            for (let c = 0, cmax = LevelGenerator.COL * LevelGenerator.SPLIT; c < cmax; ++c) {\n                row_stacks.push(new ZiStack());\n            }\n        }\n        \n        // \n        await this.initLevel(this.currentLevel);\n    }\n\n    public clearQipan(): void {\n        for (let r = 0, rmax = LevelGenerator.ROW * LevelGenerator.SPLIT; r < rmax; ++r) {\n            for (let c = 0, cmax = LevelGenerator.COL * LevelGenerator.SPLIT; c < cmax; ++c) {\n                this.stacks[r][c] = new ZiStack();\n            }\n        }\n        this.m_ZiList = [];\n    }\n\n    public reSetStacks(): void {\n        for (let r = 0, rmax = LevelGenerator.ROW * LevelGenerator.SPLIT; r < rmax; ++r) {\n            for (let c = 0, cmax = LevelGenerator.COL * LevelGenerator.SPLIT; c < cmax; ++c) {\n                this.stacks[r][c] = new ZiStack();\n            }\n        }\n        this.m_ZiList.forEach(ziUE => {\n            //\n            for (let r = 0; r < 6; r++) {\n                for (let c = 0; c < 6; c++) {\n                    this.stacks[ziUE.row + r][ziUE.col + c].push(ziUE);\n                }\n            }\n        });\n        //\n        this.m_ZiList.forEach(ziUE => {\n            ziUE.setClickable(this.calcClickable(ziUE))\n        })\n    }\n\n    /** */\n    private async initLevel(level: number): Promise<void> {\n        // \n        if (!this.isGameStarted) {\n            await this.deductEntryFee();\n            \n            // \n            this.updateMatch3TaskProgress();\n            \n            // \n            this.gameStartTime = Date.now();\n            \n            // \n            this.interstitialAdShown = false;\n        }\n        \n        // \n        this.m_ZiList.forEach(ziUE => {\n            ziUE.node.destroy();\n        });\n        // \n        this.collectArea.removeAllChildren();\n\n        this.m_ZiList = [];\n        this.m_PlaceHolders = [];\n        this.m_IsLose = false;\n        \n        // \n        this.m_CollectEventQueue = [];\n        this.m_IsProcessingCollectEvent = false;\n        \n        this.campTips = \" - \";\n        //  - \n        //  - \n        //  - \n        //  -  15\n        //  - \n        let camp = LevelGenerator.getCampByLevel(level);\n        switch(camp) {\n            case 1:\n                this.campTips = \" - \";\n                break;\n            case 2:\n                this.campTips = \" - \";\n                break;  \n            case 3:\n                this.campTips = \" - \";\n                break;\n            case 4:\n                this.campTips = \" - \";\n                break;\n            case 0:\n                this.campTips = \" - \";\n                break;\n        }\n\n\n        // warningMask\n        if (this.warningMask) {\n            this.warningMask.node.active = false;\n            if (this.warningMaskFlashTween) {\n                this.warningMaskFlashTween.stop();\n                this.warningMaskFlashTween = null;\n            }\n        }\n\n        // \n        for (let r = 0, rmax = LevelGenerator.ROW * LevelGenerator.SPLIT; r < rmax; ++r) {\n            for (let c = 0, cmax = LevelGenerator.COL * LevelGenerator.SPLIT; c < cmax; ++c) {\n                this.stacks[r][c] = new ZiStack();\n            }\n        }\n\n        let clickFunc = (clickZi: Match3ZiUE) => {\n            let isClickable = this.calcClickable(clickZi);\n            if (!isClickable) {\n                return;\n            }\n            \n            // \n            this.playFlyToCollectAreaAnimation(clickZi);\n\n            \n            // \n            this.removeZi(clickZi);\n        }\n\n        // \n        let success = false;\n        let retryCount = 0;\n        const maxRetries = 3;\n        \n        while(!success && retryCount < maxRetries) {\n            retryCount++;\n            const levelJson = LevelGenerator.generateLevel(level);\n            success = true;\n            // \n            this.initialZiCount = levelJson.zis.length;\n            \n            for (let i = 0; i < levelJson.zis.length; i++) {\n                const zi = levelJson.zis[i];\n                try {\n                    let ziUE = gCtrl.ui.instantiate(Match3ZiUE);\n                    if (!ziUE) {\n                        console.error(\"Failed to instantiate Match3ZiUE\");\n                        success = false;\n                        // \n                        this.m_ZiList.forEach(ziUE => {\n                            ziUE.node.destroy();\n                        });\n                        this.m_ZiList = [];\n                        break;\n                    }\n                    ziUE.node.setParent(this.board);\n                    ziUE.init(zi[0], zi[1], zi[2], clickFunc);\n                    this.addZi(ziUE);\n                } catch (error) {\n                    console.error(\"Failed to initialize zi for level\", level, \"error:\", error, \"zi:\", zi);\n                    success = false;\n                    // \n                    this.m_ZiList.forEach(ziUE => {\n                        ziUE.node.destroy();\n                    });\n                    this.m_ZiList = [];\n                    break;\n                }\n            }\n        }\n        \n        if (!success) {\n            console.error(`Failed to initialize level ${level} after ${maxRetries} retries`);\n            // \n            const fallbackLevelJson = { zis: [[0, 0, 1]] };\n            this.initialZiCount = fallbackLevelJson.zis.length;\n            fallbackLevelJson.zis.forEach(zi => {\n                try {\n                    let ziUE = gCtrl.ui.instantiate(Match3ZiUE);\n                    if (!ziUE) {\n                        console.error(\"Failed to instantiate Match3ZiUE in fallback\");\n                        return;\n                    }\n                    ziUE.node.setParent(this.board);\n                    ziUE.init(zi[0], zi[1], zi[2], clickFunc);\n                    this.addZi(ziUE);\n                } catch (error) {\n                    console.error(\"Even fallback initialization failed:\", error);\n                }\n            });\n        }\n\n        //\n        this.m_ZiList.forEach(ziUE => {\n            ziUE.setClickable(this.calcClickable(ziUE))\n        })\n        \n        // UI\n        this.updateUI();\n        \n        console.log(` ${level} `);\n    }\n\n\n\n    /**\n     * \n     * \n     */\n    public updateCollectionZiPositions(): void {\n        try {\n            // \n            for (let i = 0; i < this.m_PlaceHolders.length; i++) {\n                const zi = this.m_PlaceHolders[i];\n                \n                // \n                if (zi.isMarkElimnate) {\n                    continue;\n                }\n                \n                // \n                if (zi && zi.node && (zi.node as any).isValid) {\n                    // z-index\n                    zi.node.setSiblingIndex(this.collectArea.children.length - 1);\n                    \n                    // changeMoveingTargetIndex\n                    if (zi['m_MovingType'] !== 0) { // MovingType.none = 0\n                        zi.changeMoveingTargetIndex(i);\n                    } else {\n                        // \n                        zi.node.setPosition(new Vec3(i * 102, 0, 0));\n                    }\n                }\n            }\n            \n            // \n            this.updateProgress();\n        } catch (error) {\n            console.error('', error);\n        }\n    }\n\n    /** */\n    public removeZi(ziUE: Match3ZiUE) {\n        if (!ziUE) {\n            console.error(\"Cannot remove undefined ziUE\");\n            return;\n        }\n        \n        const index = this.m_ZiList.indexOf(ziUE);\n        if (index !== -1) {\n            this.m_ZiList.splice(index, 1);\n        }\n        \n        // rowcol\n        if (ziUE.row === undefined || ziUE.col === undefined || \n            typeof ziUE.row !== 'number' || typeof ziUE.col !== 'number') {\n            console.error(\"ziUE has invalid row or col properties in removeZi\", ziUE);\n            return;\n        }\n        \n        let ziCol = ziUE.col;\n        let ziRow = ziUE.row;\n        \n        // rowcol\n        if (isNaN(ziRow) || isNaN(ziCol)) {\n            console.error(\"ziUE has NaN row or col properties in removeZi\", ziUE);\n            return;\n        }\n        \n        //\n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                const targetRow = ziRow + r;\n                const targetCol = ziCol + c;\n                \n                // \n                if (isNaN(targetRow) || isNaN(targetCol)) {\n                    console.error(`Invalid target row or col calculation in removeZi: [${targetRow}][${targetCol}] from ziUE`, ziUE);\n                    continue;\n                }\n                \n                // \n                if (targetRow >= 0 && targetRow < this.stacks.length && \n                    targetCol >= 0 && this.stacks[targetRow] && targetCol < this.stacks[targetRow].length) {\n                    \n                    try {\n                        this.stacks[targetRow][targetCol].pop();\n                    } catch (error) {\n                        console.error(`Error popping from stack at [${targetRow}][${targetCol}]:`, error);\n                    }\n                } else {\n                    console.warn(`Attempted to access out-of-bounds stack in removeZi at [${targetRow}][${targetCol}]`);\n                }\n            }\n        }\n        \n        // \n        this.updateProgress();\n        \n        // \n        let stack: ZiStack = null;\n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                const targetRow = ziRow + r;\n                const targetCol = ziCol + c;\n                \n                // \n                if (isNaN(targetRow) || isNaN(targetCol)) {\n                    continue;\n                }\n                \n                // \n                if (targetRow >= 0 && targetRow < this.stacks.length && \n                    targetCol >= 0 && this.stacks[targetRow] && targetCol < this.stacks[targetRow].length) {\n                    \n                    stack = this.stacks[targetRow][targetCol];\n                    if (!stack.empty && stack.top && stack.top !== ziUE) {\n                        // \n                        if (stack.top.setClickable) {\n                            stack.top.setClickable(this.calcClickable(stack.top));\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param ziUE \n     */\n    private playFlyToCollectAreaAnimation(ziUE: Match3ZiUE): void {\n        // \n        ziUE.node.setParent(this.collectArea, true);\n        \n        // z-index\n        ziUE.node.setSiblingIndex(this.collectArea.children.length - 1);\n        \n        // \n        tween(ziUE.node)\n            .to(0.2, { position: new Vec3(0, 0, 0) })\n            .call(() => {\n                // \n                this.addCollectEventToQueue(ziUE);\n            })\n            .start();\n            \n        // \n        ziUE.isCollected = true;\n        ziUE.setClickable(true);\n    }\n    \n    /**\n     * \n     * @param ziUE \n     */\n    private addCollectEventToQueue(ziUE: Match3ZiUE): void {\n        // \n        this.m_CollectEventQueue.push(ziUE);\n        \n        // \n        if (!this.m_IsProcessingCollectEvent) {\n            this.processCollectEventQueue();\n        }\n    }\n    \n    /**\n     * \n     */\n    private async processCollectEventQueue(): Promise<void> {\n        // \n        if (this.m_CollectEventQueue.length === 0 || this.m_IsProcessingCollectEvent) {\n            return;\n        }\n        \n        // \n        this.m_IsProcessingCollectEvent = true;\n        \n        // \n        while (this.m_CollectEventQueue.length > 0) {\n            // \n            const ziUE = this.m_CollectEventQueue.shift();\n            \n            // \n            await this.processCollectEvent(ziUE);\n        }\n        \n        // \n        this.m_IsProcessingCollectEvent = false;\n    }\n    \n    /**\n     * \n     * @param ziUE \n     */\n    private async processCollectEvent(ziUE: Match3ZiUE): Promise<void> {\n        // \n        this.tryCollectingZi(ziUE);\n\n        // \n        this.checkWin();\n    }\n\n    /** */\n    private checkWin(): void {\n        // \n        if (this.m_ZiList.length === 0) {\n            console.log(` ${this.currentLevel} `);\n            \n            // \n            const winReward = this.calculateWinReward();\n            \n            // \n            this.grantWinReward(winReward);\n            \n            // \n            this.checkMatch3TaskCompletion();\n            \n            // \n            this.showGameSuccess(winReward);\n        }\n    }\n\n    /** */\n    private async nextLevel(): Promise<void> {\n        this.currentLevel++;\n        this.m_IsLose = false; // \n        console.log(` ${this.currentLevel} `);\n        \n        // \n        gCtrl.data.saveLevel(this.currentLevel);\n        \n        await this.initLevel(this.currentLevel);\n        // UI\n        this.updateUI();\n    }\n\n    /** */\n    private tryCollectingZi(clickZi: Match3ZiUE): boolean {\n        // \n        if (this.m_PlaceHolders.indexOf(clickZi) !== -1) {\n            return false;\n        }\n        \n        //7\n        if (this.m_PlaceHolders.length === 7) {\n            return false;\n        }\n        \n        // \n        if (clickZi.isMarkElimnate) {\n            console.log(\"\");\n            return false;\n        }\n        \n        //7\n        //1.\n        for (let i = this.m_PlaceHolders.length - 1; i >= 0; --i) {\n            let zi = this.m_PlaceHolders[i];\n            \n            // \n            if (zi.isMarkElimnate) {\n                continue;\n            }\n            \n            if (zi.style === clickZi.style) {\n                //zi\n                this.m_PlaceHolders.splice(i + 1, 0, clickZi);\n                //\n                let elimination: Match3ZiUE[] = [];\n                if (!zi.isMarkElimnate && (i >= 1) && (this.m_PlaceHolders[i - 1].style === clickZi.style) && !this.m_PlaceHolders[i - 1].isMarkElimnate) {\n                    //\n                    elimination.push(this.m_PlaceHolders[i - 1]);\n                    elimination.push(zi);\n                    elimination.push(clickZi);\n                    //\n                    elimination.forEach(it => it.isMarkElimnate = true);\n                }\n\n                // (0,0,0)\n                if (clickZi.node.position.equals(new Vec3(0, 0, 0))) {\n                    // z-index\n                    clickZi.node.setSiblingIndex(this.collectArea.children.length - 1);\n                    \n                    // \n                    clickZi.node.setPosition(new Vec3((i + 1) * 102, 0, 0));\n                    \n                    // \n                    //\n                    if (elimination.length > 0) {\n                        // \n                            setTimeout(() => {\n                                // \n                                const currentTime = Date.now();\n                                const isCombo = this.lastEliminateTime > 0 && (currentTime - this.lastEliminateTime) <= this.comboTimeout;\n                                \n                                if (isCombo) {\n                                    // \n                                    this.comboCount++;\n                                    this.totalComboCount++;\n                                    console.log(`: ${this.comboCount}, : ${this.totalComboCount}`);\n                                    \n                                    // \n                                    AudioManager.ins.playSound(createBundleObject(\"Res/Audio/combo\", \"LoginBN\"));\n                                    \n                                    // \n                                    this.showComboTextAnimation(this.comboCount, elimination[1].node.position); // \n                                } else {\n                                    // \n                                    this.comboCount = 1;\n                                    this.totalComboCount = Math.max(this.totalComboCount, 1); // 1\n                                    console.log(`: ${this.comboCount}, : ${this.totalComboCount}`);\n                                    \n                                    // \n                                    AudioManager.ins.playSound(createBundleObject(\"Res/Audio/clear\", \"LoginBN\"));\n                                }\n                                \n                                // \n                                this.lastEliminateTime = currentTime;\n                                \n                                //\n                                let startIndex = -1;\n                                elimination.forEach(it => {\n                                    if (startIndex == -1) {\n                                        startIndex = this.m_PlaceHolders.indexOf(it);\n                                    }\n                                    it.node.destroy();\n                                })\n                                for (let z = startIndex + 3; z < this.m_PlaceHolders.length; z++) {\n                                    this.m_PlaceHolders[z].changeMoveingTargetIndex(z - 3);\n                                }\n                                this.m_PlaceHolders.splice(startIndex, 3);\n                                \n                                // \n                                this.checkCollectAreaSpace();\n                                \n                                // \n                                this.updateProgress();\n                            }, 100); // \n                    } else {\n                        this.checkLose();\n                    }\n                } else {\n                    // \n                    clickZi.moveToTargetIndex(this.collectArea, i + 1, () => {\n                        //\n                        if (elimination.length > 0) {\n                            // \n                            setTimeout(() => {\n                                // \n                                const currentTime = Date.now();\n                                const isCombo = this.lastEliminateTime > 0 && (currentTime - this.lastEliminateTime) <= this.comboTimeout;\n                                \n                                if (isCombo) {\n                                    // \n                                    this.comboCount++;\n                                    this.totalComboCount++;\n                                    console.log(`: ${this.comboCount}, : ${this.totalComboCount}`);\n                                    \n                                    // \n                                    AudioManager.ins.playSound(createBundleObject(\"Res/Audio/combo\", \"LoginBN\"));\n                                    \n                                    // \n                                    this.showComboTextAnimation(this.comboCount, elimination[1].node.position); // \n                                } else {\n                                    // \n                                    this.comboCount = 1;\n                                    this.totalComboCount = Math.max(this.totalComboCount, 1); // 1\n                                    console.log(`: ${this.comboCount}, : ${this.totalComboCount}`);\n                                    \n                                    // \n                                    AudioManager.ins.playSound(createBundleObject(\"Res/Audio/clear\", \"LoginBN\"));\n                                }\n                                \n                                // \n                                this.lastEliminateTime = currentTime;\n                                \n                                //\n                                let startIndex = -1;\n                                elimination.forEach(it => {\n                                    if (startIndex == -1) {\n                                        startIndex = this.m_PlaceHolders.indexOf(it);\n                                    }\n                                    it.node.destroy();\n                                })\n                                for (let z = startIndex + 3; z < this.m_PlaceHolders.length; z++) {\n                                    this.m_PlaceHolders[z].changeMoveingTargetIndex(z - 3);\n                                }\n                                this.m_PlaceHolders.splice(startIndex, 3);\n                                \n                                // \n                                this.checkCollectAreaSpace();\n                                \n                                // \n                                this.updateProgress();\n                            }, 100); // \n                        } else {\n                            this.checkLose();\n                        }\n                    })\n                }\n                \n                // \n                this.checkCollectAreaSpace();\n                \n                //\n                for (let j = i + 2; j < this.m_PlaceHolders.length; ++j) {\n                    if (!this.m_PlaceHolders[j].isMarkElimnate) {\n                        this.m_PlaceHolders[j].changeMoveingTargetIndex(j);\n                    }\n                }\n                return true;\n            }\n        }\n\n        //2.\n        this.m_PlaceHolders.push(clickZi);\n        \n        // \n        this.checkCollectAreaSpace();\n        \n        // \n        if (clickZi.node.position.equals(new Vec3(0, 0, 0))) {\n            // z-index\n            clickZi.node.setSiblingIndex(this.collectArea.children.length - 1);\n            \n            // \n            clickZi.node.setPosition(new Vec3((this.m_PlaceHolders.length - 1) * 102, 0, 0));\n            \n            // \n            setTimeout(() => {\n                //\n                this.checkLose();\n            }, 100); // \n        } else {\n            // \n            clickZi.moveToTargetIndex(this.collectArea, this.m_PlaceHolders.length - 1, () => {\n                // \n                setTimeout(() => {\n                    //\n                    this.checkLose();\n                }, 100); // \n            })\n        }\n        return true;\n    }\n\n    private m_IsLose: boolean = false;\n\n    // \n    private warningMaskFlashTween: any = null;\n\n    /**\n     * \n     */\n    private startWarningMaskFlash(): void {\n        if (!this.warningMask) {\n            return;\n        }\n\n        // \n        this.warningMask.node.active = true;\n\n        // \n        this.stopWarningMaskFlash();\n\n        // \n        this.warningMaskFlashTween = tween(this.warningMask)\n            .to(0.5, { color: new Color(255, 0, 0, 180) }) // \n            .to(0.5, { color: new Color(255, 0, 0, 50) })  // \n            .union()\n            .repeatForever()\n            .start();\n    }\n\n    /**\n     * \n     */\n    private stopWarningMaskFlash(): void {\n        if (!this.warningMask) {\n            return;\n        }\n\n        // \n        if (this.warningMaskFlashTween) {\n            this.warningMaskFlashTween.stop();\n            this.warningMaskFlashTween = null;\n        }\n\n    }\n\n    /**\n     * \n     * 2\n     */\n    private checkCollectAreaSpace(): void {\n        // 7\n        const remainingSpaces = 7 - this.m_PlaceHolders.length;\n        \n        // 2\n        if (remainingSpaces <= 2 && this.warningMask) {\n            this.startWarningMaskFlash();\n        } else if (this.warningMask) {\n            this.warningMask.node.active = false;\n        }\n    }\n\n    /**\n     *  */\n    private checkLose(): void {\n        if (this.m_PlaceHolders.length < 7) {\n            return;\n        }\n        for (let i = 0; i < this.m_PlaceHolders.length; ++i) {\n            if (this.m_PlaceHolders[i].isMarkElimnate) {\n                return;\n            }\n        }\n        //\n        if (this.m_IsLose) {\n            return;\n        }\n        this.m_IsLose = true;\n        console.log(\"\");\n        \n        // \n        this.showGameFail();\n    }\n\n    /** */\n    public resetGame(level: number): void {\n        this.currentLevel = level;\n        this.isGameStarted = false; // \n        this.m_IsLose = false; // \n        \n        // \n        this.lastEliminateTime = 0;\n        this.comboCount = 0;\n        this.totalComboCount = 0;\n        \n        // \n        gCtrl.data.resetLevel(this.currentLevel);\n        \n        console.log(\"\");\n        \n        // \n        this.initLevel(this.currentLevel);\n    }\n    \n    /**\n     * \n     */\n    private async deductEntryFee(): Promise<void> {\n        if (!this.coinManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        const currentCoin = this.coinManager.getCurrentCoin();\n        \n        // \n        if (currentCoin < this.entryFee) {\n            console.log(`: ${currentCoin}, : ${this.entryFee}`);\n            \n            // \n            // \n            // \n            ToastManager.getInstance().showMessage(\"\");\n            // this.addCoinWithAnimation(this.entryFee - currentCoin, \"\");\n            console.log(`: ${this.coinManager.getCurrentCoin()}  ${this.entryFee}`);\n        }\n        \n        // \n        const success = this.coinManager.subtractCoin(this.entryFee, \"\");\n        if (success) {\n            this.isGameStarted = true;\n            console.log(`: ${this.entryFee}, : ${this.coinManager.getCurrentCoin()}`);\n        } else {\n            console.error(\"\");\n            ToastManager.getInstance().showMessage(\"\");\n            console.log(` : ${this.coinManager.getCurrentCoin()}  ${this.entryFee}`);\n        }\n    }\n    \n    /**\n     * \n     */\n    private grantWinReward(reward: number): void {\n        if (!this.coinManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        // \n        this.addCoinWithAnimation(reward, `${this.currentLevel}`);\n        \n        console.log(`: ${reward}, : ${this.coinManager.getCurrentCoin()}`);\n    }\n    \n    \n    /**\n     * \n     */\n    private setupAdEventListeners(): void {\n        if (!this.adManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        // \n        this.adManager.addEventListener((param) => {\n            if (param.type === AdEventType.CLOSED) {\n                console.log(`: ${param.adType}, : `, param);\n            } else if (param.type === AdEventType.REWARDED) {\n                console.log(`: ${param.adType}, : `, param);\n            }\n                \n            // ID\n            if (param.rewardKey === 'reward_video_match3_win_reward') {\n                // \n                this.handleWinAdReward(param);\n            } else if (param.rewardKey === 'reward_video_match3_lose_reward') {\n                // \n                this.handleLoseAdReward(param);\n            } else if (param.rewardKey === 'reward_video_match3_reborn_reward') {\n                // \n                this.handleRespawnAdReward(param);\n            }\n        });\n    }\n\n    async handleRespawnAdReward(param: AdEventParam) {\n        console.log(`: ${param.adType}, ID: ${param.rewardKey}`);\n        if (param.type === AdEventType.REWARDED) {\n            // \n\n            // \n            if (this.gameFail) {\n                this.gameFail.active = false;\n            }\n            // TuoDaoHuiMaSkill\n            await this.executeTuoDaoHuiMaSkill().then((success) => {\n                if (success) {\n                    console.log(\"\");\n                } else {\n                    console.warn(\"\");\n                }\n                \n                // \n                this.enableAllZiClicks();\n\n                this.m_IsLose = false;\n            }).catch((error) => {\n                console.error(\"\", error);\n            });\n        } else {\n            ToastManager.getInstance().showMessage(\"\");\n        }\n        this.isProcessingContinue = false;\n    }\n    \n    /**\n     * \n     */\n    private handleLoseAdReward(param: AdEventParam): void {\n        if (param.type !== AdEventType.REWARDED) {\n            ToastManager.getInstance().showMessage(\"\");\n            return;\n        }\n        \n        if (!this.coinManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        // \n        this.addCoinWithAnimation(this.entryFee, \"\");\n        console.log(`: ${this.entryFee}, : ${this.coinManager.getCurrentCoin()}`);\n        this.isProcessingContinue = false;\n        // UI\n        this.updateUI();\n        \n        // \n        this.cleanupFailPopupButtons();\n    }\n    \n    /**\n     * \n     */\n    private handleWinAdReward(param: AdEventParam): void {\n        if (!this.coinManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        if (param.type === AdEventType.REWARDED) {\n            // \n            // \n            const doubleReward = param?.customParams?.rewardCoins || 0;\n            //\n            this.addCoinWithAnimation(doubleReward, \"\");\n            console.log(`: ${doubleReward}`);\n            // \n            // \n            this.showContinueButton();\n                \n        } else {\n            // \n            ToastManager.getInstance().showMessage(\"\", 5);\n\n            // \n            // \n            this.showContinueButton();\n        }\n        // UI\n        this.updateUI();\n        \n        // \n        this.cleanupSuccessPopupButtons();\n    }\n    \n    /**\n     * \n     */\n    private checkAndShowInterstitialAd(): void {\n        if (!this.adManager || !this.isGameStarted || this.interstitialAdShown) {\n            return;\n        }\n        \n        // \n        const gameTimeInSeconds = (Date.now() - this.gameStartTime) / 1000;\n        \n        // 2\n        if (gameTimeInSeconds >= 120) {\n            // \n            if (!this.adManager.canWatchAd(AdType.INTERSTITIAL)) {\n                console.log(\"\");\n                return;\n            }\n            \n            // \n            if (!this.adManager.isAdLoaded(AdType.INTERSTITIAL)) {\n                console.log(\"\");\n                this.adManager.loadAd(AdType.INTERSTITIAL);\n                return;\n            }\n            \n            // \n            const success = this.adManager.showInterstitialAd();\n            if (success) {\n                console.log(\"\");\n                this.interstitialAdShown = true;\n            } else {\n                console.error(\"\");\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param fee \n     */\n    public setEntryFee(fee: number): void {\n        if (fee > 0) {\n            this.entryFee = fee;\n            console.log(`: ${this.entryFee}`);\n        }\n    }\n    \n    /**\n     * \n     * @param reward \n     */\n    public setWinReward(reward: number): void {\n        if (reward > 0) {\n            this.winReward = reward;\n            console.log(`: ${this.winReward}`);\n        }\n    }\n    \n    /**\n     * \n     */\n    private updateMatch3TaskProgress(): void {\n        if (!this.taskManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        try {\n            // \n            const dailyTaskId = 'daily_002';\n            const dailyTask = this.taskManager.getTaskById(dailyTaskId);\n            \n            if (dailyTask && dailyTask.status === TaskManager.TaskStatus.ACCEPTED) {\n                // \n                const currentProgress = dailyTask.progress || 0;\n                this.taskManager.updateTaskProgress(dailyTaskId, currentProgress + 1);\n                console.log(`: ${dailyTask.title}, : ${currentProgress + 1}/${dailyTask.target}`);\n            } else if (dailyTask && dailyTask.status === TaskManager.TaskStatus.UNACCEPTED) {\n                // \n                this.taskManager.acceptTask(dailyTaskId);\n                console.log(`: ${dailyTask.title}`);\n                \n                // \n                this.taskManager.updateTaskProgress(dailyTaskId, 1);\n                console.log(`: ${dailyTask.title}, : 1/${dailyTask.target}`);\n            }\n            \n            // \n            const achievementTaskId1 = 'achievement_001';\n            const achievementTask1 = this.taskManager.getTaskById(achievementTaskId1);\n            \n            if (achievementTask1 && achievementTask1.status === TaskManager.TaskStatus.ACCEPTED) {\n                // \n                const currentProgress = achievementTask1.progress || 0;\n                this.taskManager.updateTaskProgress(achievementTaskId1, currentProgress + 1);\n                console.log(`: ${achievementTask1.title}, : ${currentProgress + 1}/${achievementTask1.target}`);\n            } else if (achievementTask1 && achievementTask1.status === TaskManager.TaskStatus.UNACCEPTED) {\n                // \n                this.taskManager.acceptTask(achievementTaskId1);\n                console.log(`: ${achievementTask1.title}`);\n                \n                // \n                this.taskManager.updateTaskProgress(achievementTaskId1, 1);\n                console.log(`: ${achievementTask1.title}, : 1/${achievementTask1.target}`);\n            }\n            \n            // \n            const achievementTaskId2 = 'achievement_002';\n            const achievementTask2 = this.taskManager.getTaskById(achievementTaskId2);\n            \n            if (achievementTask2 && achievementTask2.status === TaskManager.TaskStatus.ACCEPTED) {\n                // \n                const currentProgress = achievementTask2.progress || 0;\n                this.taskManager.updateTaskProgress(achievementTaskId2, currentProgress + 1);\n                console.log(`: ${achievementTask2.title}, : ${currentProgress + 1}/${achievementTask2.target}`);\n            } else if (achievementTask2 && achievementTask2.status === TaskManager.TaskStatus.UNACCEPTED) {\n                // \n                this.taskManager.acceptTask(achievementTaskId2);\n                console.log(`: ${achievementTask2.title}`);\n                \n                // \n                this.taskManager.updateTaskProgress(achievementTaskId2, 1);\n                console.log(`: ${achievementTask2.title}, : 1/${achievementTask2.target}`);\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private checkMatch3TaskCompletion(): void {\n        if (!this.taskManager) {\n            console.error(\"\");\n            return;\n        }\n        \n        try {\n            // \n            const dailyTaskId = 'daily_002';\n            const dailyTask = this.taskManager.getTaskById(dailyTaskId);\n            \n            if (dailyTask && dailyTask.status === TaskManager.TaskStatus.COMPLETED) {\n                // \n                const success = this.taskManager.claimTaskReward(dailyTaskId);\n                if (success) {\n                    console.log(`: ${dailyTask.title}`);\n                } else {\n                    console.error(`: ${dailyTask.title}`);\n                }\n            }\n            \n            // \n            const achievementTaskId1 = 'achievement_001';\n            const achievementTask1 = this.taskManager.getTaskById(achievementTaskId1);\n            \n            if (achievementTask1 && achievementTask1.status === TaskManager.TaskStatus.COMPLETED) {\n                // \n                const success = this.taskManager.claimTaskReward(achievementTaskId1);\n                if (success) {\n                    console.log(`: ${achievementTask1.title}`);\n                } else {\n                    console.error(`: ${achievementTask1.title}`);\n                }\n            }\n            \n            // \n            const achievementTaskId2 = 'achievement_002';\n            const achievementTask2 = this.taskManager.getTaskById(achievementTaskId2);\n            \n            if (achievementTask2 && achievementTask2.status === TaskManager.TaskStatus.COMPLETED) {\n                // \n                const success = this.taskManager.claimTaskReward(achievementTaskId2);\n                if (success) {\n                    console.log(`: ${achievementTask2.title}`);\n                } else {\n                    console.error(`: ${achievementTask2.title}`);\n                }\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n\n    /**\n     * \n     */\n    onDestroy(): void {\n        console.log('Match3UI: ');\n        \n        // \n        if (this.coinManager) {\n            this.coinManager.removeEventListener(CoinEventType.COIN_ADD, this.onCoinChanged.bind(this));\n            this.coinManager.removeEventListener(CoinEventType.COIN_SUBTRACT, this.onCoinChanged.bind(this));\n        }\n        \n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('ZouZouEntry: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('ZouZouEntry: ');\n        }\n    }\n\n    \n    \n    /**\n     * \n     * @returns \n     */\n    private calculateWinReward(): number {\n        // \n        let reward = this.winReward;\n        \n        // 5\n        const levelBonus = Math.floor(this.currentLevel * 5);\n        reward += levelBonus;\n        \n        // \n        const gameTime = Date.now() - this.gameStartTime;\n        if (gameTime < 30000) { // 30\n            reward += 20;\n        } else if (gameTime < 60000) { // 1\n            reward += 10;\n        }\n\n\n        // 1\n        const comboReward = this.totalComboCount > 0 ? this.totalComboCount * 2 : 0;\n        const totalReward = reward + comboReward;\n        \n        // \n        if (this.rewardDetailLabel) {\n            this.rewardDetailLabel.string = `: ${reward}\\n: ${comboReward}\\n: ${totalReward}`;\n        }\n\n        if (this.successLevelDetailLabel) {\n            this.successLevelDetailLabel.string = `${this.currentLevel}\\n${this.campTips}`;\n        }\n        \n        console.log(`: ${this.winReward} + ${levelBonus} + ${reward - this.winReward - levelBonus} = ${reward}`);\n        \n        return totalReward;\n    }\n    \n    /**\n     * \n     * @param reward \n     */\n    private showGameSuccess(reward: number): void {\n        if (!this.gameSuccess) {\n            console.error(\"\");\n            return;\n        }\n        \n        // \n        AudioManager.ins.playImportantSound(createBundleObject(\"Res/Audio/success\", \"LoginBN\"), 1.5);\n        \n        // \n        this.gameSuccess.active = true;\n        \n        // \n        this.disableAllZiClicks();\n        \n        // \n        if (this.successCoinLabel) {\n            this.successCoinLabel.getComponent(Label).string = `${reward}`;\n        }\n        \n        // \n        if (this.successContinueButton && this.successContinueButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.successContinueButton);\n            \n            // \n            this.successContinueButton.node.on(Button.EventType.CLICK, () => {\n                this.onSuccessContinueClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        if (this.successDoubleRewardButton && this.successDoubleRewardButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.successDoubleRewardButton);\n            \n            // \n            this.successDoubleRewardButton.node.on(Button.EventType.CLICK, () => {\n                this.onSuccessDoubleRewardClicked(reward);\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        if (this.successBuyButton && this.successBuyButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.successBuyButton);\n            \n            // \n            this.successBuyButton.node.on(Button.EventType.CLICK, () => {\n                this.onSuccessBuyButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        if (this.successShareButton && this.successShareButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.successShareButton);\n            \n            // \n            this.successShareButton.node.on(Button.EventType.CLICK, () => {\n                this.onSuccessShareButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        console.log(`: ${reward}`);\n    }\n    \n    /**\n     * \n     */\n    private onSuccessContinueClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        if (this.gameSuccess) {\n            this.gameSuccess.active = false;\n        }\n        \n        // \n        this.cleanupSuccessPopupButtons();\n        \n        // \n        this.enableAllZiClicks();\n        \n        // 5\n        if (this.currentLevel % 10 === 0) {\n            // \n            this.showRecommendationPopup();\n        }\n        \n        // \n        this.nextLevel().then(() => {\n            // \n            this.isProcessingContinue = false;\n        }).catch(() => {\n            // \n            this.isProcessingContinue = false;\n        });\n    }\n    \n    /**\n     * \n     */\n    private showContinueButton(): void {\n        // \n        this.isProcessingContinue = false;\n        // \n        this.cleanupSuccessPopupButtons();\n    }\n    \n    /**\n     * \n     * @param baseReward \n     */\n    private onSuccessDoubleRewardClicked(baseReward: number): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        if (this.adManager) {\n            const success = this.adManager.showAd(AdType.REWARD_VIDEO, 'reward_video_match3_win_reward', { rewardCoins:baseReward });\n            \n            if (!success) {\n                console.error(\"\");\n                \n                // UI\n                this.updateUI();\n                \n                // \n                // \n                this.showContinueButton();\n            }\n        } else {\n            console.error(\"\");\n            \n            // UI\n            this.updateUI();\n            \n            // \n            // \n            this.showContinueButton();\n        }\n    }\n    \n    /**\n     * \n     */\n    private showGameFail(): void {\n        if (!this.gameFail) {\n            console.error(\"\");\n            return;\n        }\n        AudioManager.ins.playImportantSound(createBundleObject(\"Res/Audio/fail\", \"LoginBN\"), 1.5);\n\n        \n        // \n        this.disableAllZiClicks();\n        \n        // \n        this.gameFail.active = true;\n\n        if (this.failCoinLabel) {\n            const lossAmount = this.entryFee; // \n            this.failCoinLabel.string = `-${lossAmount}`;\n        }\n        \n        // \n        if (this.failRetryButton && this.failRetryButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.failRetryButton);\n            \n            // \n            this.failRetryButton.node.on(Button.EventType.CLICK, () => {\n                this.onFailRetryClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        \n        if (this.failBuyButton && this.failBuyButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.failBuyButton);\n            \n            // \n            this.failBuyButton.node.on(Button.EventType.CLICK, () => {\n                this.onFailBuyButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        if (this.rebornButton && this.rebornButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.rebornButton);\n            \n            // \n            this.rebornButton.node.on(Button.EventType.CLICK, () => {\n                this.onRebornButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        // \n        if (this.failShareButton && this.failShareButton.node) {\n            console.log(\"\");\n            // \n            this.addButtonTouchEffect(this.failShareButton);\n            \n            // \n            this.failShareButton.node.on(Button.EventType.CLICK, () => {\n                this.onFailShareButtonClicked();\n            }, this);\n        } else {\n            console.error(\"\");\n        }\n        \n        console.log(\"\");\n    }\n    \n    /**\n     * \n     */\n    private onFailRetryClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        this.stopInteractiveDataListening();\n        \n        // \n        if (this.gameFail) {\n            this.gameFail.active = false;\n        }\n        \n        // \n        this.cleanupFailPopupButtons();\n        \n        // \n        this.enableAllZiClicks();\n        \n        // \n        this.resetGame(this.currentLevel);\n        \n        // \n        this.isProcessingContinue = false;\n    }\n    \n    /**\n     * \n     */\n    private onFailRecoverClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        if (this.adManager) {\n            const success = this.adManager.showAd(AdType.REWARD_VIDEO, 'reward_video_match3_lose_reward');\n            \n            if (!success) {\n                console.error(\"\");\n                \n                // \n                this.isProcessingContinue = false;\n                \n                // \n                this.cleanupFailPopupButtons();\n            }\n        } else {\n            console.error(\"\");\n            // \n            this.isProcessingContinue = false;\n            \n            // \n            this.cleanupFailPopupButtons();\n        }\n    }\n    \n    /**\n     * \n     */\n    private async onSuccessBuyButtonClicked(): Promise<void> {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        try {\n            // \n            await gCtrl.openShop();\n            console.log(\"\");\n            \n            // \n            this.updateUI();\n        } catch (error) {\n            console.error(\"\", error);\n        } finally {\n            // \n            this.isProcessingContinue = false;\n        }\n        \n        // \n        // \n    }\n    \n    /**\n     * \n     */\n    private async onFailBuyButtonClicked(): Promise<void> {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        this.stopInteractiveDataListening();\n        \n        try {\n            // \n            await gCtrl.openShop();\n            console.log(\"\");\n        } catch (error) {\n            console.error(\"\", error);\n        } finally {\n            // \n            this.isProcessingContinue = false;\n        }\n        \n        // \n        // \n    }\n\n    /**\n     * \n     * \n     */\n    private onRebornButtonClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        if (!this.m_PlaceHolders || this.m_PlaceHolders.length === 0) {\n            console.warn(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        if (this.adManager) {\n            // \n            this.stopInteractiveDataListening();\n            \n            const success = this.adManager.showAd(AdType.REWARD_VIDEO, 'reward_video_match3_reborn_reward');\n            if (!success) {\n                console.error(\"\");\n                \n                // \n                this.enableAllZiClicks();\n                \n                // \n                this.isProcessingContinue = false;\n                \n                // \n                this.cleanupFailPopupButtons();\n            }\n        } else {\n            // \n            this.stopInteractiveDataListening();\n            \n            // \n            this.enableAllZiClicks();\n            \n            // \n            this.isProcessingContinue = false;\n            \n            // \n            this.cleanupFailPopupButtons();\n        }\n    }\n\n    /**\n     * \n     * @returns \n     */\n    private async executeTuoDaoHuiMaSkill(): Promise<boolean> {\n        try {\n            // \n            const skillConfig: SkillConfig = {\n                id: 'tuo_dao_hui_ma',\n                name: '',\n                description: '',\n                cooldown: 0,\n                type: SkillType.TUO_DAO_HUI_MA,\n                icon: '',\n                duration: 0,\n                itemId: '',\n                targetType: '',\n                effectParams: undefined\n            };\n            \n            // \n            const skill = new TuoDaoHuiMaSkill(skillConfig, this);\n            \n            // \n            const success = await skill.onExecute({} as any);\n            \n            return success;\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n\n    /**\n     * \n     */\n    private initSkillSystem(): void {\n        console.log(\"\");\n        \n        // skills\n        if (!this.skillsNode) {\n            this.skillsNode = this.node.getChildByName('skills');\n            if (!this.skillsNode) {\n                console.error(\"skills\");\n                return;\n            }\n        }\n        \n        // GCtrlbundle\n        this.skillManager.init();\n        \n        // BagManagerUI\n        this.setupBagEventListeners();\n        \n        // \n        this.displayBagItems();\n        \n        console.log(\"\");\n    }\n    \n    \n    \n    /**\n     * UI\n     * @param items \n     * @returns UI\n     */\n    private checkIfNeedsUpdate(items: BagItem[]): boolean {\n        // \n        if (this.currentDisplayedItems.size === 0) {\n            return true;\n        }\n        \n        // \n        if (items.length !== this.currentDisplayedItems.size) {\n            return true;\n        }\n        \n        // \n        for (const item of items) {\n            const displayedItem = this.currentDisplayedItems.get(item.id);\n            if (!displayedItem || displayedItem.count !== item.count) {\n                return true;\n            }\n        }\n        \n        // \n        return false;\n    }\n    \n    /**\n     * \n     */\n    private setupBagEventListeners(): void {\n        console.log(\"\");\n        \n        // \n        this.bagManager.addEventListener(BagEventType.ITEM_ADDED, (event: any) => {\n            console.log(`: ${event.item?.name}`);\n            // UI\n            if (event.item?.type === ItemType.CONSUMABLE) {\n                this.displayBagItems();\n            }\n        });\n        \n        // \n        this.bagManager.addEventListener(BagEventType.ITEM_UPDATED, (event: any) => {\n            console.log(`: ${event.item?.name}`);\n            // UI\n            if (event.item?.type === ItemType.CONSUMABLE) {\n                this.displayBagItems();\n            }\n        });\n        \n        // \n        this.bagManager.addEventListener(BagEventType.ITEM_REMOVED, (event: any) => {\n            console.log(`: ${event.item?.name}`);\n            // UI\n            if (event.item?.type === ItemType.CONSUMABLE) {\n                this.displayBagItems();\n            }\n        });\n        \n        // \n        this.bagManager.addEventListener(BagEventType.ITEM_USED, (event: any) => {\n            console.log(`: ${event.item?.name}`);\n            // UI\n            if (event.item?.type === ItemType.CONSUMABLE) {\n                this.displayBagItems();\n            }\n        });\n        \n        console.log(\"\");\n    }\n    \n    /**\n     * \n     * @param event \n     */\n    private onSkillEvent(event: any): void {\n        console.log(`: ${event.type}`);\n        \n        switch (event.type) {\n            case 'skill_executed':\n                // \n                console.log(` ${event.skillId} `);\n                \n                // \n                this.enableAllZiClicks();\n                \n                // \n                this.updateProgress();\n                \n                // \n                this.checkWin();\n                break;\n                \n            case 'skill_cooldown_updated':\n                // \n                console.log(` ${event.skillId} : ${event.cooldownTime}ms`, event);\n                break;\n                \n            case 'skill_error':\n                // \n                console.error(` ${event.skillId} : ${event.message}`, event);\n                \n                // \n                this.enableAllZiClicks();\n                break;\n        }\n    }\n    \n    \n    \n    /**\n     * \n     */\n    private displayBagItems(): void {\n        console.log(\"\");\n        \n        // skillsNode\n        if (!this.skillsNode) {\n            console.error(\"skills\");\n            return;\n        }\n        \n        // \n        const consumables = this.bagManager.getItemsByType(ItemType.CONSUMABLE);\n        console.log(`${consumables.length}`);\n        \n        // UI\n        if (!this.checkIfNeedsUpdate(consumables)) {\n            console.log(\"UI\");\n            return;\n        }\n        \n        console.log(\"UI\");\n        \n        // \n        this.currentDisplayedItems.clear();\n        \n        // skills\n        const children = this.skillsNode.children;\n        for (let i = children.length - 1; i >= 0; i--) {\n            children[i].destroy();\n        }\n        \n        // skillsNode\n        this.skillsNode.active = true;\n    \n        \n        // skillsNodeSprite\n        if (!this.skillsNode.getComponent(Sprite)) {\n            const bgSprite = this.skillsNode.addComponent(Sprite);\n            bgSprite.color = new Color(255, 0, 0, 255); // \n        }\n        \n        // \n        consumables.forEach((item, index) => {\n            this.createItemIcon(item, index);\n            // \n            this.currentDisplayedItems.set(item.id, { ...item });\n        });\n        \n        // skillsNode\n        console.log(`skillsNode${this.skillsNode.children.length}`);\n        this.skillsNode.children.forEach((child, index) => {\n            console.log(`${index}: ${child.name}, (${child.position.x}, ${child.position.y}), : ${child.active}`);\n        });\n    }\n    \n    /**\n     * \n     * @param item \n     * @param index \n     */\n    private createItemIcon(item: BagItem, index: number): void {\n        // \n        if (!this.skillsNode) {\n            console.error(\"skills\");\n            return;\n        }\n        \n        if (!this.skillPrefab) {\n            console.error(\"skillPrefab\");\n            return;\n        }\n        \n        console.log(`: ${item.name}, : ${item.icon ? item.icon : ''}`);\n        \n        // Skill\n        const skillNode = instantiate(this.skillPrefab);\n        skillNode.setParent(this.skillsNode);\n        skillNode.active = true;\n        \n        // \n        const x = -110 + index * 112; // 100\n        const y = 0;\n        skillNode.setPosition(x, y, 0);\n        \n        console.log(`: (${x}, ${y})`);\n        \n        // layer\n        skillNode.layer = this.skillsNode.layer;\n        \n        // iconSprite\n        const iconSpriteNode = skillNode.getChildByName('iconSprite');\n        if (!iconSpriteNode) {\n            console.error(\"iconSprite\");\n            return;\n        }\n        \n        // Sprite\n        const sprite = iconSpriteNode.getComponent(Sprite);\n        if (!sprite) {\n            console.error(\"Sprite\");\n            return;\n        }\n        \n        // Button\n        const iconButton = iconSpriteNode.getComponent(Button);\n        if (!iconButton) {\n            console.error(\"Button\");\n            return;\n        }\n        \n        // useButton\n        const useButtonNode = skillNode.getChildByName('useButton');\n        if (!useButtonNode) {\n            console.error(\"useButton\");\n            return;\n        }\n        \n        // useButton\n        const useButton = useButtonNode.getComponent(Button);\n        if (!useButton) {\n            console.error(\"useButton\");\n            return;\n        }\n        \n        // \n        if (item.icon) {\n            const iconPath = item.icon;\n            const bundleName = 'CommonUI'; // bundle\n            const assetPath = `ui/${iconPath}`; //  \"ui/skills/tuodaohuima_btn\"\n            \n            console.log(`: ${assetPath}  bundle: ${bundleName}`);\n            \n            // bundle\n            assetManager.loadBundle(bundleName, (err, bundle) => {\n                if (err) {\n                    console.error(`Failed to load bundle: ${bundleName}`, err);\n                    // \n                    sprite.color = new Color(255, 0, 0, 255); // \n                    return;\n                }\n                \n                // bundle\n                bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                    if (err) {\n                        console.error(`Failed to load sprite frame: ${assetPath} from bundle: ${bundleName}`, err);\n                        // \n                        sprite.color = new Color(255, 0, 0, 255); // \n                        return;\n                    }\n                    \n                    if (spriteFrame) {\n                        console.log(`: ${assetPath}, : ${spriteFrame.originalSize.width}x${spriteFrame.originalSize.height}`);\n                        \n                        sprite.spriteFrame = spriteFrame;\n                        sprite.color = new Color(255, 255, 255, 255); // \n                        \n                        // Sprite\n                        sprite.enabled = false;\n                        sprite.enabled = true;\n                        \n                        // \n                        skillNode.active = true;\n                        \n                        // \n                        console.log(`: (${skillNode.position.x}, ${skillNode.position.y}), : ${skillNode.active}, layer: ${skillNode.layer}`, skillNode);\n                    } else {\n                        console.error(`Failed to get sprite frame: ${assetPath} from bundle: ${bundleName}`);\n                        // \n                        sprite.color = new Color(255, 0, 0, 255); // \n                    }\n                });\n            });\n        } else {\n            // \n            console.log(` ${item.name} `);\n            sprite.color = new Color(255, 255, 0, 255); // \n            \n            // Sprite\n            sprite.enabled = false;\n            sprite.enabled = true;\n        }\n        \n        // \n        const countLabelNode = new Node('count');\n        countLabelNode.setParent(iconSpriteNode);\n        countLabelNode.setPosition(30, 36, 0); // \n\n        countLabelNode.layer = this.skillsNode.layer;\n        \n        const countLabelTransform = countLabelNode.addComponent(UITransform);\n        countLabelTransform.setContentSize(40, 30);\n        \n        const countLabel = countLabelNode.addComponent(Label);\n        countLabel.string = item.count.toString();\n        countLabel.fontSize = 28;\n        countLabel.color = new Color(255, 0, 0, 255); // \n        \n        // iconButton\n        iconButton.node.on(Button.EventType.CLICK, () => {\n            this.onItemIconClicked(skillNode);\n        }, this);\n        \n        // useButton\n        useButton.node.on(Button.EventType.CLICK, () => {\n            this.onUseItemButtonClicked();\n        }, this);\n        \n        // \n        // \n        skillNode['itemData'] = item;\n        skillNode.active = true;\n        \n        console.log(`: ${item.name}, : ${item.count}`, item);\n    }\n    \n    /**\n     * \n     * @param skillNode \n     */\n    private onItemIconClicked(skillNode: Node): void {\n        // \n        const item = skillNode['itemData'] as BagItem;\n        if (!item) {\n            console.error(\"\");\n            return;\n        }\n        \n        console.log(`: ${item.name}`);\n        \n        // \n        this.currentItem = item;\n        \n        // useButton\n        const useButtonNode = skillNode.getChildByName('useButton');\n        if (!useButtonNode) {\n            console.error(\"useButton\");\n            return;\n        }\n        \n        // useButton\n        useButtonNode.active = true;\n    }\n    \n\n    \n    /**\n     * \n     */\n    private async onUseItemButtonClicked(): Promise<void> {\n        if (!this.currentItem) {\n            console.error(\"\");\n            return;\n        }\n        \n        // ID\n        const selectedItemItemId = this.currentItem.itemId;\n        \n        console.log(`: ${this.currentItem.name}`);\n        \n        // \n        this.disableAllZiClicks();\n        \n        // BagManageruseItem\n        const useSuccess = this.bagManager.useItem(this.currentItem.itemId, 1);\n        \n        if (useSuccess) {\n            console.log(`: ${this.currentItem.name}`);\n            \n            // \n            const skillSuccess = await this.skillManager.useSkillByItem(this.currentItem.itemId);\n            \n            if (skillSuccess) {\n                console.log(` ${this.currentItem.itemId} `);\n                \n                // \n                this.skillManager.addEventListener(SkillEventType.SKILL_EXECUTED, (event) => {\n                    this.onSkillEvent(event);\n                });\n                this.skillManager.addEventListener(SkillEventType.SKILL_ERROR, (event) => {\n                    this.onSkillEvent(event);\n                });\n            } else {\n                console.warn(` ${this.currentItem.itemId} , `);\n                // \n                this.bagManager.addItemByItemId(this.currentItem.itemId, 1);\n            }\n            \n            // \n            this.displayBagItems();\n            \n            // \n            const remainingItem = this.bagManager.getItemById(selectedItemItemId);\n            if (remainingItem && remainingItem.count > 0) {\n                this.currentItem = remainingItem;\n                console.log(`: ${this.currentItem.name}`);\n            } else {\n                // \n                this.currentItem = null;\n            }\n        } else {\n            console.error(`: ${this.currentItem.name}`);\n        }\n        //\n        this.enableAllZiClicks();\n    }\n    \n    /**\n     * \n     */\n    private onSuccessShareButtonClicked(): void {\n        console.log(\"\");\n        \n        // \n        if (this.isProcessingContinue) {\n            console.log(\"\");\n            return;\n        }\n        \n        // \n        this.isProcessingContinue = true;\n        \n        // \n        this.shareToWeChat();\n    }\n    \n\n    /**\n     * CameraRenderTexture\n     */\n    private shareToWeChat(): void {\n        try {\n            // \n            const camera = director.getScene().getChildByName('Canvas')?.getChildByName('Camera')?.getComponent(Camera);\n            if (!camera) {\n                console.error(\"\");\n                this.isProcessingContinue = false;\n                return;\n            }\n            \n            // RenderTexture\n            const renderTexture = new RenderTexture();\n            renderTexture.reset({\n                width: 500,\n                height: 400\n            });\n            \n            // \n            const originalTargetTexture = camera.targetTexture;\n            \n            // RenderTexture\n            camera.targetTexture = renderTexture;\n            \n            // \n            director.once(Director.EVENT_AFTER_DRAW, () => {\n                try {\n                    // \n                    camera.targetTexture = originalTargetTexture;\n                    \n                    // \n                    if (typeof wx !== 'undefined') {\n                        // Canvas\n                        const canvas = (wx as any).createCanvas();\n                        canvas.width = 500;\n                        canvas.height = 400;\n                        \n                        // Canvas2D\n                        const ctx = canvas.getContext('2d');\n                        \n                        // RenderTextureCanvas\n                        const data = renderTexture.readPixels(0, 0, 500, 400);\n                        \n                        // ImageData\n                        const imageData = ctx.createImageData(500, 400);\n                        imageData.data.set(data);\n                        \n                        // ImageDataCanvas\n                        ctx.putImageData(imageData, 0, 0);\n                        \n                        // Canvas.toTempFilePath\n                        const tempFilePath = canvas.toTempFilePathSync({\n                            destWidth: 500,\n                            destHeight: 400\n                        });\n                        \n                        console.log(\":\", tempFilePath);\n                        \n                        // \n                        (wx as any).onShareAppMessage(() => {\n                            return {\n                                title: ' - ',\n                                imageUrl: tempFilePath\n                            };\n                        });\n                        \n                        // \n                        (wx as any).shareAppMessage({\n                            success: () => {\n                                console.log(\"\");\n                                // \n                                this.giveShareReward();\n                            },\n                            fail: (error) => {\n                                console.error(\":\", error);\n                            },\n                            complete: () => {\n                                // \n                                this.isProcessingContinue = false;\n                            }\n                        });\n                    } else {\n                        // jsb\n                        if (typeof jsb !== 'undefined' && jsb.fileUtils && jsb.saveImageData) {\n                            const data = renderTexture.readPixels(0, 0, 500, 400);\n                            const tempFilePath = `${jsb.fileUtils.getWritablePath()}temp_share.png`;\n                            jsb.saveImageData(data, 500, 400, tempFilePath);\n                            \n                            // \n                            console.log(\":\", tempFilePath);\n                            this.giveShareReward();\n                            this.isProcessingContinue = false;\n                        } else {\n                            console.error(\"\");\n                            this.isProcessingContinue = false;\n                        }\n                    }\n                } catch (error) {\n                    console.error(\":\", error);\n                    // \n                    camera.targetTexture = originalTargetTexture;\n                    // \n                    this.isProcessingContinue = false;\n                }\n            });\n        } catch (error) {\n            console.error(\":\", error);\n            // \n            this.isProcessingContinue = false;\n        }\n    }\n    \n    /**\n     * \n     */\n    private giveShareReward(): void {\n        try {\n            // \n            const shareReward = 50;\n            \n            // \n            if (this.coinManager) {\n                this.coinManager.addCoin(shareReward);\n                console.log(`${shareReward}`);\n                \n                // UI\n                this.updateUI();\n                \n                // \n                this.showRewardToast(`${shareReward}`);\n            } else {\n                console.error(\"\");\n            }\n        } catch (error) {\n            console.error(\":\", error);\n        } finally {\n            // \n            this.isProcessingContinue = false;\n            \n            // \n            this.cleanupSuccessPopupButtons();\n        }\n    }\n    \n    /**\n     * \n     * @param message \n     */\n    private showRewardToast(message: string): void {\n        try {\n            // UI\n            console.log(`: ${message}`);\n            \n            // Toast\n            // UI\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n    \n    /**\n     * \n     * @param comboCount \n     * @param position \n     */\n    private showComboTextAnimation(comboCount: number, position: Vec3): void {\n        try {\n            // \n            const comboTextNode = new Node('ComboText');\n            comboTextNode.layer = Layers.Enum.UI_2D;\n            \n            // UI\n            this.collectArea.addChild(comboTextNode);\n            \n            // \n            comboTextNode.position = new Vec3(position.x, position.y + 150, 0); // \n            \n            // UITransform\n            const uiTransform = comboTextNode.addComponent(UITransform);\n            uiTransform.setContentSize(200, 80);\n            \n            // \n            const label = comboTextNode.addComponent(Label);\n            label.string = `X${comboCount}`;\n            label.fontSize = 48;\n            label.color = new Color(255, 215, 0, 255); // \n            label.horizontalAlign = 1; // CENTER\n            label.verticalAlign = 1; // CENTER\n            \n            // \n            label.enableOutline = true;\n            label.outlineColor = new Color(139, 69, 19, 255); // \n            label.outlineWidth = 3;\n            \n            // \n            label.enableShadow = true;\n            label.shadowColor = new Color(0, 0, 0, 255); // \n            label.shadowOffset = new Vec2(2, -2);\n            label.shadowBlur = 4;\n            \n            // \n            comboTextNode.setScale(0, 0, 0);\n            tween(comboTextNode)\n                .to(0.2, { scale: new Vec3(1.5, 1.5, 1.5) }, { easing: 'backOut' })\n                .to(0.1, { scale: new Vec3(1.2, 1.2, 1.2) })\n                .delay(0.3)\n                .to(0.2, { scale: new Vec3(0, 0, 0) }, { easing: 'backIn' })\n                .call(() => {\n                    // \n                    comboTextNode.destroy();\n                })\n                .start();\n                \n            console.log(`: X${comboCount}`);\n        } catch (error) {\n            console.error(\":\", error);\n        }\n    }\n\n\n}\n\n\n","import { _decorator, Color, Component, Node, Sprite, SpriteFrame, Vec3, UITransform, Size, tween, Label } from 'cc';\nimport { SpriteFramesCfg } from '../../../auto/SpriteFramesCfg';\nconst { ccclass, property } = _decorator;\n\nenum MovingType {\n    /** */\n    none = 0,\n    /** */\n    flying,\n    /** */\n    adjusting\n}\n\n@ccclass('Match3ZiUE')\nexport class Match3ZiUE extends Component {\n\n    /** */\n    @property(Sprite)\n    private bg: Sprite = null;\n\n    /** */\n    @property(Sprite)\n    private sprite: Sprite = null;\n\n    public col: number = 0;\n    public row: number = 0;\n    public style: number = 0;\n\n    /** */\n    private m_ClickFunc: (zi: Match3ZiUE) => any = null;\n\n    /** */\n    private m_MovingType: MovingType = MovingType.none;\n    /** */\n    private m_TargetPosition: Vec3 = new Vec3(0, 0, 0);\n    /** */\n    private m_SmoothFactor: number = 0.4;\n    /** */\n    private m_FlyingCallBack: Function = null;\n\n    /** */\n    public isMarkElimnate: boolean = false;\n\n    /** -  */\n    public isCollected: boolean = false;\n    \n    /** - false */\n    public static globalClickable: boolean = true;\n\n    /**\n     * \n     * @param col \n     * @param row \n     * @param style \n     */\n    public init(col: number, row: number, style: number, clickFunc: (zi: Match3ZiUE) => any) {\n        this.col = col;\n        this.row = row;\n        this.style = style;\n        this.m_ClickFunc = clickFunc;\n        this.node.setPosition(col * 17, row * 20);\n        this.setDisplay(style);\n\n        let node = new Node();\n        let label = node.addComponent(Label);\n        label.string = `[${this.col},${this.row}]`;\n        node.setParent(this.node);\n        node.setPosition(0, 0, 100);\n    }\n\n    click() {\n        // \n        if (!Match3ZiUE.globalClickable) {\n            console.log(\"Global clickable is false, cannot click\");\n            return;\n        }\n        \n        // \n        if (this.isCollected) {\n            console.log(\"Card is already collected, cannot click\");\n            return;\n        }\n        \n        // \n        if (this.isMarkElimnate) {\n            console.log(\"Card is marked for elimination, cannot click\");\n            return;\n        }\n\n        this.m_ClickFunc(this);\n    }\n\n    /** */\n    public async setDisplay(style: number) {\n        // style(1-30)characters(0-44)\n        // style\n        let characterIndex: number = style - 1;\n\n\n        // spriteFrame\n        let spriteFrame = await SpriteFramesCfg.paiAsync(characterIndex);\n        if (spriteFrame) {\n            this.sprite.spriteFrame = spriteFrame;\n\n            // sprite80x80\n            const uiTransform = this.sprite.getComponent(UITransform);\n            if (uiTransform) {\n                uiTransform.setContentSize(new Size(92,98));\n            }\n\n            // sprite\n            this.sprite.type = Sprite.Type.SIMPLE;\n            this.sprite.sizeMode = Sprite.SizeMode.CUSTOM;\n\n            // \n            // TODO: \n\n        } else {\n            console.warn(`Failed to get character sprite frame for style: ${style}, mapped to index: ${characterIndex}`);\n        }\n    }\n\n    /**() */\n    public setClickable(bClickable: boolean) {\n        // \n        if (this.isCollected) {\n            // \n            this.bg.color = Color.WHITE;\n            this.sprite.color = Color.WHITE;\n            return;\n        }\n\n        // \n        this.bg.color = bClickable ? Color.WHITE : new Color(120, 120, 120, 180);\n        this.sprite.color = bClickable ? Color.WHITE : new Color(120, 120, 120, 180);\n    }\n\n    /**, */\n    public moveToTargetIndex(collectArea: Node, index: number, cb: Function) {\n        if (this.m_MovingType !== MovingType.none) {\n            return;\n        }\n        this.m_MovingType = MovingType.flying;\n        this.m_FlyingCallBack = cb;\n\n        // \n        this.isCollected = true;\n\n        // \n        this.setClickable(true); // setClickableisCollected\n\n        //collectArea\n        this.node.setParent(collectArea, true);\n        \n        // z-index\n        this.node.setSiblingIndex(collectArea.children.length - 1);\n        \n        // tweenschedule\n        const targetPosition = new Vec3(index * 102, 0, 0);\n        \n        // \n        const currentPosition = this.node.position;\n        const distance = Vec3.distance(currentPosition, targetPosition);\n        \n        // m_SmoothFactor\n        // 0.1\n        const duration = Math.max(0.4, distance * 0.01 * this.m_SmoothFactor);\n        \n        tween(this.node)\n            .to(duration, { position: targetPosition })\n            .call(() => {\n                // \n                this.m_MovingType = MovingType.none;\n                if (this.m_FlyingCallBack) {\n                    const callback = this.m_FlyingCallBack;\n                    this.m_FlyingCallBack = null;\n                    callback();\n                }\n            })\n            .start();\n    }\n\n  \n\n    /** */\n    public changeMoveingTargetIndex(index: number): void {\n        //\n        const newTargetPosition = new Vec3(index * 102, 0, 0);\n        \n        // tween\n        tween(this.node).stop();\n        \n        // z-index\n        if (this.node.parent) {\n            this.node.setSiblingIndex(this.node.parent.children.length - 1);\n        }\n        \n        // \n        const currentPosition = this.node.position;\n        const distance = Vec3.distance(currentPosition, newTargetPosition);\n        \n        // m_SmoothFactor\n        // 0.05\n        const duration = 0.2;//Math.min(0.2, distance * 0.01 * this.m_SmoothFactor);\n        \n        switch (this.m_MovingType) {\n            case MovingType.none:\n                //\n                this.m_MovingType = MovingType.adjusting;\n                // tween\n                tween(this.node)\n                    .to(duration, { position: newTargetPosition })\n                    .call(() => {\n                        this.m_MovingType = MovingType.none;\n                    })\n                    .start();\n                break;\n            case MovingType.adjusting:\n            case MovingType.flying:\n                // \n                // \n                tween(this.node)\n                    .to(duration, { position: newTargetPosition })\n                    .call(() => {\n                        // \n                        if (this.m_MovingType === MovingType.adjusting) {\n                            this.m_MovingType = MovingType.none;\n                        }\n                    })\n                    .start();\n                break;\n        }\n    }\n}\n\n\n","import { _decorator, sys } from 'cc';\nimport CoinManager from '../coin/CoinManager';\nimport { GameDataManager } from '../data/GameDataManager';\nimport { BagManager, BagItem, ItemType } from '../bag/BagManager';\nimport { WechatOpenDataContext } from './WechatOpenDataContext';\n\n/**\n * \n */\nexport interface OpenDataInfo {\n    userId: string;           // ID\n    username: string;         // \n    avatar: string;           // \n    coin: number;             // \n    level: number;            // \n    items: OpenDataItem[];    // \n    update_time: number;      // \n    isRecommended?: boolean;  // \n}\n\n/**\n * \n */\nexport interface OpenDataItem {\n    itemId: string;           // ID\n    name: string;             // \n    count: number;            // \n    quality: number;          // \n}\n\n/**\n * \n * \n */\nexport class OpenDataManager {\n    private static instance: OpenDataManager;\n    \n    // \n    private cachedData: OpenDataInfo;\n    \n    // \n    private static readonly SYNC_INTERVAL = 60000; // 1\n    \n    // \n    private lastSyncTime: number = 0;\n    \n    // \n    public static getInstance(): OpenDataManager {\n        if (!OpenDataManager.instance) {\n            OpenDataManager.instance = new OpenDataManager();\n        }\n        return OpenDataManager.instance;\n    }\n    \n    // \n    private constructor() {\n        this.cachedData = this.getDefaultData();\n        this.init();\n    }\n    \n    // \n    private init(): void {\n        console.log('OpenDataManager: ');\n        this.loadLocalData();\n        \n        // \n        this.startPeriodicSync();\n    }\n    \n    // \n    private getDefaultData(): OpenDataInfo {\n        return {\n            userId: '',\n            username: '',\n            avatar: '',\n            coin: 0,\n            level: 1,\n            items: [],\n            update_time: 0\n        };\n    }\n    \n    // \n    private loadLocalData(): void {\n        try {\n            const dataStr = sys.localStorage.getItem('open_data_cache');\n            if (dataStr) {\n                this.cachedData = JSON.parse(dataStr);\n                console.log('OpenDataManager: ');\n            } else {\n                console.log('OpenDataManager: ');\n            }\n        } catch (error) {\n            console.error('OpenDataManager: ', error);\n            this.cachedData = this.getDefaultData();\n        }\n    }\n    \n    // \n    private saveLocalData(): void {\n        try {\n            sys.localStorage.setItem('open_data_cache', JSON.stringify(this.cachedData));\n            console.log('OpenDataManager: ');\n        } catch (error) {\n            console.error('OpenDataManager: ', error);\n        }\n    }\n    \n    // \n    private startPeriodicSync(): void {\n        // \n        setInterval(() => {\n            this.syncDataToOpenDomain();\n        }, OpenDataManager.SYNC_INTERVAL);\n    }\n    \n    // \n    public syncDataToOpenDomain(): void {\n        // \n        if (!WechatOpenDataContext.getInstance().isWechatEnvironment()) {\n            console.log('OpenDataManager: ');\n            return;\n        }\n        \n        // \n        this.updateLocalCache();\n        \n        // \n        this.uploadToOpenDomain();\n        \n        // \n        this.lastSyncTime = Date.now();\n    }\n    \n    // \n    private updateLocalCache(): void {\n        // \n        const userInfo = GameDataManager.getInstance().getUserInfo();\n        this.cachedData.userId = userInfo.userId;\n        this.cachedData.username = userInfo.username;\n        this.cachedData.avatar = userInfo.avatar;\n        this.cachedData.level = userInfo.level;\n        this.cachedData.isRecommended = userInfo.isRecommended;\n        \n        // \n        this.cachedData.coin = CoinManager.getInstance().getCurrentCoin();\n        \n        // \n        const bagItems = BagManager.getInstance().getAllItems();\n        this.cachedData.items = this.convertBagItemsToOpenData(bagItems);\n        \n        // \n        this.cachedData.update_time = Date.now();\n        \n        // \n        this.saveLocalData();\n    }\n    \n    // \n    private convertBagItemsToOpenData(bagItems: BagItem[]): OpenDataItem[] {\n        return bagItems.map(item => ({\n            itemId: item.itemId,\n            name: item.name,\n            count: item.count,\n            quality: item.quality\n        }));\n    }\n    \n    // \n    private uploadToOpenDomain(): void {\n        // API\n        if (typeof window !== 'undefined' && window['wx']) {\n            try {\n                const wx = window['wx'];\n                \n                // \n                wx.setStorage({\n                    key: 'basic_data',\n                    data: JSON.stringify({\n                        coin: this.cachedData.coin,\n                        level: this.cachedData.level\n                    }),\n                    success: () => {\n                        console.log('OpenDataManager: ');\n                    },\n                    fail: (err) => {\n                        console.error('OpenDataManager: ', err);\n                    }\n                });\n                \n                // \n                wx.setStorage({\n                    key: 'game_data',\n                    data: JSON.stringify(this.cachedData),\n                    success: () => {\n                        console.log('OpenDataManager: ');\n                    },\n                    fail: (err) => {\n                        console.error('OpenDataManager: ', err);\n                    }\n                });\n            } catch (error) {\n                console.error('OpenDataManager: ', error);\n            }\n        }\n    }\n    \n    // \n    public async getFriendsData(): Promise<OpenDataInfo[]> {\n        // \n        if (!WechatOpenDataContext.getInstance().isWechatEnvironment()) {\n            console.log('OpenDataManager: ');\n            return [];\n        }\n        \n        try {\n            // API\n            const wx = window['wx'];\n            \n            return new Promise((resolve, reject) => {\n                wx.getFriendCloudStorage({\n                    keyList: ['game_data'],\n                    success: (res) => {\n                        console.log('OpenDataManager: ');\n                        \n                        // \n                        const result: OpenDataInfo[] = [];\n                        res.data.forEach(item => {\n                            const gameData = item.KVDataList.find((kv: any) => kv.key === 'game_data');\n                            if (gameData) {\n                                try {\n                                    const openDataInfo: OpenDataInfo = JSON.parse(gameData.value);\n                                    result.push(openDataInfo);\n                                } catch (error) {\n                                    console.error('OpenDataManager: ', error);\n                                }\n                            }\n                        });\n                        \n                        resolve(result);\n                    },\n                    fail: (err) => {\n                        console.error('OpenDataManager: ', err);\n                        reject(err);\n                    }\n                });\n            });\n        } catch (error) {\n            console.error('OpenDataManager: ', error);\n            return [];\n        }\n    }\n    \n    // \n    public getCachedData(): OpenDataInfo {\n        return { ...this.cachedData }; // \n    }\n    \n    // \n    public async restoreGameData(): Promise<boolean> {\n        return new Promise((resolve) => {\n            // \n            if (!WechatOpenDataContext.getInstance().isWechatEnvironment()) {\n                console.log('OpenDataManager: ');\n                resolve(false);\n                return;\n            }\n            \n            // wx\n            if (typeof wx === 'undefined') {\n                console.log('OpenDataManager: wx');\n                resolve(false);\n                return;\n            }\n            \n            // \n            this.restoreFromLocalStorage(resolve);\n        });\n    }\n    \n    // \n    private restoreFromLocalStorage(resolve: (value: boolean) => void): void {\n        const wx = window['wx'];\n        if (!wx) {\n            resolve(false);\n            return;\n        }\n        \n        wx.getStorage({\n            key: 'game_data',\n            success: (res) => {\n                try {\n                    console.log('OpenDataManager: ', res.data);\n                    this.processRestoredData(res.data);\n                    resolve(true);\n                } catch (error) {\n                    console.error('OpenDataManager: ', error);\n                    resolve(false);\n                }\n            },\n            fail: (err) => {\n                console.log('OpenDataManager: ', err);\n                resolve(false);\n            }\n        });\n    }\n    \n    // \n    private processRestoredData(data: any): void {\n        try {\n            const openDataInfo: OpenDataInfo = typeof data === 'string' ? JSON.parse(data) : data;\n            \n            // \n            GameDataManager.getInstance().updateUserInfo({\n                level: openDataInfo.level,\n                isRecommended: openDataInfo.isRecommended !== undefined ? openDataInfo.isRecommended : false\n            });\n            \n            // \n            if (openDataInfo.coin > 0) {\n                const currentCoin = CoinManager.getInstance().getCurrentCoin();\n                if (currentCoin < openDataInfo.coin) {\n                    // \n                    CoinManager.getInstance().addCoin(openDataInfo.coin - currentCoin, \"cloud_restore\", false);\n                    console.log(`OpenDataManager: : ${openDataInfo.coin - currentCoin}`);\n                }\n            }\n            \n            // \n            if (openDataInfo.items && openDataInfo.items.length > 0) {\n                const bagManager = BagManager.getInstance();\n                openDataInfo.items.forEach(item => {\n                    // \n                    const localItem = bagManager.getItem(item.itemId);\n                    if (!localItem || localItem.count < item.count) {\n                        // \n                        const addCount = localItem ? item.count - localItem.count : item.count;\n                        // BagItem\n                        const bagItem: BagItem = {\n                            id: '',\n                            itemId: item.itemId,\n                            type: ItemType.CONSUMABLE,\n                            name: item.name,\n                            description: '',\n                            icon: '',\n                            count: addCount,\n                            maxStack: 99,\n                            quality: item.quality,\n                            canUse: true,\n                            canSell: false,\n                            sellPrice: 0,\n                            createTime: Date.now()\n                        };\n                        \n                        bagManager.addItem(bagItem, false);\n                        console.log(`OpenDataManager:  ${item.name}: ${addCount}`);\n                    }\n                });\n            }\n            \n            console.log('OpenDataManager: ');\n        } catch (error) {\n            console.error('OpenDataManager: ', error);\n            throw error;\n        }\n    }\n    \n    // \n    public clearCache(): void {\n        this.cachedData = this.getDefaultData();\n        sys.localStorage.removeItem('open_data_cache');\n        console.log('OpenDataManager: ');\n    }\n}\n\n// \n(window as any).OpenDataManager = OpenDataManager.getInstance();","import { AdPlatform } from './AdManager';\n\n/**\n * \n * \n */\nexport class PlatformDetector {\n    private static _instance: PlatformDetector | null = null;\n    \n    /**\n     * PlatformDetector\n     */\n    public static getInstance(): PlatformDetector {\n        if (!PlatformDetector._instance) {\n            PlatformDetector._instance = new PlatformDetector();\n        }\n        return PlatformDetector._instance;\n    }\n    \n    /**\n     * \n     */\n    private currentPlatform: AdPlatform = AdPlatform.DEFAULT;\n    \n    /**\n     * \n     */\n    private detected: boolean = false;\n    \n    /**\n     * \n     */\n    private constructor() {\n        // detectPlatform\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public detectPlatform(): AdPlatform {\n        if (this.detected) {\n            return this.currentPlatform;\n        }\n        \n        // \n        if (this.isWechatPlatform()) {\n            this.currentPlatform = AdPlatform.WECHAT;\n            console.log('PlatformDetector: ');\n        }\n        // \n        else if (this.isByteDancePlatform()) {\n            this.currentPlatform = AdPlatform.BYTEDANCE;\n            console.log('PlatformDetector: ');\n        }\n        // \n        else {\n            this.currentPlatform = AdPlatform.DEFAULT;\n            console.log('PlatformDetector: ');\n        }\n        \n        this.detected = true;\n        return this.currentPlatform;\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getCurrentPlatform(): AdPlatform {\n        if (!this.detected) {\n            return this.detectPlatform();\n        }\n        return this.currentPlatform;\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public isWechatPlatform(): boolean {\n        try {\n            // wx\n            if (typeof window !== 'undefined' && window['wx']) {\n                const wx = window['wx'];\n                // API\n                return !!(wx.createRewardedVideoAd && wx.createInterstitialAd);\n            }\n            return false;\n        } catch (error) {\n            console.error('PlatformDetector: ', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public isByteDancePlatform(): boolean {\n        try {\n            // tt\n            if (typeof window !== 'undefined' && window['tt']) {\n                const tt = window['tt'];\n                // API\n                return !!(tt.createRewardedVideoAd && tt.createInterstitialAd);\n            }\n            return false;\n        } catch (error) {\n            console.error('PlatformDetector: ', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public isDefaultPlatform(): boolean {\n        return this.getCurrentPlatform() === AdPlatform.DEFAULT;\n    }\n    \n    /**\n     * \n     */\n    public reset(): void {\n        this.detected = false;\n        this.currentPlatform = AdPlatform.DEFAULT;\n    }\n    \n    /**\n     * \n     * @param platform \n     * @returns \n     */\n    public getPlatformName(platform?: AdPlatform): string {\n        const targetPlatform = platform || this.getCurrentPlatform();\n        \n        switch (targetPlatform) {\n            case AdPlatform.WECHAT:\n                return '';\n            case AdPlatform.BYTEDANCE:\n                return '';\n            case AdPlatform.DEFAULT:\n                return '';\n            default:\n                return '';\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getPlatformInfo(): { platform: AdPlatform; name: string; supportsAds: boolean } {\n        const platform = this.getCurrentPlatform();\n        const name = this.getPlatformName(platform);\n        const supportsAds = platform !== AdPlatform.DEFAULT;\n        \n        return {\n            platform,\n            name,\n            supportsAds,\n        };\n    }\n}","import { createBundleObject } from \"../core/modules/res/ResConst\";\n\nexport const PrefabCfg = {\n    //-----------Match3BN---------\n    Match3UI: createBundleObject(\"Match3UI\", \"Match3BN\"),\n    Match3ZiUE: createBundleObject(\"Match3ZiUE\", \"Match3BN\"),\n    \n    //-----------ZouZouBN---------\n    ZouZouEntry: createBundleObject(\"ZouZouEntry\", \"ZouZouBN\"),\n    \n    //-----------CommonUI---------\n    ShopUI: createBundleObject(\"Shop\", \"CommonUI\"),\n    BagUI: createBundleObject(\"Bag\", \"CommonUI\"),\n    LotteryUI: createBundleObject(\"Lottery\", \"CommonUI\"),\n    SignUI: createBundleObject(\"Sign\", \"CommonUI\"),\n    SettingUI: createBundleObject(\"Settings\", \"CommonUI\"),\n    RankUI: createBundleObject(\"Rank\", \"CommonUI\"),\n    \n    //-----------ToastUI---------\n    ToastUI: createBundleObject(\"\", \"\"),\n}","import { AudioManager } from '../audio/AudioManager';\nimport { createBundleObject } from '../res/ResConst';\nimport { BaseSkill, SkillConfig, SkillType, SkillState } from './SkillBase';\nimport { Node, tween, Vec3, UITransform, Color, Sprite } from 'cc';\n\n/**\n * \n * \n */\nexport class QianKunNuoYiSkill extends BaseSkill {\n    private gameUI: any;\n    \n    constructor(config: SkillConfig, gameUI: any) {\n        super(config);\n        this.gameUI = gameUI;\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected async onExecute(params?: any): Promise<boolean> {\n        try {\n            console.log(`: ${this.config.name}`);\n            \n            // \n            const boardZis = this.getAllZisFromBoard();\n            \n            if (!boardZis || boardZis.length === 0) {\n                console.warn('');\n                return false;\n            }\n            \n            // \n            const originalPositions = this.recordZiPositions(boardZis);\n            \n            // \n            const shuffledZis = this.shuffleZis(boardZis);\n            \n            // \n            const success = await this.reassignZiPositions(shuffledZis, originalPositions);\n            \n            if (success) {\n                // \n                // this.playPositionChangeAnimation(shuffledZis);\n                \n                console.log(`${boardZis.length}`);\n                return true;\n            } else {\n                console.warn('');\n                return false;\n            }\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    private getAllZisFromBoard(): any[] {\n        // \n        const boardZiList = this.gameUI.m_ZiList;\n        \n        if (!boardZiList || boardZiList.length === 0) {\n            return [];\n        }\n        \n        // \n        return [...boardZiList];\n    }\n    \n    /**\n     * \n     * @param zis \n     * @returns \n     */\n    private recordZiPositions(zis: any[]): any[] {\n        const positions: any[] = [];\n        \n        zis.forEach(zi => {\n            if (zi && zi.node && (zi.node as any).isValid) {\n                // \n                positions.push({\n                    x: zi.node.position.x,\n                    y: zi.node.position.y,\n                    z: zi.node.position.z\n                });\n            } else {\n                // \n                positions.push({ x: 0, y: 0, z: 0 });\n            }\n        });\n        \n        return positions;\n    }\n    \n    /**\n     * \n     * @param zis \n     * @returns \n     */\n    private shuffleZis(zis: any[]): any[] {\n        // \n        const shuffled = [...zis];\n        \n        // Fisher-Yates \n        for (let i = shuffled.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n        }\n        \n        return shuffled;\n    }\n    \n    /**\n     * \n     * @param zis \n     * @param positions \n     * @returns \n     */\n    private async reassignZiPositions(zis: any[], positions: any[]): Promise<boolean> {\n        try {\n            // \n            if (zis.length !== positions.length) {\n                console.warn('');\n                return false;\n            }\n            \n            // Promise\n            const animationPromises: Promise<void>[] = [];\n            \n            // \n            AudioManager.ins.playSound(createBundleObject(\"Res/Audio/wind\", \"LoginBN\"));\n            \n            // \n            for (let i = 0; i < zis.length; i++) {\n                const zi = zis[i];\n                const position = positions[i];\n                \n                if (zi && zi.node && (zi.node as any).isValid) {\n                    // \n                    const originalPosition = zi.node.position.clone();\n                    \n                    // z-index\n                    zi.node.setSiblingIndex(this.gameUI.board.children.length - 1);\n                    \n                    // Promise\n                    const animationPromise = new Promise<void>((resolve) => {\n                        // \n                        this.playBlinkEffect(zi.node);\n                        \n                        // tween\n                        tween(zi.node)\n                            .to(0.5, { position: new Vec3(position.x, position.y, position.z) })\n                            .call(() => {\n                                // \n                                if (zi.updatePosition) {\n                                    zi.updatePosition();\n                                }\n                                \n                                // \n                                // 17x20\n                                zi.col = Math.round(position.x / 17);\n                                zi.row = Math.round(position.y / 20);\n                                \n                                // \n                                if (zi.setClickable) {\n                                    zi.setClickable(this.gameUI.calcClickable(zi));\n                                }\n                                \n                                resolve();\n                            })\n                            .start();\n                    });\n                    \n                    animationPromises.push(animationPromise);\n                }\n            }\n            \n            // \n            await Promise.all(animationPromises);\n            \n            // \n            this.gameUI.clearQipan();\n            zis.forEach(zi => {\n                this.gameUI.addZi(zi);\n            });\n            \n            // \n            this.gameUI.enableAllZiClicks();\n            \n            // \n            this.updateAllZisClickable(zis);\n            \n            // UI\n            this.gameUI.updateUI();\n            \n            return true;\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param zis \n     */\n    private updateAllZisClickable(zis: any[]): void {\n        // \n        zis.forEach(zi => {\n            if (zi && zi.setClickable) {\n                zi.setClickable(this.gameUI.calcClickable(zi));\n            }\n        });\n        \n        // \n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                const stack = this.gameUI.stacks[r][c];\n                if (!stack.empty && stack.top && stack.top.setClickable) {\n                    stack.top.setClickable(this.gameUI.calcClickable(stack.top));\n                }\n            }\n        }\n    }\n    \n    \n    \n    /**\n     * \n     * @param node \n     */\n    private playBlinkEffect(node: Node): void {\n        if (!node || !(node as any).isValid) {\n            return;\n        }\n        \n        const sprite = node.getComponent(Sprite);\n        if (!sprite) {\n            return;\n        }\n        \n        // \n        const originalColor = sprite.color.clone();\n        \n        // \n        tween(sprite)\n            .to(0.2, { color: new Color(originalColor.r, originalColor.g, originalColor.b, 50) })\n            .to(0.2, { color: originalColor })\n            .to(0.2, { color: new Color(originalColor.r, originalColor.g, originalColor.b, 50) })\n            .to(0.2, { color: originalColor })\n            .start();\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected onBeforeActivate(params?: any): boolean {\n        // \n        const boardZiList = this.gameUI.m_ZiList;\n        \n        if (!boardZiList || boardZiList.length === 0) {\n            console.warn('');\n            return false;\n        }\n        \n        return true;\n    }\n}","import { _decorator, Component, Node, Button, Label, ScrollView, Sprite, UITransform, Size, Vec3, Toggle, ToggleContainer, Widget, instantiate } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { UILayer } from './UILayer';\nimport { RankManager, RankData, RankType, RankEventType } from '../rank/RankManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('RankItemUI')\nexport class RankItemUI extends Component {\n    // \n    @property(Label)\n    rankLabel: Label = null;\n    \n    // \n    @property(Sprite)\n    avatarSprite: Sprite = null;\n    \n    // \n    @property(Label)\n    nameLabel: Label = null;\n    \n    // \n    @property(Label)\n    valueLabel: Label = null;\n    \n    // \n    @property(Node)\n    rankBgNode: Node = null;\n    \n    // \n    @property(Sprite)\n    rankBgSprite: Sprite = null;\n    \n    /**\n     * \n     * @param data \n     * @param rankType \n     * @param index \n     */\n    public init(data: RankData, rankType: RankType, index: number): void {\n        if (!this.rankLabel || !this.nameLabel || !this.valueLabel) {\n            console.error('RankItemUI: UI');\n            return;\n        }\n        \n        // \n        this.rankLabel.string = `${index + 1}`;\n        \n        // \n        this.nameLabel.string = data.nickname || '';\n        \n        // \n        if (rankType === RankType.COIN) {\n            this.valueLabel.string = `${data.coin} `;\n        } else if (rankType === RankType.LEVEL) {\n            this.valueLabel.string = ` ${data.level} `;\n        }\n        \n        // \n        this.setRankStyle(index);\n        \n        // TODO: \n        this.loadAvatar(data.avatarUrl);\n    }\n    \n    /**\n     * \n     * @param index \n     */\n    private setRankStyle(index: number): void {\n        if (!this.rankBgNode) return;\n        \n        // \n        if (index === 0) {\n            // \n            this.rankBgNode.active = true;\n            if (this.rankBgSprite) {\n                // TODO: \n            }\n        } else if (index === 1) {\n            // \n            this.rankBgNode.active = true;\n            if (this.rankBgSprite) {\n                // TODO: \n            }\n        } else if (index === 2) {\n            // \n            this.rankBgNode.active = true;\n            if (this.rankBgSprite) {\n                // TODO: \n            }\n        } else {\n            // \n            this.rankBgNode.active = false;\n        }\n    }\n    \n    /**\n     * \n     * @param avatarUrl URL\n     */\n    private loadAvatar(avatarUrl: string): void {\n        if (!this.avatarSprite || !avatarUrl) return;\n        \n        // TODO: \n        // \n        // resources.load\n    }\n}","import { _decorator, sys } from 'cc';\nimport { WechatOpenDataContext } from './WechatOpenDataContext';\nimport CoinManager from '../coin/CoinManager';\nimport { GameDataManager } from '../data/GameDataManager';\n\n/**\n * \n */\nexport interface RankData {\n    openid: string;           // openid\n    nickname: string;         // \n    avatarUrl: string;        // URL\n    coin: number;             // \n    level: number;            // \n    timestamp: number;        // \n}\n\n/**\n * \n */\nexport enum RankType {\n    COIN = 'coin',            // \n    LEVEL = 'level'           // \n}\n\n/**\n * \n */\nexport enum RankEventType {\n    DATA_UPDATED = 'data_updated',    // \n    REFRESH_SUCCESS = 'refresh_success', // \n    REFRESH_FAILED = 'refresh_failed'   // \n}\n\n/**\n * \n */\nexport interface RankEventParam {\n    eventType: RankEventType;  // \n    rankType: RankType;       // \n    data?: RankData[];         // \n    message?: string;         // \n}\n\n/**\n * \n */\nexport type RankEventCallback = (param: RankEventParam) => void;\n\n/**\n * \n * \n */\nexport class RankManager {\n    private static instance: RankManager;\n    \n    // \n    private coinRankData: RankData[] = [];\n    \n    // \n    private levelRankData: RankData[] = [];\n    \n    // \n    private wechatOpenDataContext: WechatOpenDataContext = null;\n    \n    // \n    private eventListeners: Map<RankEventType, RankEventCallback[]> = new Map();\n    \n    // \n    public static getInstance(): RankManager {\n        if (!RankManager.instance) {\n            RankManager.instance = new RankManager();\n        }\n        return RankManager.instance;\n    }\n    \n    // \n    private constructor() {\n        this.initEventListeners();\n        this.loadLocalData();\n        \n        // \n        // this.wechatOpenDataContext = WechatOpenDataContext.getInstance();\n        // this.wechatOpenDataContext.init();\n    }\n    \n    // \n    private initEventListeners(): void {\n        this.eventListeners.set(RankEventType.DATA_UPDATED, []);\n        this.eventListeners.set(RankEventType.REFRESH_SUCCESS, []);\n        this.eventListeners.set(RankEventType.REFRESH_FAILED, []);\n    }\n    \n    // \n    private loadLocalData(): void {\n        try {\n            // \n            const coinRankStr = sys.localStorage.getItem('rank_coin_data');\n            if (coinRankStr) {\n                this.coinRankData = JSON.parse(coinRankStr);\n                console.log(`: ${this.coinRankData.length}`);\n            }\n            \n            // \n            const levelRankStr = sys.localStorage.getItem('rank_level_data');\n            if (levelRankStr) {\n                this.levelRankData = JSON.parse(levelRankStr);\n                console.log(`: ${this.levelRankData.length}`);\n            }\n        } catch (error) {\n            console.error(':', error);\n            this.coinRankData = [];\n            this.levelRankData = [];\n        }\n    }\n    \n    // \n    private saveLocalData(): void {\n        try {\n            // \n            sys.localStorage.setItem('rank_coin_data', JSON.stringify(this.coinRankData));\n            \n            // \n            sys.localStorage.setItem('rank_level_data', JSON.stringify(this.levelRankData));\n            \n            console.log('');\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    // \n    public getCoinRankData(): RankData[] {\n        return [...this.coinRankData]; // \n    }\n    \n    // \n    public getLevelRankData(): RankData[] {\n        return [...this.levelRankData]; // \n    }\n    \n    // \n    public getRankData(rankType: RankType): RankData[] {\n        if (rankType === RankType.COIN) {\n            return this.getCoinRankData();\n        } else if (rankType === RankType.LEVEL) {\n            return this.getLevelRankData();\n        }\n        return [];\n    }\n    \n    // \n    public getWechatOpenDataContext(): WechatOpenDataContext {\n        if (!this.wechatOpenDataContext) {\n            this.wechatOpenDataContext = WechatOpenDataContext.getInstance();\n            this.wechatOpenDataContext.init();\n        }\n        return this.wechatOpenDataContext;\n    }\n    \n    // \n    public updateLocalUserData(): void {\n        try {\n            // \n            const coinManager = CoinManager.getInstance();\n            const gameDataManager = GameDataManager.getInstance();\n            \n            const currentCoin = coinManager.getCurrentCoin();\n            const currentLevel = gameDataManager.loadLevel();\n            \n            // \n            const userInfo = gameDataManager.getUserInfo();\n            \n            // \n            const userData: RankData = {\n                openid: userInfo.userId,\n                nickname: userInfo.username,\n                avatarUrl: userInfo.avatar,\n                coin: currentCoin,\n                level: currentLevel,\n                timestamp: Date.now()\n            };\n            \n            // \n            this.updateUserDataInRank(this.coinRankData, userData);\n            \n            // \n            this.updateUserDataInRank(this.levelRankData, userData);\n            \n            // \n            this.saveLocalData();\n            \n            console.log('');\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    // \n    private updateUserDataInRank(rankData: RankData[], userData: RankData): void {\n        // \n        const index = rankData.findIndex(item => item.openid === userData.openid);\n        \n        if (index >= 0) {\n            // \n            rankData[index] = { ...rankData[index], ...userData };\n        } else {\n            // \n            rankData.push(userData);\n        }\n        \n        // \n        this.sortRankData(rankData, userData.coin > userData.level ? RankType.COIN : RankType.LEVEL);\n        \n        // \n        if (rankData.length > 100) {\n            rankData.length = 100;\n        }\n    }\n    \n    // \n    private extractScore(item: any, rankType: RankType): number {\n        if (!item) return 0;\n        \n        // KVDataList\n        if (item.KVDataList && item.KVDataList.length > 0) {\n            const key = rankType === RankType.COIN ? 'coin' : 'level';\n            const kvData = item.KVDataList.find(kv => kv.key === key);\n            if (kvData && kvData.value) {\n                return parseInt(kvData.value) || 0;\n            }\n        }\n        \n        // \n        if (rankType === RankType.COIN && item.coin) {\n            return parseInt(item.coin) || 0;\n        }\n        \n        if (rankType === RankType.LEVEL && item.level) {\n            return parseInt(item.level) || 0;\n        }\n        \n        return 0;\n    }\n    \n    // \n    private sortRankData(rankData: RankData[], rankType: RankType): void {\n        if (rankType === RankType.COIN) {\n            // \n            rankData.sort((a, b) => b.coin - a.coin);\n        } else if (rankType === RankType.LEVEL) {\n            // \n            rankData.sort((a, b) => {\n                if (a.level !== b.level) {\n                    return b.level - a.level;\n                }\n                return a.timestamp - b.timestamp;\n            });\n        }\n    }\n    \n    // \n    public addEventListener(eventType: RankEventType, callback: RankEventCallback): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners) {\n            listeners.push(callback);\n        }\n    }\n    \n    // \n    public removeEventListener(eventType: RankEventType, callback: RankEventCallback): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners) {\n            const index = listeners.indexOf(callback);\n            if (index >= 0) {\n                listeners.splice(index, 1);\n            }\n        }\n    }\n    \n    // \n    private triggerEvent(eventType: RankEventType, rankType: RankType, data?: RankData[], message?: string): void {\n        const listeners = this.eventListeners.get(eventType);\n        if (listeners) {\n            const param: RankEventParam = {\n                eventType,\n                rankType,\n                data,\n                message\n            };\n            \n            listeners.forEach(callback => {\n                try {\n                    callback(param);\n                } catch (error) {\n                    console.error(':', error);\n                }\n            });\n        }\n    }\n    \n    // \n    public getGroupRankData(shareTicket: string, rankType: RankType): void {\n        // \n        this.getWechatOpenDataContext().getGroupRankData(\n            shareTicket,\n            rankType,\n            (data) => {\n                console.log('');\n                // \n            },\n            (err) => {\n                console.error(':', err);\n            }\n        );\n    }\n    \n    // \n    public refreshRankData(rankType: RankType): void {\n        // \n        if (typeof window !== 'undefined' && window['wx']) {\n            this.refreshWechatRankData(rankType);\n        } else {\n            // \n            this.updateLocalUserData();\n            this.triggerEvent(RankEventType.REFRESH_SUCCESS, rankType, this.getRankData(rankType), '');\n        }\n    }\n    \n    // \n    private refreshWechatRankData(rankType: RankType): void {\n        // \n        this.updateLocalUserData();\n        \n        // \n        this.getWechatOpenDataContext().getFriendRankData(\n            rankType,\n            (data) => {\n                console.log('');\n                // \n            },\n            (err) => {\n                console.error(':', err);\n            }\n        );\n    }\n    \n    // \n    private processWechatRankData(data: any[], rankType: RankType): void {\n        try {\n            const rankData: RankData[] = [];\n            \n            data.forEach(item => {\n                // KVData\n                const coin = this.extractScore(item, RankType.COIN);\n                const level = this.extractScore(item, RankType.LEVEL);\n                \n                rankData.push({\n                    openid: item.openid || item.playerId,\n                    nickname: item.nickname || '',\n                    avatarUrl: item.avatarUrl || '',\n                    coin,\n                    level,\n                    timestamp: Date.now()\n                });\n            });\n            \n            // \n            this.sortRankData(rankData, rankType);\n            \n            // \n            if (rankType === RankType.COIN) {\n                this.coinRankData = rankData;\n            } else if (rankType === RankType.LEVEL) {\n                this.levelRankData = rankData;\n            }\n            \n            // \n            this.saveLocalData();\n            \n            // \n            this.triggerEvent(RankEventType.DATA_UPDATED, rankType, rankData);\n            \n            console.log(`${rankType === RankType.COIN ? '' : ''}: ${rankData.length}`);\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    // \n    public uploadUserDataToWechat(): void {\n        // \n        try {\n            const coinManager = CoinManager.getInstance();\n            const gameDataManager = GameDataManager.getInstance();\n            \n            const currentCoin = coinManager.getCurrentCoin();\n            const currentLevel = gameDataManager.loadLevel();\n            \n            // \n            this.getWechatOpenDataContext().uploadUserData(currentCoin, currentLevel);\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    // \n    public getUserRanking(rankType: RankType): number {\n        try {\n            // \n            const gameDataManager = GameDataManager.getInstance();\n            const userInfo = gameDataManager.getUserInfo();\n            \n            // \n            const rankData = this.getRankData(rankType);\n            \n            // \n            const index = rankData.findIndex(item => item.openid === userInfo.userId);\n            \n            // 1\n            return index >= 0 ? index + 1 : -1;\n        } catch (error) {\n            console.error(':', error);\n            return -1;\n        }\n    }\n}","import { _decorator, Component, Node, Button, Label, ScrollView, Sprite, UITransform, Size, Vec3, Toggle, ToggleContainer, Widget, instantiate, Prefab } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { UILayer } from './UILayer';\nimport { RankManager, RankData, RankType, RankEventType } from '../rank/RankManager';\nimport { RankItemUI } from './RankItemUI';\nimport { GameDataManager } from '../data/GameDataManager';\nimport CoinManager from '../coin/CoinManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('RankUI')\nexport class RankUI extends BaseUI {\n    // UI\n    public static readonly viewLayer = UILayer.UI;\n    \n    // \n    @property(Node)\n    closeButton: Node = null;\n    \n    // \n    @property(Node)\n    refreshButton: Node = null;\n    \n    // Tab\n    @property(ToggleContainer)\n    tabContainer: ToggleContainer = null;\n    \n    // Tab\n    @property(Toggle)\n    coinTab: Toggle = null;\n    \n    // Tab\n    @property(Toggle)\n    levelTab: Toggle = null;\n    \n    // \n    @property(ScrollView)\n    coinScrollView: ScrollView = null;\n    \n    // \n    @property(ScrollView)\n    levelScrollView: ScrollView = null;\n    \n    // \n    @property(Node)\n    playerInfoNode: Node = null;\n    \n    // \n    @property(Label)\n    playerRankLabel: Label = null;\n    \n    // \n    @property(Label)\n    playerNameLabel: Label = null;\n    \n    // \n    @property(Label)\n    playerValueLabel: Label = null;\n    \n    // \n    @property(Prefab)\n    rankItemPrefab: Prefab = null;\n    \n    // \n    private currentRankType: RankType = RankType.COIN;\n    \n    // \n    private coinContentNode: Node = null;\n    \n    // \n    private levelContentNode: Node = null;\n    \n    // \n    private coinRankItemUIs: RankItemUI[] = [];\n    \n    // \n    private levelRankItemUIs: RankItemUI[] = [];\n    \n    // \n    private rankManager: RankManager = null;\n    \n    protected start(): void {\n        // \n        this.rankManager = RankManager.getInstance();\n        \n        // \n        if (this.closeButton) {\n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        if (this.refreshButton) {\n            this.refreshButton.on(Node.EventType.TOUCH_END, this.onRefreshClick, this);\n        }\n        \n        // Tab\n        if (this.coinTab) {\n            this.coinTab.node.on(Toggle.EventType.TOGGLE, this.onCoinTabToggle, this);\n        }\n        \n        if (this.levelTab) {\n            this.levelTab.node.on(Toggle.EventType.TOGGLE, this.onLevelTabToggle, this);\n        }\n        \n        // \n        if (this.coinScrollView) {\n            this.coinContentNode = this.coinScrollView.content;\n        }\n        \n        if (this.levelScrollView) {\n            this.levelContentNode = this.levelScrollView.content;\n        }\n        \n        // \n        this.initRankUI();\n        \n        // \n        this.addRankEventListeners();\n    }\n    \n    /**\n     * \n     */\n    private initRankUI(): void {\n        // Tab\n        if (this.coinTab) {\n            this.coinTab.isChecked = true;\n        }\n        \n        // \n        this.updatePlayerInfo();\n        \n        // \n        this.loadRankData(RankType.COIN);\n    }\n    \n    /**\n     * \n     */\n    private addRankEventListeners(): void {\n        if (!this.rankManager) return;\n        \n        // \n        this.rankManager.addEventListener(RankEventType.DATA_UPDATED, (param) => {\n            if (param.rankType === this.currentRankType) {\n                this.updateRankUI(param.rankType);\n            }\n        });\n        \n        // \n        this.rankManager.addEventListener(RankEventType.REFRESH_SUCCESS, (param) => {\n            if (param.rankType === this.currentRankType) {\n                this.updateRankUI(param.rankType);\n                console.log(`: ${param.message}`);\n            }\n        });\n        \n        // \n        this.rankManager.addEventListener(RankEventType.REFRESH_FAILED, (param) => {\n            console.error(`: ${param.message}`);\n            // TODO: \n        });\n    }\n    \n    /**\n     * \n     * @param rankType \n     */\n    private loadRankData(rankType: RankType): void {\n        if (!this.rankManager) return;\n        \n        // \n        this.rankManager.refreshRankData(rankType);\n        \n        // UI\n        this.updateRankUI(rankType);\n    }\n    \n    /**\n     * UI\n     * @param rankType \n     */\n    private updateRankUI(rankType: RankType): void {\n        if (!this.rankManager) return;\n        \n        // \n        const rankData = this.rankManager.getRankData(rankType);\n        \n        // UI\n        if (rankType === RankType.COIN) {\n            this.updateCoinRankUI(rankData);\n        } else if (rankType === RankType.LEVEL) {\n            this.updateLevelRankUI(rankData);\n        }\n        \n        // \n        this.updatePlayerInfo();\n    }\n    \n    /**\n     * UI\n     * @param rankData \n     */\n    private updateCoinRankUI(rankData: RankData[]): void {\n        if (!this.coinContentNode || !this.rankItemPrefab) return;\n        \n        // \n        this.clearCoinRankItems();\n        \n        // \n        this.generateRankItems(rankData, this.coinContentNode, this.coinRankItemUIs);\n    }\n    \n    /**\n     * UI\n     * @param rankData \n     */\n    private updateLevelRankUI(rankData: RankData[]): void {\n        if (!this.levelContentNode || !this.rankItemPrefab) return;\n        \n        // \n        this.clearLevelRankItems();\n        \n        // \n        this.generateRankItems(rankData, this.levelContentNode, this.levelRankItemUIs);\n    }\n    \n    /**\n     * \n     * @param rankData \n     * @param contentNode \n     * @param rankItemUIs UI\n     */\n    private generateRankItems(rankData: RankData[], contentNode: Node, rankItemUIs: RankItemUI[]): void {\n        if (!contentNode || !this.rankItemPrefab) return;\n        \n        // \n        const itemHeight = 80;\n        const gapHeight = 10;\n        \n        // \n        const contentHeight = rankData.length * itemHeight + (rankData.length - 1) * gapHeight;\n        \n        // \n        const contentTransform = contentNode.getComponent(UITransform);\n        if (contentTransform) {\n            contentTransform.setContentSize(new Size(contentTransform.width, contentHeight));\n        }\n        \n        // \n        rankData.forEach((data, index) => {\n            this.createRankItem(data, this.currentRankType, index, contentNode, rankItemUIs);\n        });\n    }\n    \n    /**\n     * \n     * @param data \n     * @param rankType \n     * @param index \n     * @param contentNode \n     * @param rankItemUIs UI\n     */\n    private createRankItem(data: RankData, rankType: RankType, index: number, contentNode: Node, rankItemUIs: RankItemUI[]): void {\n        if (!contentNode || !this.rankItemPrefab) return;\n        \n        // \n        const rankItemNode = instantiate(this.rankItemPrefab);\n        \n        // \n        const itemHeight = 80;\n        const gapHeight = 10;\n        const yPos = -index * itemHeight - itemHeight / 2 - gapHeight * index;\n        rankItemNode.setPosition(new Vec3(0, yPos, 0));\n        \n        // \n        contentNode.addChild(rankItemNode);\n        \n        // RankItemUI\n        const rankItemUI = rankItemNode.getComponent(RankItemUI);\n        if (rankItemUI) {\n            // \n            rankItemUI.init(data, rankType, index);\n            \n            // \n            rankItemUIs.push(rankItemUI);\n        }\n    }\n    \n    /**\n     * \n     */\n    private clearCoinRankItems(): void {\n        if (!this.coinContentNode) return;\n        \n        // \n        this.coinRankItemUIs.forEach(rankItemUI => {\n            if (rankItemUI && rankItemUI.node) {\n                rankItemUI.node.destroy();\n            }\n        });\n        \n        // \n        this.coinRankItemUIs = [];\n        \n        // \n        const contentTransform = this.coinContentNode.getComponent(UITransform);\n        if (contentTransform) {\n            contentTransform.setContentSize(new Size(contentTransform.width, 0));\n        }\n    }\n    \n    /**\n     * \n     */\n    private clearLevelRankItems(): void {\n        if (!this.levelContentNode) return;\n        \n        // \n        this.levelRankItemUIs.forEach(rankItemUI => {\n            if (rankItemUI && rankItemUI.node) {\n                rankItemUI.node.destroy();\n            }\n        });\n        \n        // \n        this.levelRankItemUIs = [];\n        \n        // \n        const contentTransform = this.levelContentNode.getComponent(UITransform);\n        if (contentTransform) {\n            contentTransform.setContentSize(new Size(contentTransform.width, 0));\n        }\n    }\n    \n    /**\n     * \n     */\n    private updatePlayerInfo(): void {\n        if (!this.rankManager || !this.playerRankLabel || !this.playerNameLabel || !this.playerValueLabel) return;\n        \n        // \n        const userRanking = this.rankManager.getUserRanking(this.currentRankType);\n        \n        // \n        const gameDataManager = GameDataManager.getInstance();\n        const userInfo = gameDataManager.getUserInfo();\n        \n        // \n        let value = 0;\n        if (this.currentRankType === RankType.COIN) {\n            const coinManager = CoinManager.getInstance();\n            value = coinManager.getCurrentCoin();\n        } else if (this.currentRankType === RankType.LEVEL) {\n            value = gameDataManager.loadLevel();\n        }\n        \n        // \n        this.playerRankLabel.string = userRanking > 0 ? `${userRanking}` : '';\n        this.playerNameLabel.string = userInfo.username || '';\n        \n        if (this.currentRankType === RankType.COIN) {\n            this.playerValueLabel.string = `${value} `;\n        } else if (this.currentRankType === RankType.LEVEL) {\n            this.playerValueLabel.string = ` ${value} `;\n        }\n    }\n    \n    /**\n     * Tab\n     */\n    private onCoinTabToggle(): void {\n        if (!this.coinTab || !this.coinTab.isChecked) return;\n        \n        // \n        this.currentRankType = RankType.COIN;\n        \n        // \n        if (this.coinScrollView) {\n            this.coinScrollView.node.active = true;\n        }\n        \n        if (this.levelScrollView) {\n            this.levelScrollView.node.active = false;\n        }\n        \n        // \n        this.loadRankData(RankType.COIN);\n    }\n    \n    /**\n     * Tab\n     */\n    private onLevelTabToggle(): void {\n        if (!this.levelTab || !this.levelTab.isChecked) return;\n        \n        // \n        this.currentRankType = RankType.LEVEL;\n        \n        // \n        if (this.coinScrollView) {\n            this.coinScrollView.node.active = false;\n        }\n        \n        if (this.levelScrollView) {\n            this.levelScrollView.node.active = true;\n        }\n        \n        // \n        this.loadRankData(RankType.LEVEL);\n    }\n    \n    /**\n     * \n     */\n    private onRefreshClick(): void {\n        // \n        this.loadRankData(this.currentRankType);\n    }\n    \n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('RankUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('RankUI: ');\n        }\n        \n        // \n        this.hide();\n    }\n    \n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        if (this.refreshButton) {\n            this.refreshButton.off(Node.EventType.TOUCH_END, this.onRefreshClick, this);\n        }\n        \n        // Tab\n        if (this.coinTab) {\n            this.coinTab.node.off(Toggle.EventType.TOGGLE, this.onCoinTabToggle, this);\n        }\n        \n        if (this.levelTab) {\n            this.levelTab.node.off(Toggle.EventType.TOGGLE, this.onLevelTabToggle, this);\n        }\n        \n        // \n        if (this.rankManager) {\n            this.rankManager.removeEventListener(RankEventType.DATA_UPDATED, (param) => {\n                if (param.rankType === this.currentRankType) {\n                    this.updateRankUI(param.rankType);\n                }\n            });\n            \n            this.rankManager.removeEventListener(RankEventType.REFRESH_SUCCESS, (param) => {\n                if (param.rankType === this.currentRankType) {\n                    this.updateRankUI(param.rankType);\n                    console.log(`: ${param.message}`);\n                }\n            });\n            \n            this.rankManager.removeEventListener(RankEventType.REFRESH_FAILED, (param) => {\n                console.error(`: ${param.message}`);\n            });\n        }\n        \n        // \n        this.clearCoinRankItems();\n        this.clearLevelRankItems();\n        \n        super.onDestroy();\n    }\n}","declare global {\n    interface IBundleUrl {\n        /** */\n        bundleName: string,\n        /** */\n        url: string,\n        /** */\n        id: string,\n    }\n}\n\n/**\n * Bundle\n * @param url \n * @param bundleName bundle\n * @param key \n */\nexport function createBundleObject(url: string, bundleName: string, key?: string): IBundleUrl {\n    let obj: IBundleUrl = Object.create(null);\n    obj.bundleName = bundleName;\n    obj.url = url;\n    obj.id = `${bundleName}/${url}`;\n    return obj;\n}","import { Asset, Burst, Component, Constructor, Prefab, SpriteFrame, assert } from \"cc\";\nimport { getUIClassBUrl } from \"../ui/UIManager\";\nimport { DestoryHook } from \"./DestoryHook\";\n\n/**\n * \n */\nexport class ResLoader {\n\n    /** */\n    private toLoadAssets: { type: Constructor<Asset> | null, bUrl: IBundleUrl }[] = [];\n\n    /** */\n    private loadedAssets: Asset[] = [];\n\n    /** */\n    private m_Released: boolean = false;\n\n    /** */\n    public addSpriteFrame(bUrl: IBundleUrl) {\n        return this.addAsset(bUrl, SpriteFrame);\n    }\n\n    /**UI */\n    public addUI<UI extends Component>(uiClass: Constructor<UI>) {\n        const bUrl = getUIClassBUrl(uiClass);\n        // bundleURL\n        if (bUrl.bundleName && bUrl.url) {\n            this.addAsset(bUrl, Prefab);\n        }\n        if (typeof uiClass['R'] == \"function\") {\n            (uiClass['R'] as Function).call(uiClass, this);\n        }\n        return this;\n    }\n\n    /** */\n    public addAsset(bUrl: IBundleUrl, type: Constructor<Asset> | null) {\n        this.toLoadAssets.push({\n            type: type,\n            bUrl: bUrl\n        });\n        return this;\n    }\n\n    public async load() {\n        let toLoadPromises = this.toLoadAssets.map(toLoad => gCtrl.res.loadAssetAsync(toLoad.bUrl, toLoad.type));\n        let toLoadResults = await Promise.all(toLoadPromises);\n        toLoadResults.forEach(asset => {\n            //\n            asset.addRef();\n            if (!this.m_Released) {\n                this.loadedAssets.push(asset);\n            } else {\n                asset.decRef();\n            }\n        })\n    }\n\n    /** */\n    public releaseResRef() {\n        if (this.m_Released) {\n            return;\n        }\n        this.m_Released = true;\n        while (this.loadedAssets.length > 0) {\n            this.loadedAssets.pop().decRef(true);\n        }\n    }\n\n    /** */\n    public autoRelease(comp: Component) {\n        comp.node.addComponent(DestoryHook).addHook(() => {\n            this.releaseResRef();\n        });\n        return this;\n    }\n}\n","import { Asset, AssetManager, AudioClip, Constructor, Prefab, assetManager } from \"cc\";\nimport { BundleDownloadManager } from \"../bundle/BundleDownloadManager\";\n\n/** */\nexport class ResManager {\n    private bundleDownloadManager: BundleDownloadManager = BundleDownloadManager.getInstance();\n\n    /**\n     * bundle\n     * @param bundleName \n     * @param callback \n     */\n    public loadBundle(bundleName: string, callback?: (bundle: AssetManager.Bundle) => void) {\n        // \n        if (this.bundleDownloadManager.isBundleDownloaded(bundleName)) {\n            // bundle\n            const bundle = assetManager.getBundle(bundleName);\n            if (bundle) {\n                callback && callback(bundle);\n                return;\n            }\n        }\n        \n        // \n        assetManager.loadBundle(bundleName, (e, bundle) => {\n            if (!e) {\n                // \n                this.bundleDownloadManager['downloadedBundles'].add(bundleName);\n            }\n            callback && callback(bundle);\n        });\n    }\n\n    /**\n     * AssetManager.Bundle\n     * @param bundleName \n     */\n    public loadBundleAsync(bundleName: string): Promise<AssetManager.Bundle> {\n        return new Promise<AssetManager.Bundle>(resolve => {\n            this.loadBundle(bundleName, resolve);\n        })\n    }\n\n\n    /** */\n    public loadAssetAsync<T extends Asset>(bUrl: IBundleUrl, type: Constructor<T> | null) {\n        return new Promise<T>(resolve => {\n            this.loadAsset(bUrl, type, resolve as any);\n        })\n    }\n\n\n    /**\n     * \n     * @param bUrl \n     * @param type \n     * @param callBack \n     */\n    public loadAsset<T extends Asset>(bUrl: IBundleUrl, type: Constructor<T> | null, callBack: (asset: T | null) => void) {\n        assetManager.loadBundle(bUrl.bundleName, (e, bundle) => {\n            bundle.load(bUrl.url, type, (err, _asset) => {\n                if (err) {\n                    console.error(err);\n                    return callBack(null);\n                }\n                callBack(_asset);\n            })\n        })\n    }\n\n    /** */\n    public getAsset<T extends Asset>(bUrl: IBundleUrl, type: Constructor<T> | null): T {\n        let assetBundle = assetManager.getBundle(bUrl.bundleName);\n        return assetBundle.get(bUrl.url, type);\n    }\n\n    /**\n     * \n     */\n    public async preloadAllBundles(): Promise<void> {\n        return this.bundleDownloadManager.autoDownloadAllBundles();\n    }\n}","import { _decorator, sys } from 'cc';\n\n/**\n * \n */\nexport enum SettingType {\n    SOUND = 'sound',          // \n    MUSIC = 'music',          // \n    GRAPHICS = 'graphics',    // \n    CONTROL = 'control',      // \n    LANGUAGE = 'language',    // \n    NOTIFICATION = 'notification' // \n}\n\n/**\n * \n */\nexport interface SoundSetting {\n    enabled: boolean;         // \n    volume: number;           //  (0-1)\n}\n\n/**\n * \n */\nexport interface MusicSetting {\n    enabled: boolean;         // \n    volume: number;           //  (0-1)\n}\n\n/**\n * \n */\nexport interface GraphicsSetting {\n    quality: string;          // \n    fps: number;              // \n}\n\n/**\n * \n */\nexport interface ControlSetting {\n    vibration: boolean;       // \n    sensitivity: number;      //  (0-1)\n}\n\n/**\n * \n */\nexport interface LanguageSetting {\n    code: string;             // \n    region: string;           // \n}\n\n/**\n * \n */\nexport interface NotificationSetting {\n    enabled: boolean;         // \n    sound: boolean;           // \n    vibration: boolean;       // \n}\n\n/**\n * \n */\nexport enum SettingEventType {\n    SETTING_CHANGED = 'setting_changed',     // \n    SETTING_RESET = 'setting_reset',         // \n    SETTING_LOADED = 'setting_loaded'        // \n}\n\n/**\n * \n */\nexport interface SettingEvent {\n    type: SettingEventType;\n    settingType?: SettingType;\n    data?: any;\n}\n\n/**\n * \n */\nexport type SettingEventCallback = (event: SettingEvent) => void;\n\n/**\n * \n * \n */\nexport class SettingManager {\n    private static _instance: SettingManager;\n    \n    // \n    private static readonly SETTING_KEY = \"game_setting_data\";\n    \n    // \n    private _soundSetting: SoundSetting = { enabled: true, volume: 0.8 };\n    private _musicSetting: MusicSetting = { enabled: true, volume: 0.7 };\n    private _graphicsSetting: GraphicsSetting = { quality: 'high', fps: 60 };\n    private _controlSetting: ControlSetting = { vibration: true, sensitivity: 0.5 };\n    private _languageSetting: LanguageSetting = { code: 'zh', region: 'CN' };\n    private _notificationSetting: NotificationSetting = { enabled: true, sound: true, vibration: true };\n    \n    // \n    private _eventListeners: Map<SettingEventType, SettingEventCallback[]> = new Map<SettingEventType, SettingEventCallback[]>();\n    \n    /**\n     * SettingManager\n     */\n    public static getInstance(): SettingManager {\n        if (!this._instance) {\n            this._instance = new SettingManager();\n        }\n        return this._instance;\n    }\n\n    /**\n     * \n     */\n    private constructor() {\n        // \n        Object.keys(SettingEventType).forEach((key: string) => {\n            const type = SettingEventType[key as keyof typeof SettingEventType];\n            this._eventListeners.set(type, []);\n        });\n    }\n\n    /**\n     * \n     */\n    public init(): void {\n        console.log('SettingManager: ');\n        this.loadSettingData();\n    }\n\n    /**\n     * \n     */\n    private loadSettingData(): void {\n        try {\n            const data = sys.localStorage.getItem(SettingManager.SETTING_KEY);\n            if (data) {\n                const parsedData = JSON.parse(data);\n                \n                // \n                if (this.validateSettingData(parsedData)) {\n                    // \n                    if (parsedData.sound) {\n                        this._soundSetting = this.validateSoundSetting(parsedData.sound);\n                    }\n                    if (parsedData.music) {\n                        this._musicSetting = this.validateMusicSetting(parsedData.music);\n                    }\n                    if (parsedData.graphics) {\n                        this._graphicsSetting = this.validateGraphicsSetting(parsedData.graphics);\n                    }\n                    if (parsedData.control) {\n                        this._controlSetting = this.validateControlSetting(parsedData.control);\n                    }\n                    if (parsedData.language) {\n                        this._languageSetting = this.validateLanguageSetting(parsedData.language);\n                    }\n                    if (parsedData.notification) {\n                        this._notificationSetting = this.validateNotificationSetting(parsedData.notification);\n                    }\n                    \n                    console.log('SettingManager: ');\n                    this.triggerEvent({ type: SettingEventType.SETTING_LOADED });\n                } else {\n                    console.warn('SettingManager: ');\n                    this.saveSettingData(); // \n                }\n            } else {\n                console.log('SettingManager: ');\n                this.saveSettingData(); // \n            }\n        } catch (error) {\n            console.error('SettingManager: ', error);\n            this.saveSettingData(); // \n        }\n    }\n\n    /**\n     * \n     */\n    private saveSettingData(): void {\n        try {\n            const data = {\n                sound: this._soundSetting,\n                music: this._musicSetting,\n                graphics: this._graphicsSetting,\n                control: this._controlSetting,\n                language: this._languageSetting,\n                notification: this._notificationSetting\n            };\n            sys.localStorage.setItem(SettingManager.SETTING_KEY, JSON.stringify(data));\n        } catch (error) {\n            console.error('SettingManager: ', error);\n        }\n    }\n\n    /**\n     * \n     */\n    public getSoundSetting(): SoundSetting {\n        return { ...this._soundSetting }; // \n    }\n\n    /**\n     * \n     */\n    public getMusicSetting(): MusicSetting {\n        return { ...this._musicSetting }; // \n    }\n\n    /**\n     * \n     */\n    public getGraphicsSetting(): GraphicsSetting {\n        return { ...this._graphicsSetting }; // \n    }\n\n    /**\n     * \n     */\n    public getControlSetting(): ControlSetting {\n        return { ...this._controlSetting }; // \n    }\n\n    /**\n     * \n     */\n    public getLanguageSetting(): LanguageSetting {\n        return { ...this._languageSetting }; // \n    }\n\n    /**\n     * \n     */\n    public getNotificationSetting(): NotificationSetting {\n        return { ...this._notificationSetting }; // \n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateSoundSetting(setting: Partial<SoundSetting>): void {\n        const oldSetting = { ...this._soundSetting };\n        this._soundSetting = { ...this._soundSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.SOUND,\n            data: { oldSetting, newSetting: this._soundSetting }\n        });\n    }\n\n    /**\n     * \n     * @param enabled \n     */\n    public setSoundEnabled(enabled: boolean): void {\n        this.updateSoundSetting({ enabled });\n    }\n\n    /**\n     * \n     * @param volume  (0-1)\n     */\n    public setSoundVolume(volume: number): void {\n        // \n        volume = Math.max(0, Math.min(1, volume));\n        this.updateSoundSetting({ volume });\n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateMusicSetting(setting: Partial<MusicSetting>): void {\n        const oldSetting = { ...this._musicSetting };\n        this._musicSetting = { ...this._musicSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.MUSIC,\n            data: { oldSetting, newSetting: this._musicSetting }\n        });\n    }\n\n    /**\n     * \n     * @param enabled \n     */\n    public setMusicEnabled(enabled: boolean): void {\n        this.updateMusicSetting({ enabled });\n    }\n\n    /**\n     * \n     * @param volume  (0-1)\n     */\n    public setMusicVolume(volume: number): void {\n        // \n        volume = Math.max(0, Math.min(1, volume));\n        this.updateMusicSetting({ volume });\n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateGraphicsSetting(setting: Partial<GraphicsSetting>): void {\n        const oldSetting = { ...this._graphicsSetting };\n        this._graphicsSetting = { ...this._graphicsSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.GRAPHICS,\n            data: { oldSetting, newSetting: this._graphicsSetting }\n        });\n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateControlSetting(setting: Partial<ControlSetting>): void {\n        const oldSetting = { ...this._controlSetting };\n        this._controlSetting = { ...this._controlSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.CONTROL,\n            data: { oldSetting, newSetting: this._controlSetting }\n        });\n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateLanguageSetting(setting: Partial<LanguageSetting>): void {\n        const oldSetting = { ...this._languageSetting };\n        this._languageSetting = { ...this._languageSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.LANGUAGE,\n            data: { oldSetting, newSetting: this._languageSetting }\n        });\n    }\n\n    /**\n     * \n     * @param setting \n     */\n    public updateNotificationSetting(setting: Partial<NotificationSetting>): void {\n        const oldSetting = { ...this._notificationSetting };\n        this._notificationSetting = { ...this._notificationSetting, ...setting };\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_CHANGED, \n            settingType: SettingType.NOTIFICATION,\n            data: { oldSetting, newSetting: this._notificationSetting }\n        });\n    }\n\n    /**\n     * \n     */\n    public resetAllSettings(): void {\n        const oldSettings = {\n            sound: { ...this._soundSetting },\n            music: { ...this._musicSetting },\n            graphics: { ...this._graphicsSetting },\n            control: { ...this._controlSetting },\n            language: { ...this._languageSetting },\n            notification: { ...this._notificationSetting }\n        };\n\n        // \n        this._soundSetting = { enabled: true, volume: 0.8 };\n        this._musicSetting = { enabled: true, volume: 0.7 };\n        this._graphicsSetting = { quality: 'high', fps: 60 };\n        this._controlSetting = { vibration: true, sensitivity: 0.5 };\n        this._languageSetting = { code: 'zh', region: 'CN' };\n        this._notificationSetting = { enabled: true, sound: true, vibration: true };\n\n        this.saveSettingData();\n        this.triggerEvent({ \n            type: SettingEventType.SETTING_RESET,\n            data: { oldSettings, newSettings: this.getAllSettings() }\n        });\n    }\n\n    /**\n     * \n     */\n    public getAllSettings(): {\n        sound: SoundSetting;\n        music: MusicSetting;\n        graphics: GraphicsSetting;\n        control: ControlSetting;\n        language: LanguageSetting;\n        notification: NotificationSetting;\n    } {\n        return {\n            sound: { ...this._soundSetting },\n            music: { ...this._musicSetting },\n            graphics: { ...this._graphicsSetting },\n            control: { ...this._controlSetting },\n            language: { ...this._languageSetting },\n            notification: { ...this._notificationSetting }\n        };\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param callback \n     */\n    public addEventListener(eventType: SettingEventType, callback: SettingEventCallback): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            // \n            let exists = false;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listeners[i] === callback) {\n                    exists = true;\n                    break;\n                }\n            }\n            if (!exists) {\n                listeners.push(callback);\n            }\n        }\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param callback \n     */\n    public removeEventListener(eventType: SettingEventType, callback: SettingEventCallback): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            for (let i = 0; i < listeners.length; i++) {\n                if (listeners[i] === callback) {\n                    listeners.splice(i, 1);\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * \n     * @param event \n     */\n    private triggerEvent(event: SettingEvent): void {\n        const listeners = this._eventListeners.get(event.type);\n        if (listeners && listeners.length > 0) {\n            listeners.forEach(callback => {\n                try {\n                    callback(event);\n                } catch (error) {\n                    console.error('SettingManager: ', error);\n                }\n            });\n        }\n    }\n\n    /**\n     * \n     * @param data \n     * @returns \n     */\n    private validateSettingData(data: any): boolean {\n        if (!data || typeof data !== 'object') {\n            return false;\n        }\n        \n        // \n        const validTypes = ['sound', 'music', 'graphics', 'control', 'language', 'notification'];\n        return validTypes.some(type => type in data && typeof data[type] === 'object');\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateSoundSetting(setting: any): SoundSetting {\n        const validated: SoundSetting = { ...this._soundSetting };\n        \n        if (typeof setting.enabled === 'boolean') {\n            validated.enabled = setting.enabled;\n        }\n        \n        if (typeof setting.volume === 'number') {\n            validated.volume = Math.max(0, Math.min(1, setting.volume));\n        }\n        \n        return validated;\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateMusicSetting(setting: any): MusicSetting {\n        const validated: MusicSetting = { ...this._musicSetting };\n        \n        if (typeof setting.enabled === 'boolean') {\n            validated.enabled = setting.enabled;\n        }\n        \n        if (typeof setting.volume === 'number') {\n            validated.volume = Math.max(0, Math.min(1, setting.volume));\n        }\n        \n        return validated;\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateGraphicsSetting(setting: any): GraphicsSetting {\n        const validated: GraphicsSetting = { ...this._graphicsSetting };\n        \n        if (typeof setting.quality === 'string') {\n            validated.quality = setting.quality;\n        }\n        \n        if (typeof setting.fps === 'number') {\n            validated.fps = Math.max(30, Math.min(120, setting.fps));\n        }\n        \n        return validated;\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateControlSetting(setting: any): ControlSetting {\n        const validated: ControlSetting = { ...this._controlSetting };\n        \n        if (typeof setting.vibration === 'boolean') {\n            validated.vibration = setting.vibration;\n        }\n        \n        if (typeof setting.sensitivity === 'number') {\n            validated.sensitivity = Math.max(0, Math.min(1, setting.sensitivity));\n        }\n        \n        return validated;\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateLanguageSetting(setting: any): LanguageSetting {\n        const validated: LanguageSetting = { ...this._languageSetting };\n        \n        if (typeof setting.code === 'string') {\n            validated.code = setting.code;\n        }\n        \n        if (typeof setting.region === 'string') {\n            validated.region = setting.region;\n        }\n        \n        return validated;\n    }\n\n    /**\n     * \n     * @param setting \n     * @returns \n     */\n    private validateNotificationSetting(setting: any): NotificationSetting {\n        const validated: NotificationSetting = { ...this._notificationSetting };\n        \n        if (typeof setting.enabled === 'boolean') {\n            validated.enabled = setting.enabled;\n        }\n        \n        if (typeof setting.sound === 'boolean') {\n            validated.sound = setting.sound;\n        }\n        \n        if (typeof setting.vibration === 'boolean') {\n            validated.vibration = setting.vibration;\n        }\n        \n        return validated;\n    }\n}","import { _decorator, Component, Node, Button, Label, Slider, Toggle } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { SettingManager } from '../setting/SettingManager';\nimport { UILayer } from './UILayer';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('SettingUI')\nexport class SettingUI extends BaseUI {\n    public static readonly viewLayer = UILayer.UI;\n    // \n    @property(Toggle)\n    bgmToggle: Toggle = null;\n\n    // \n    @property(Slider)\n    bgmSlider: Slider = null;\n\n    // \n    @property(Toggle)\n    effectsToggle: Toggle = null;\n\n    // \n    @property(Slider)\n    effectsSlider: Slider = null;\n\n    // \n    @property(Node)\n    saveButton: Node = null;\n\n    // \n    @property(Node)\n    closeButton: Node = null;\n\n    // \n    private settingManager: SettingManager = null;\n\n    protected onLoad(): void {\n        // \n        this.settingManager = SettingManager.getInstance();\n        \n        // \n        if (this.saveButton) {\n            this.saveButton.on(Node.EventType.TOUCH_END, this.onSaveClick, this);\n        }\n        \n        if (this.closeButton) {\n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        if (this.bgmSlider) {\n            this.bgmSlider.node.on('slide', this.onBgmVolumeChange, this);\n        }\n        \n        if (this.effectsSlider) {\n            this.effectsSlider.node.on('slide', this.onEffectsVolumeChange, this);\n        }\n        \n        // \n        if (this.bgmToggle) {\n            this.bgmToggle.node.on(Toggle.EventType.TOGGLE, this.onBgmToggleChange, this);\n        }\n        \n        if (this.effectsToggle) {\n            this.effectsToggle.node.on(Toggle.EventType.TOGGLE, this.onEffectsToggleChange, this);\n        }\n        \n        // \n        this.initSettingUI();\n    }\n\n    /**\n     * \n     */\n    private initSettingUI() {\n        if (!this.settingManager) {\n            console.error('SettingUI: ');\n            return;\n        }\n        \n        // SettingManager\n        const musicSetting = this.settingManager.getMusicSetting();\n        const soundSetting = this.settingManager.getSoundSetting();\n        \n        // \n        if (this.bgmToggle) {\n            this.bgmToggle.isChecked = musicSetting.enabled;\n        }\n        \n        if (this.bgmSlider) {\n            this.bgmSlider.progress = musicSetting.volume;\n        }\n        \n        if (this.effectsToggle) {\n            this.effectsToggle.isChecked = soundSetting.enabled;\n        }\n        \n        if (this.effectsSlider) {\n            this.effectsSlider.progress = soundSetting.volume;\n        }\n        \n        console.log('SettingUI initialized with current settings');\n    }\n\n    /**\n     * \n     */\n    private onBgmToggleChange() {\n        if (!this.bgmToggle || !this.settingManager) return;\n        \n        const isEnabled = this.bgmToggle.isChecked;\n        // \n        this.settingManager.setMusicEnabled(isEnabled);\n        console.log(`BGM toggle: ${isEnabled}`);\n    }\n\n    /**\n     * \n     */\n    private onBgmVolumeChange() {\n        if (!this.bgmSlider || !this.settingManager) return;\n        \n        const volume = this.bgmSlider.progress;\n        // \n        this.settingManager.setMusicVolume(volume);\n        console.log(`BGM volume: ${volume}`);\n    }\n\n    /**\n     * \n     */\n    private onEffectsToggleChange() {\n        if (!this.effectsToggle || !this.settingManager) return;\n        \n        const isEnabled = this.effectsToggle.isChecked;\n        // \n        this.settingManager.setSoundEnabled(isEnabled);\n        console.log(`Effects toggle: ${isEnabled}`);\n    }\n\n    /**\n     * \n     */\n    private onEffectsVolumeChange() {\n        if (!this.effectsSlider || !this.settingManager) return;\n        \n        const volume = this.effectsSlider.progress;\n        // \n        this.settingManager.setSoundVolume(volume);\n        console.log(`Effects volume: ${volume}`);\n    }\n\n    /**\n     * \n     */\n    private onSaveClick() {\n        if (!this.settingManager) {\n            console.error('SettingUI: ');\n            return;\n        }\n        \n        // \n        console.log('Settings saved');\n\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('SettingUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('SettingUI: ');\n        }\n        \n        // \n        this.hide();\n    }\n\n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('SettingUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('SettingUI: ');\n        }\n        \n        // \n        this.hide();\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.saveButton) {\n            this.saveButton.off(Node.EventType.TOUCH_END, this.onSaveClick, this);\n        }\n        \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        if (this.bgmSlider) {\n            this.bgmSlider.node.off('slide', this.onBgmVolumeChange, this);\n        }\n        \n        if (this.effectsSlider) {\n            this.effectsSlider.node.off('slide', this.onEffectsVolumeChange, this);\n        }\n        \n        // \n        if (this.bgmToggle) {\n            this.bgmToggle.node.off(Toggle.EventType.TOGGLE, this.onBgmToggleChange, this);\n        }\n        \n        if (this.effectsToggle) {\n            this.effectsToggle.node.off(Toggle.EventType.TOGGLE, this.onEffectsToggleChange, this);\n        }\n        \n        super.onDestroy();\n    }\n}","import { _decorator } from 'cc';\nimport CoinManager from '../coin/CoinManager';\nimport { OpenDataManager } from '../rank/OpenDataManager';\nimport { ToastManager } from '../ui/ToastManager';\nimport InteractiveDataManager from '../interactive/InteractiveDataManager';\n\nconst { ccclass } = _decorator;\n\n/**\n * \n * \n */\n@ccclass('ShareManager')\nexport class ShareManager {\n    private static _instance: ShareManager = null;\n    \n    /**\n     * \n     */\n    public static getInstance(): ShareManager {\n        if (!ShareManager._instance) {\n            ShareManager._instance = new ShareManager();\n        }\n        return ShareManager._instance;\n    }\n    \n    private constructor() {\n        // \n    }\n    \n    /**\n     * \n     * \n     */\n    public init(): void {\n        console.log('ShareManager: ');\n        \n        // \n        if (typeof wx !== 'undefined') {\n            // \n            const launchOptions = (wx as any).getLaunchOptionsSync();\n            console.log('ShareManager: :', launchOptions);\n            \n            // shareOpenid\n            if (launchOptions.query && launchOptions.query.from === 'share' && launchOptions.query.shareOpenid) {\n                const coins = parseInt(launchOptions.query.coins) || 1000;\n                const shareOpenid = launchOptions.query.shareOpenid;\n                \n                console.log(`ShareManager: openid: ${shareOpenid}${coins}`);\n                \n                // \n                this.handleShareReward(coins, shareOpenid);\n            }\n            \n            // \n            this.setupGlobalShareMessage();\n        } else {\n            console.log('ShareManager: ');\n        }\n    }\n    \n    /**\n     * \n     */\n    private setupGlobalShareMessage(): void {\n        if (typeof wx !== 'undefined') {\n            // \n            (wx as any).onShareAppMessage(() => {\n                return {\n                    title: '',\n                    imageUrl: '', // \n                    query: 'from=share&coins=500' // 500\n                };\n            });\n            \n            console.log('ShareManager: ');\n        }\n    }\n    \n    /**\n     * \n     * @param coins \n     * @param shareOpenid openid\n     */\n    private handleShareReward(coins: number, shareOpenid?: string): void {\n        try {\n            // wx.getOpenId API\n            if (typeof wx !== 'undefined') {\n                // openid\n                this.getOpenid().then(currentOpenid => {\n                    // \n                    if (currentOpenid === shareOpenid) {\n                        console.log('ShareManager: ');\n                        return;\n                    }\n                    \n                    // \n                    const hasReceivedFromShareOpenid = this.hasReceivedFromShareOpenid(shareOpenid);\n                    if (hasReceivedFromShareOpenid) {\n                        console.log(`ShareManager:  ${shareOpenid} `);\n                        return;\n                    }\n                    \n                    // getUserInteractiveStorage\n                    // \n                    this.giveShareReward(coins);\n                    \n                    // openid\n                    if (shareOpenid) {\n                        this.sendInteractiveToShareSender(shareOpenid, coins);\n                        // \n                        this.recordShareRewardReceived(shareOpenid);\n                    }\n                    \n                    // \n                    const today = new Date().toDateString();\n                    const shareRewardCount = parseInt(localStorage.getItem('shareRewardCount') || '0') + 1;\n                    localStorage.setItem('lastShareDate', today);\n                    localStorage.setItem('shareRewardCount', shareRewardCount.toString());\n                    \n                    // \n                    this.updateShareRewardRecord(today, shareRewardCount);\n                }).catch(error => {\n                    console.error('ShareManager: openid:', error);\n                    // openid\n                    this.checkLocalShareReward(coins, shareOpenid);\n                });\n            } else {\n                // \n                this.giveShareReward(coins);\n            }\n        } catch (error) {\n            console.error('ShareManager: :', error);\n            // \n            this.checkLocalShareReward(coins, shareOpenid);\n        }\n    }\n    \n    /**\n     * \n     * @param coins \n     * @param shareOpenid openid\n     * @param currentOpenid openid\n     */\n    private checkLocalShareReward(coins: number, shareOpenid?: string, currentOpenid?: string): void {\n        try {\n            // \n            if (currentOpenid && shareOpenid && currentOpenid === shareOpenid) {\n                console.log('ShareManager: ()');\n                return;\n            }\n            \n            // \n            if (shareOpenid && this.hasReceivedFromShareOpenid(shareOpenid)) {\n                console.log(`ShareManager:  ${shareOpenid} ()`);\n                return;\n            }\n            \n            // currentOpenid\n            if (!currentOpenid && shareOpenid) {\n                this.getOpenid().then(openid => {\n                    // currentOpenid\n                    this.checkLocalShareReward(coins, shareOpenid, openid);\n                }).catch(error => {\n                    console.error('ShareManager: openid:', error);\n                    // openid\n                    this.checkLocalShareRewardInternal(coins, shareOpenid);\n                });\n                return;\n            }\n            \n            // \n            this.checkLocalShareRewardInternal(coins, shareOpenid);\n        } catch (error) {\n            console.error('ShareManager: :', error);\n            // \n            this.giveShareReward(coins);\n        }\n    }\n    \n    /**\n     * \n     * @param coins \n     * @param shareOpenid openid\n     */\n    private checkLocalShareRewardInternal(coins: number, shareOpenid?: string): void {\n        try {\n            // \n            if (shareOpenid && this.hasReceivedFromShareOpenid(shareOpenid)) {\n                console.log(`ShareManager:  ${shareOpenid} ()`);\n                return;\n            }\n            \n            // \n            this.giveShareReward(coins);\n            \n            // openid\n            if (shareOpenid) {\n                this.sendInteractiveToShareSender(shareOpenid, coins);\n                // \n                this.recordShareRewardReceived(shareOpenid);\n            }\n            \n            // \n            const today = new Date().toDateString();\n            const shareRewardCount = parseInt(localStorage.getItem('shareRewardCount') || '0') + 1;\n            localStorage.setItem('lastShareDate', today);\n            localStorage.setItem('shareRewardCount', shareRewardCount.toString());\n            \n            // \n            this.updateShareRewardRecord(today, shareRewardCount);\n        } catch (error) {\n            console.error('ShareManager: :', error);\n            // \n            this.giveShareReward(coins);\n        }\n    }\n    \n    /**\n     * openid\n     */\n    private getOpenid(): Promise<string> {\n        return new Promise((resolve, reject) => {\n            // openid\n            try {\n                const cachedOpenid = wx.getStorageSync('openid');\n                if (cachedOpenid && !cachedOpenid.startsWith('mock_')) {\n                    console.log(\"ShareManager: openid\");\n                    resolve(cachedOpenid);\n                    return;\n                }\n            } catch (error) {\n                console.error(\"ShareManager: openid:\", error);\n            }\n            \n            // openidwx.login\n            wx.login({\n                success: (res) => {\n                    if (res.code) {\n                        // APIopenid\n                        this.getOpenidFromServer(res.code).then(openid => {\n                            // openid\n                            try {\n                                wx.setStorageSync('openid', openid);\n                                console.log(\"ShareManager: openid\");\n                            } catch (error) {\n                                console.error(\"ShareManager: openid:\", error);\n                            }\n                            resolve(openid);\n                        }).catch(error => {\n                            console.error(\"ShareManager: openid:\", error);\n                            // APIopenid\n                            const mockOpenid = `mock_openid_${Date.now()}`;\n                            try {\n                                wx.setStorageSync('openid', mockOpenid);\n                                console.log(\"ShareManager: openid\");\n                            } catch (error) {\n                                console.error(\"ShareManager: openid:\", error);\n                            }\n                            resolve(mockOpenid);\n                        });\n                    } else {\n                        console.error(\"ShareManager: wx.login:\", res.errMsg);\n                        reject(new Error(\"openid\"));\n                    }\n                },\n                fail: (error) => {\n                    console.error(\"ShareManager: wx.login:\", error);\n                    reject(new Error(\"openid\"));\n                }\n            });\n        });\n    }\n    \n    /**\n     * openid\n     * @param code wx.logincode\n     * @returns openid\n     */\n    private getOpenidFromServer(code: string): Promise<string> {\n        return new Promise((resolve, reject) => {\n            // APIopenid\n            // codeAPIopenid\n            \n            // \n            const useMockData = false; // falseAPI\n            \n            // openid\n            const useCloudDevelopment = true; // trueopenid\n            \n            if (useMockData) {\n                // \n                console.log(\"ShareManager: openid\");\n                resolve(`mock_openid_${Date.now()}`);\n            } else if (useCloudDevelopment) {\n                // openid\n                console.log(\"ShareManager: openid\");\n                \n                try {\n                    // \n                    if (!(wx as any).cloud) {\n                        console.error(\"ShareManager: \");\n                        reject(new Error(\"\"));\n                        return;\n                    }\n                    \n                    // \n                    (wx as any).cloud.init({\n                        env: 'cloud1-4gt651mg426c3c93', // ID\n                        traceUser: true,\n                        success: () => {\n                            console.log(\"ShareManager: \");\n                            \n                            // openid\n                            (wx as any).cloud.callFunction({\n                                name: 'getOpenid', // \n                                data: {},\n                                success: (res: any) => {\n                                    if (res.result && res.result.openid) {\n                                        console.log(\"ShareManager: openid\");\n                                        resolve(res.result.openid);\n                                    } else {\n                                        console.error(\"ShareManager: :\", res.result);\n                                        reject(new Error(\"\"));\n                                    }\n                                },\n                                fail: (error: any) => {\n                                    console.error(\"ShareManager: :\", error);\n                                    reject(new Error(\"\"));\n                                }\n                            });\n                        },\n                        fail: (error: any) => {\n                            console.error(\"ShareManager: :\", error);\n                            reject(new Error(\"\"));\n                        }\n                    });\n                } catch (error) {\n                    console.error(\"ShareManager: openid:\", error);\n                    reject(new Error(\"openid\"));\n                }\n            } else {\n                // API\n                console.log(\"ShareManager: APIopenid\");\n                \n                // openId\n                // 1. wx.login()code\n                // 2. code\n                // 3. codeauth.code2Session APIopenId\n                // 4. openId\n                // APIopenIdappIdappSecret\n                \n                // API\n                const backendApiUrl = 'https://your-backend-api.com/api/get-openid';\n                \n                wx.request({\n                    url: backendApiUrl,\n                    method: 'POST',\n                    data: {\n                        code: code\n                    },\n                    success: (res) => {\n                        if (res.data && res.data.openid) {\n                            console.log(\"ShareManager: openid\");\n                            resolve(res.data.openid);\n                        } else {\n                            console.error(\"ShareManager: :\", res.data);\n                            reject(new Error(\"\"));\n                        }\n                    },\n                    fail: (error) => {\n                        console.error(\"ShareManager: API:\", error);\n                        reject(new Error(\"API\"));\n                    }\n                });\n            }\n        });\n    }\n    \n    /**\n     * \n     * @param shareOpenid openid\n     * @returns \n     */\n    private hasReceivedFromShareOpenid(shareOpenid: string): boolean {\n        try {\n            const receivedShareOpenids = this.getReceivedShareOpenids();\n            return receivedShareOpenids.indexOf(shareOpenid) !== -1;\n        } catch (error) {\n            console.error('ShareManager: :', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param shareOpenid openid\n     */\n    private recordShareRewardReceived(shareOpenid: string): void {\n        try {\n            const receivedShareOpenids = this.getReceivedShareOpenids();\n            if (receivedShareOpenids.indexOf(shareOpenid) === -1) {\n                receivedShareOpenids.push(shareOpenid);\n                // \n                localStorage.setItem('receivedShareOpenids', JSON.stringify(receivedShareOpenids));\n                console.log(`ShareManager:  ${shareOpenid} `);\n            }\n        } catch (error) {\n            console.error('ShareManager: :', error);\n        }\n    }\n    \n    /**\n     * openid\n     * @returns openid\n     */\n    private getReceivedShareOpenids(): string[] {\n        try {\n            const receivedShareOpenidsStr = localStorage.getItem('receivedShareOpenids');\n            if (receivedShareOpenidsStr) {\n                return JSON.parse(receivedShareOpenidsStr);\n            }\n        } catch (error) {\n            console.error('ShareManager: :', error);\n        }\n        return [];\n    }\n    \n    /**\n     * \n     * @param shareOpenid openid\n     * @param coins \n     */\n    private async sendInteractiveToShareSender(shareOpenid: string, coins: number): Promise<void> {\n        try {\n            console.log(`ShareManager:  ${shareOpenid}  ${coins} `);\n            \n            // \n            const interactiveDataManager = InteractiveDataManager.getInstance();\n            \n            // \n            const success = await interactiveDataManager.modifyFriendInteractiveStorage(shareOpenid, coins);\n            \n            if (success) {\n                console.log(`ShareManager:  ${shareOpenid} `);\n            } else {\n                console.error(`ShareManager:  ${shareOpenid} `);\n            }\n        } catch (error) {\n            console.error(`ShareManager:  ${shareOpenid} :`, error);\n        }\n    }\n    \n    /**\n     * \n     * @param coins \n     */\n    private giveShareReward(coins: number): void {\n        try {\n            // \n            const coinManager = CoinManager.getInstance();\n            coinManager.addCoin(coins);\n            \n            // \n            ToastManager.getInstance().showMessage(`${coins}`, 2);\n            \n            // \n            console.log(`ShareManager: ${coins}`);\n            \n            // \n            const openDataManager = OpenDataManager.getInstance();\n            openDataManager.syncDataToOpenDomain();\n        } catch (error) {\n            console.error('ShareManager: :', error);\n            ToastManager.getInstance().showMessage('', 2);\n        }\n    }\n    \n    /**\n     * \n     * @param date \n     * @param count \n     */\n    private updateShareRewardRecord(date: string, count: number): void {\n        try {\n            if (typeof wx !== 'undefined') {\n                // APIwx.setUserCloudStoragewx.setUserInteractiveStorage\n                (wx as any).setUserCloudStorage({\n                    KVDataList: [{\n                        key: 'lastShareDate',\n                        value: date\n                    }, {\n                        key: 'shareRewardCount',\n                        value: count.toString()\n                    }],\n                    success: () => {\n                        console.log('ShareManager: ');\n                    },\n                    fail: (error: any) => {\n                        console.error('ShareManager: :', error);\n                    }\n                });\n            }\n        } catch (error) {\n            console.error('ShareManager: :', error);\n        }\n    }\n    \n    /**\n     * \n     * @param title \n     * @param imageUrl \n     * @param query \n     * @param successCallback \n     * @param failCallback \n     */\n    public shareToFriend(title: string, imageUrl: string, query: string, successCallback?: () => void, failCallback?: (error: any) => void): void {\n        if (typeof wx !== 'undefined') {\n            (wx as any).shareAppMessage({\n                title: title,\n                imageUrl: imageUrl,\n                query: query,\n                success: () => {\n                    console.log('ShareManager: ');\n                    if (successCallback) {\n                        successCallback();\n                    }\n                },\n                fail: (error: any) => {\n                    console.error('ShareManager: :', error);\n                    if (failCallback) {\n                        failCallback(error);\n                    }\n                }\n            });\n        } else {\n            console.log('ShareManager: ');\n            if (failCallback) {\n                failCallback(new Error(''));\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param buttonNode \n     * @param successCallback \n     * @param failCallback \n     */\n    public createShareButton(buttonNode: any, successCallback?: (shareTicket: string) => void, failCallback?: (err: any) => void): void {\n        if (typeof wx !== 'undefined') {\n            (wx as any).createShareButton({\n                style: {\n                    left: buttonNode.x,\n                    top: buttonNode.y,\n                    width: buttonNode.width,\n                    height: buttonNode.height,\n                },\n                success: (res: any) => {\n                    console.log('ShareManager: ');\n                    if (successCallback && res.shareTickets && res.shareTickets.length > 0) {\n                        successCallback(res.shareTickets[0]);\n                    }\n                },\n                fail: (error: any) => {\n                    console.error('ShareManager: :', error);\n                    if (failCallback) {\n                        failCallback(error);\n                    }\n                }\n            });\n        } else {\n            console.log('ShareManager: ');\n            if (failCallback) {\n                failCallback(new Error(''));\n            }\n        }\n    }\n}","import { ShopItem, ShopItemType } from './ShopManager';\n\n/**\n * \n * \n */\nexport class ShopConfig {\n    /**\n     * \n     */\n    public static getAllItems(): ShopItem[] {\n        return [\n            // \n            {\n                id: 'item_tdhm',\n                name: '',\n                description: '1',\n                price: 20,\n                type: ShopItemType.ITEM,\n                itemId: 'item_tdhm_001',\n                count: 1,\n                icon: 'skills/tuodaohuima_btn',\n                limit: -1\n            },\n            {\n                id: 'item_ccjj',\n                name: '',\n                description: '1',\n                price: 100,\n                type: ShopItemType.ITEM,\n                itemId: 'item_ccjj_001',\n                count: 1,\n                icon: 'skills/caochuanjiejian_btn',\n                limit: -1\n            },\n            {\n                id: 'item_qkny',\n                name: '',\n                description: '',\n                price: 80,\n                type: ShopItemType.ITEM,\n                itemId: 'item_qkny_001',\n                count: 1,\n                icon: 'skills/qiankunnuoyi_btn',\n                limit: -1\n            }\n        ];\n    }\n    \n    /**\n     * ID\n     */\n    public static getItemById(id: string): ShopItem | null {\n        const items = this.getAllItems();\n        for (const item of items) {\n            if (item.id === id) {\n                return item;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * ID\n     */\n    public static getItemByItemId(itemId: string): ShopItem | null {\n        const items = this.getAllItems();\n        for (const item of items) {\n            if (item.itemId === itemId) {\n                return item;\n            }\n        }\n        return null;\n    }\n    \n    /**\n     * \n     */\n    public static getItemsByType(type: ShopItemType): ShopItem[] {\n        const items = this.getAllItems();\n        return items.filter(item => item.type === type);\n    }\n    \n    /**\n     * \n     */\n    public static getItemProducts(): ShopItem[] {\n        return this.getItemsByType(ShopItemType.ITEM);\n    }\n    \n    /**\n     * \n     */\n    public static getCoinProducts(): ShopItem[] {\n        return this.getItemsByType(ShopItemType.COIN);\n    }\n    \n    /**\n     * \n     */\n    public static getSpecialProducts(): ShopItem[] {\n        return this.getItemsByType(ShopItemType.SPECIAL);\n    }\n    \n    /**\n     * \n     * \n     */\n    public static getSpecialOfferItems(count: number = 3): ShopItem[] {\n        const allItems = this.getAllItems();\n        const specialItems: ShopItem[] = [];\n        \n        // \n        const itemsCopy = [...allItems];\n        \n        // \n        for (let i = 0; i < count && itemsCopy.length > 0; i++) {\n            const randomIndex = Math.floor(Math.random() * itemsCopy.length);\n            const item = itemsCopy[randomIndex];\n            \n            // 70%-90%\n            const specialItem: ShopItem = {\n                ...item,\n                // isSpecial: true,\n                // specialPrice: Math.floor(item.price * (0.7 + Math.random() * 0.2))\n            };\n            \n            specialItems.push(specialItem);\n            itemsCopy.splice(randomIndex, 1);\n        }\n        \n        return specialItems;\n    }\n    \n    /**\n     * \n     */\n    public static getRecommendedItemsForNewbie(): ShopItem[] {\n        return [\n            this.getItemById('coin_001')!,\n            this.getItemById('item_001')!,\n            this.getItemById('special_002')!\n        ];\n    }\n    \n    /**\n     * \n     */\n    public static getRecommendedItemsForAdvanced(): ShopItem[] {\n        return [\n            this.getItemById('coin_003')!,\n            this.getItemById('item_003')!,\n            this.getItemById('special_001')!\n        ];\n    }\n    \n    /**\n     * \n     * \n     */\n    public static getLimitedTimeOfferItems(): ShopItem[] {\n        return [\n            {\n                ...this.getItemById('coin_004')!,\n                isSpecial: true,\n                specialPrice: 400  // 500400\n            },\n            {\n                ...this.getItemById('item_003')!,\n                isSpecial: true,\n                specialPrice: 400  // 500400\n            }\n        ];\n    }\n}","import { _decorator, Component, Node, Button, Label, Sprite, Color, resources, SpriteFrame, SpriteAtlas, assetManager } from 'cc';\nimport { ShopItem, ShopItemType } from '../shop/ShopManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('ShopItemUI')\nexport class ShopItemUI extends Component {\n    // \n    @property(Sprite)\n    iconSprite: Sprite = null;\n\n    // \n    @property(Label)\n    nameLabel: Label = null;\n\n    // \n    @property(Label)\n    descLabel: Label = null;\n\n    // \n    @property(Label)\n    priceLabel: Label = null;\n\n    // \n    @property(Button)\n    buyButton: Button = null;\n\n    // // \n    // @property(Node)\n    // specialMarkNode: Node = null;\n\n    // \n    // @property(Label)\n    // specialPriceLabel: Label = null;\n\n    // \n    @property(Label)\n    originalPriceLabel: Label = null;\n\n    // \n    private itemData: ShopItem = null;\n\n    // \n    private onDetailClick: (itemId: string) => void = null;\n\n    // \n    private onBuyClick: (itemId: string) => void = null;\n\n    protected onLoad(): void {\n        // \n        if (this.buyButton) {\n            this.buyButton.node.on(Button.EventType.CLICK, this.onBuyButtonClick, this);\n        }\n\n        // \n        this.node.on(Node.EventType.TOUCH_END, this.onItemClick, this);\n    }\n\n    /**\n     * \n     * @param item \n     * @param onDetailClick \n     * @param onBuyClick \n     */\n    public init(item: ShopItem, onDetailClick?: (itemId: string) => void, onBuyClick?: (itemId: string) => void): void {\n        this.itemData = item;\n        this.onDetailClick = onDetailClick;\n        this.onBuyClick = onBuyClick;\n\n        // UI\n        this.updateUI();\n    }\n\n    /**\n     * UI\n     */\n    private updateUI(): void {\n        if (!this.itemData) {\n            return;\n        }\n\n        // \n        if (this.nameLabel) {\n            this.nameLabel.string = this.itemData.name;\n        }\n\n        // \n        if (this.descLabel) {\n            this.descLabel.string = this.itemData.description;\n        }\n\n        // \n        if (this.priceLabel) {\n            this.priceLabel.string = this.itemData.price.toString();\n            this.priceLabel.node.active = true;\n        }\n\n        // \n        if (this.itemData.isSpecial && this.itemData.specialPrice) {\n            // \n            // if (this.specialMarkNode) {\n            //     this.specialMarkNode.active = true;\n            // }\n\n            // // \n            // if (this.specialPriceLabel) {\n            //     this.specialPriceLabel.string = this.itemData.specialPrice.toString();\n            //     this.specialPriceLabel.node.active = true;\n            // }\n\n            // \n            if (this.originalPriceLabel) {\n                this.originalPriceLabel.string = this.itemData.price.toString();\n                this.originalPriceLabel.node.active = true;\n            }\n\n            // \n            // if (this.priceLabel) {\n            //     this.priceLabel.node.active = false;\n            // }\n        } else {\n            // \n            // if (this.specialMarkNode) {\n            //     this.specialMarkNode.active = false;\n            // }\n\n            // // \n            // if (this.specialPriceLabel) {\n            //     this.specialPriceLabel.node.active = false;\n            // }\n\n            // \n            // if (this.originalPriceLabel) {\n            //     this.originalPriceLabel.node.active = false;\n            // }\n\n        }\n\n        // \n        if (this.iconSprite && this.itemData.icon) {\n            // \n            const iconPath = this.itemData.icon;\n            const bundleName = 'CommonUI'; // bundle\n            const assetPath = `ui/${iconPath}`; //  \"ui/skills/tuodaohuima_btn\"\n            \n            // bundle\n            assetManager.loadBundle(bundleName, (err, bundle) => {\n                if (err) {\n                    console.error(`Failed to load bundle: ${bundleName}`, err);\n                    return;\n                }\n                \n                // bundle\n                bundle.load(assetPath, SpriteFrame, (err, spriteFrame) => {\n                    if (err) {\n                        console.error(`Failed to load sprite frame: ${assetPath} from bundle: ${bundleName}`, err);\n                        return;\n                    }\n                    \n                    if (spriteFrame) {\n                        this.iconSprite.spriteFrame = spriteFrame;\n                    } else {\n                        console.error(`Failed to get sprite frame: ${assetPath} from bundle: ${bundleName}`);\n                    }\n                });\n            });\n        }\n\n        // \n        this.updateBuyButtonState();\n    }\n\n    /**\n     * \n     */\n    private updateBuyButtonState(): void {\n        if (!this.buyButton || !this.itemData) {\n            return;\n        }\n\n        // \n        if (this.itemData.limit !== -1 && this.itemData.purchased! >= this.itemData.limit!) {\n            // \n            this.buyButton.interactable = false;\n            return;\n        }\n    }\n\n    /**\n     * \n     */\n    private onItemClick(): void {\n        if (this.itemData && this.onDetailClick) {\n            this.onDetailClick(this.itemData.id);\n        }\n    }\n\n    /**\n     * \n     */\n    private onBuyButtonClick(): void {\n        if (this.itemData && this.onBuyClick) {\n            this.onBuyClick(this.itemData.id);\n        }\n    }\n\n    /**\n     * \n     */\n    public getItemData(): ShopItem {\n        return this.itemData;\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.buyButton && this.buyButton.node) {\n            this.buyButton.node.off(Button.EventType.CLICK, this.onBuyButtonClick, this);\n        }\n\n        // \n        this.node.off(Node.EventType.TOUCH_END, this.onItemClick, this);\n    }\n}","import { _decorator, sys } from 'cc';\nimport { GameDataManager } from '../data/GameDataManager';\nimport CoinManager from '../coin/CoinManager';\nimport { BagManager } from '../bag/BagManager';\nimport { ShopConfig } from './ShopConfig';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n */\nexport enum ShopItemType {\n    ITEM = 'item',\n    COIN = 'coin',\n    SPECIAL = 'special'\n}\n\n/**\n * \n */\nexport interface ShopItem {\n    id: string;           // ID\n    name: string;         // \n    description: string;  // \n    price: number;        // \n    type: ShopItemType;   // \n    itemId?: string;      // IDtypeitem\n    count?: number;       // typeitem\n    coinAmount?: number;  // typecoin\n    specialType?: string; // typespecial\n    icon: string;         // \n    isSpecial?: boolean;  // \n    specialPrice?: number; // \n    limit?: number;       // -1\n    purchased?: number;   // \n}\n\n/**\n * \n * \n */\nexport class ShopManager {\n    private static _instance: ShopManager = null;\n    \n    // \n    private _items: Map<string, ShopItem> = new Map();\n    \n    // \n    private _specialItems: Map<string, ShopItem> = new Map();\n    \n    // \n    private _purchaseRecords: Array<{\n        itemId: string;\n        purchaseTime: number;\n        price: number;\n    }> = [];\n    \n    // \n    private _purchaseCallbacks: Array<(success: boolean, item?: ShopItem, error?: string) => void> = [];\n    \n    // \n    private _lastRefreshTime: number = 0;\n    \n    // \n    private readonly _refreshInterval: number = 24 * 60 * 60 * 1000; // 24\n    \n    // \n    private _refreshCallbacks: Array<() => void> = [];\n    \n    /**\n     * \n     */\n    public static get instance(): ShopManager {\n        if (!ShopManager._instance) {\n            ShopManager._instance = new ShopManager();\n        }\n        return ShopManager._instance;\n    }\n    \n    /**\n     * \n     */\n    private constructor() {\n        this.init();\n    }\n    \n    /**\n     * \n     */\n    public init(): void {\n        this.loadShopData();\n        this.checkRefresh();\n    }\n    \n    /**\n     * \n     */\n    private loadShopData(): void {\n        try {\n            // \n            // const itemsData = sys.localStorage.getItem('shop_items');\n            // if (itemsData) {\n            //     const itemsArray = JSON.parse(itemsData);\n            //     this._items = new Map();\n            //     for (const item of itemsArray) {\n            //         this._items.set(item.id, item);\n            //     }\n            // } else {\n                // \n                this.initDefaultItems();\n            // }\n            \n            // \n            const specialItemsData = sys.localStorage.getItem('shop_special_items');\n            if (specialItemsData) {\n                const specialItemsArray = JSON.parse(specialItemsData);\n                this._specialItems = new Map();\n                for (const item of specialItemsArray) {\n                    this._specialItems.set(item.id, item);\n                }\n            }\n            \n            // \n            const recordsData = sys.localStorage.getItem('shop_purchase_records');\n            if (recordsData) {\n                this._purchaseRecords = JSON.parse(recordsData);\n            }\n            \n            // \n            const lastRefreshTime = sys.localStorage.getItem('shop_last_refresh_time');\n            if (lastRefreshTime) {\n                this._lastRefreshTime = parseInt(lastRefreshTime);\n            }\n        } catch (error) {\n            console.error(':', error);\n            this.initDefaultItems();\n        }\n    }\n    \n    /**\n     * \n     */\n    private initDefaultItems(): void {\n        // \n        const defaultItems = ShopConfig.getAllItems();\n        for (const item of defaultItems) {\n            this._items.set(item.id, item);\n        }\n        \n        // \n        this.saveShopData();\n    }\n    \n    /**\n     * \n     */\n    private saveShopData(): void {\n        try {\n            // \n            const itemsArray = [];\n            for (const item of this._items.values()) {\n                itemsArray.push(item);\n            }\n            sys.localStorage.setItem('shop_items', JSON.stringify(itemsArray));\n            \n            // \n            const specialItemsArray = [];\n            for (const item of this._specialItems.values()) {\n                specialItemsArray.push(item);\n            }\n            sys.localStorage.setItem('shop_special_items', JSON.stringify(specialItemsArray));\n            \n            // \n            sys.localStorage.setItem('shop_purchase_records', JSON.stringify(this._purchaseRecords));\n            \n            // \n            sys.localStorage.setItem('shop_last_refresh_time', this._lastRefreshTime.toString());\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     */\n    private checkRefresh(): void {\n        const now = Date.now();\n        if (now - this._lastRefreshTime > this._refreshInterval) {\n            this.refreshShop();\n        }\n    }\n    \n    /**\n     * \n     */\n    public addItem(item: ShopItem): void {\n        // \n        const newItem: ShopItem = {\n            ...item,\n            purchased: item.purchased || 0\n        };\n        \n        this._items.set(item.id, newItem);\n        this.saveShopData();\n    }\n    \n    /**\n     * \n     */\n    public getItem(id: string): ShopItem | null {\n        return this._items.get(id) || null;\n    }\n    \n    /**\n     * \n     */\n    public getAllItems(): ShopItem[] {\n        const items: ShopItem[] = [];\n        for (const item of this._items.values()) {\n            items.push(item);\n        }\n        return items;\n    }\n    \n    /**\n     * \n     */\n    public getSpecialItems(): ShopItem[] {\n        const items: ShopItem[] = [];\n        for (const item of this._specialItems.values()) {\n            items.push(item);\n        }\n        return items;\n    }\n    \n    /**\n     * \n     */\n    public refreshShop(force: boolean = false): boolean {\n        // \n        const now = Date.now();\n        if (!force && now - this._lastRefreshTime < this._refreshInterval) {\n            console.log(':', (this._refreshInterval - (now - this._lastRefreshTime)) / 1000, '');\n            return false;\n        }\n        \n        // \n        this._specialItems.clear();\n        \n        // 2-3\n        // const itemsArray = Array.from(this._items.values());\n        // const specialCount = Math.floor(Math.random() * 2) + 2; // 2-3\n        \n        // for (let i = 0; i < specialCount; i++) {\n        //     if (itemsArray.length === 0) break;\n            \n        //     const randomIndex = Math.floor(Math.random() * itemsArray.length);\n        //     const item = itemsArray[randomIndex];\n            \n        //     // 70%-90%\n        //     const specialItem: ShopItem = {\n        //         ...item,\n        //         // isSpecial: true,\n        //         // specialPrice: Math.floor(item.price * (0.7 + Math.random() * 0.2))\n        //     };\n            \n        //     this._specialItems.set(item.id, specialItem);\n        //     itemsArray.splice(randomIndex, 1);\n        // }\n        \n        // \n        this._lastRefreshTime = now;\n        \n        // \n        this.saveShopData();\n        \n        console.log('');\n        \n        // \n        this.triggerRefreshCallbacks();\n        \n        return true;\n    }\n    \n    /**\n     * \n     */\n    private triggerRefreshCallbacks(): void {\n        for (const callback of this._refreshCallbacks) {\n            try {\n                callback();\n            } catch (e) {\n                console.error(':', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    public registerRefreshCallback(callback: () => void): void {\n        if (this._refreshCallbacks.indexOf(callback) === -1) {\n            this._refreshCallbacks.push(callback);\n        }\n    }\n    \n    /**\n     * \n     */\n    public unregisterRefreshCallback(callback: () => void): void {\n        const index = this._refreshCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this._refreshCallbacks.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     */\n    public purchaseItem(itemId: string, callback?: (success: boolean, item?: ShopItem, error?: string) => void): boolean {\n        // \n        const item = this._items.get(itemId);\n        if (!item) {\n            const error = ': ' + itemId;\n            console.error(error);\n            this.triggerPurchaseCallback(false, undefined, error, callback);\n            return false;\n        }\n        \n        // \n        const specialItem = this._specialItems.get(itemId);\n        const price = specialItem ? specialItem.specialPrice! : item.price;\n        \n        // \n        if (item.limit !== -1 && item.purchased! >= item.limit!) {\n            const error = ': ' + itemId;\n            console.error(error);\n            this.triggerPurchaseCallback(false, item, error, callback);\n            return false;\n        }\n        \n        // \n        if (CoinManager.getInstance().getCurrentCoin() < price) {\n            const error = ': ' + price + ': ' + CoinManager.getInstance().getCurrentCoin();\n            console.error(error);\n            this.triggerPurchaseCallback(false, item, error, callback);\n            return false;\n        }\n        \n        // \n        const coinDeductSuccess = CoinManager.getInstance().subtractCoin(price, 'shop_purchase');\n        if (!coinDeductSuccess) {\n            const error = '';\n            console.error(error);\n            this.triggerPurchaseCallback(false, item, error, callback);\n            return false;\n        }\n        \n        // \n        const deliverySuccess = this.deliverItem(item);\n        if (!deliverySuccess) {\n            // \n            CoinManager.getInstance().addCoin(price, 'shop_purchase_refund');\n            const error = '';\n            console.error(error);\n            this.triggerPurchaseCallback(false, item, error, callback);\n            return false;\n        }\n        \n        // \n        this._purchaseRecords.push({\n            itemId: itemId,\n            purchaseTime: Date.now(),\n            price: price\n        });\n        \n        // \n        item.purchased = (item.purchased || 0) + 1;\n        \n        // \n        this.saveShopData();\n        \n        console.log(':', item.name);\n        this.triggerPurchaseCallback(true, item, undefined, callback);\n        return true;\n    }\n    \n    /**\n     * \n     */\n    private triggerPurchaseCallback(\n        success: boolean, \n        item?: ShopItem, \n        error?: string, \n        callback?: (success: boolean, item?: ShopItem, error?: string) => void\n    ): void {\n        // \n        if (callback) {\n            callback(success, item, error);\n        }\n        \n        // \n        for (const cb of this._purchaseCallbacks) {\n            try {\n                cb(success, item, error);\n            } catch (e) {\n                console.error(':', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    public registerPurchaseCallback(callback: (success: boolean, item?: ShopItem, error?: string) => void): void {\n        if (this._purchaseCallbacks.indexOf(callback) === -1) {\n            this._purchaseCallbacks.push(callback);\n        }\n    }\n    \n    /**\n     * \n     */\n    public unregisterPurchaseCallback(callback: (success: boolean, item?: ShopItem, error?: string) => void): void {\n        const index = this._purchaseCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this._purchaseCallbacks.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     */\n    private deliverItem(item: ShopItem): boolean {\n        try {\n            switch (item.type) {\n                case ShopItemType.ITEM:\n                    // \n                    if (item.itemId && item.count) {\n                        BagManager.getInstance().addItemByShopItem(item);\n                    }\n                    break;\n                    \n                case ShopItemType.COIN:\n                    // \n                    if (item.coinAmount) {\n                        CoinManager.getInstance().addCoin(item.coinAmount, 'shop_purchase');\n                    }\n                    break;\n                    \n                case ShopItemType.SPECIAL:\n                    // \n                    this.handleSpecialItem(item);\n                    break;\n                    \n                default:\n                    console.error(':', item.type);\n                    return false;\n            }\n            return true;\n        } catch (error) {\n            console.error(':', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     */\n    private handleSpecialItem(item: ShopItem): void {\n        // \n        switch (item.specialType) {\n            case 'double_coin':\n                // \n                console.log('');\n                break;\n                \n            case 'extra_life':\n                // \n                console.log('');\n                break;\n                \n            default:\n                console.warn(':', item.specialType);\n                break;\n        }\n    }\n    \n    /**\n     * \n     */\n    public getPurchaseRecords(): Array<{\n        itemId: string;\n        purchaseTime: number;\n        price: number;\n    }> {\n        return [...this._purchaseRecords];\n    }\n    \n    /**\n     * \n     */\n    public getNextRefreshTime(): number {\n        return this._lastRefreshTime + this._refreshInterval;\n    }\n    \n    /**\n     * \n     */\n    public getRefreshRemainingTime(): number {\n        const nextRefreshTime = this.getNextRefreshTime();\n        const now = Date.now();\n        return Math.max(0, nextRefreshTime - now);\n    }\n    \n    /**\n     * \n     */\n    public clearData(): void {\n        this._items.clear();\n        this._specialItems.clear();\n        this._purchaseRecords = [];\n        this._lastRefreshTime = 0;\n        \n        // \n        sys.localStorage.removeItem('shop_items');\n        sys.localStorage.removeItem('shop_special_items');\n        sys.localStorage.removeItem('shop_purchase_records');\n        sys.localStorage.removeItem('shop_last_refresh_time');\n        \n        // \n        this.initDefaultItems();\n    }\n\n\n    /**\n     * ID\n     */\n    public getShopItemByItemId(itemId: string): ShopItem | null {\n        return ShopConfig.getItemByItemId(itemId);\n    }\n}","import { _decorator, Component, Node, Button, Label, ScrollView, Sprite, Prefab, instantiate, Vec3, UITransform, Size } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { UILayer } from './UILayer';\nimport { ShopManager, ShopItem } from '../shop/ShopManager';\nimport { ShopItemUI } from './ShopItemUI';\nimport CoinManager from '../coin/CoinManager';\nimport { AudioManager } from '../audio/AudioManager';\nimport { createBundleObject } from '../res/ResConst';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('ShopUI')\nexport class ShopUI extends BaseUI {\n    // UI\n    public static readonly viewLayer = UILayer.UI;\n    \n    // \n    @property(Node)\n    itemList: Node = null;\n\n    // \n    @property(Node)\n    closeButton: Node = null;\n    \n    // \n    @property(Label)\n    balanceLabel: Label = null;\n    \n    // \n    @property(Label)\n    tipsLabel: Label = null;\n    \n    // \n    @property(ScrollView)\n    scrollView: ScrollView = null;\n    \n    // \n    @property(Prefab)\n    shopItemPrefab: Prefab = null;\n    \n    // \n    private contentNode: Node = null;\n    \n    // UI\n    private shopItemUIs: ShopItemUI[] = [];\n\n    protected start(): void {\n        // super.onLoad();\n        \n        // \n        if (this.closeButton) {\n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        if (this.scrollView) {\n            this.contentNode = this.scrollView.content;\n        }\n        // \n        this.initShopUI();\n    }\n\n    /**\n     * \n     */\n    private initShopUI() {\n        // \n        this.updateBalanceDisplay();\n        \n        // \n        this.clearShopItems();\n        \n        // ShopManager\n        const shopItems = ShopManager.instance.getAllItems();\n        \n        // \n        if (!this.contentNode || !this.shopItemPrefab) {\n            console.error('');\n            return;\n        }\n        \n        // \n        this.generateShopItems(shopItems);\n        \n        console.log('ShopUI initialized');\n    }\n    \n    /**\n     * \n     */\n    private updateBalanceDisplay(): void {\n        if (this.balanceLabel) {\n            const currentCoin = CoinManager.getInstance().getCurrentCoin();\n            this.balanceLabel.string = `: ${currentCoin}`;\n        }\n    }\n    \n    /**\n     * \n     */\n    private onCoinChanged(eventParam: any): void {\n        // \n        this.updateBalanceDisplay();\n        \n        // \n        this.updateAllShopItemStates();\n    }\n    \n    /**\n     * \n     */\n    private clearShopItems(): void {\n        if (!this.contentNode) return;\n        \n        // \n        this.shopItemUIs.forEach(shopItemUI => {\n            if (shopItemUI && shopItemUI.node) {\n                shopItemUI.node.destroy();\n            }\n        });\n        \n        // \n        this.shopItemUIs = [];\n        \n        // \n        const contentTransform = this.contentNode.getComponent(UITransform);\n        if (contentTransform) {\n            contentTransform.setContentSize(new Size(contentTransform.width, 0));\n        }\n    }\n    \n    /**\n     * \n     * @param shopItems \n     */\n    private generateShopItems(shopItems: ShopItem[]): void {\n        if (!this.contentNode || !this.shopItemPrefab) return;\n        \n        // \n        const itemHeight = 100;\n        \n        // \n        const contentHeight = shopItems.length * itemHeight + (shopItems.length - 1) ;\n        \n        // \n        const contentTransform = this.contentNode.getComponent(UITransform);\n        if (contentTransform) {\n            contentTransform.setContentSize(new Size(contentTransform.width, contentHeight));\n        }\n        \n        // \n        shopItems.forEach((item, index) => {\n            this.createShopItem(item, index);\n        });\n    }\n    \n    /**\n     * \n     * @param item \n     * @param index \n     */\n    private createShopItem(item: ShopItem, index: number): void {\n        if (!this.contentNode || !this.shopItemPrefab) return;\n        \n        // \n        const shopItemNode = instantiate(this.shopItemPrefab);\n        const gapHeight = 40;\n\n        \n        // \n        const itemHeight = 100;\n        const yPos = -index * itemHeight - itemHeight / 2 - gapHeight * index;\n        shopItemNode.setPosition(new Vec3(0, yPos, 0));\n        \n        // \n        this.contentNode.addChild(shopItemNode);\n        \n        // ShopItemUI\n        const shopItemUI = shopItemNode.getComponent(ShopItemUI);\n        if (shopItemUI) {\n            // \n            shopItemUI.init(item, \n                // \n                (itemId: string) => {\n                    console.log(`: ${itemId}`);\n                },\n                // \n                (itemId: string) => {\n                    this.buyProduct(itemId);\n                }\n            );\n            \n            // \n            this.shopItemUIs.push(shopItemUI);\n        }\n    }\n    \n    /**\n     * \n     */\n    private updateAllShopItemStates(): void {\n        this.shopItemUIs.forEach(shopItemUI => {\n            if (shopItemUI) {\n                // ShopItemUI\n                // ShopItemUI\n                // ShopItemUI\n                const itemData = shopItemUI.getItemData();\n                if (itemData) {\n                    shopItemUI.init(itemData, \n                        (itemId: string) => {\n                            console.log(`: ${itemId}`);\n                        },\n                        (itemId: string) => {\n                            this.buyProduct(itemId);\n                        }\n                    );\n                }\n            }\n        });\n    }\n\n\n    /**\n     * \n     * @param productId ID\n     */\n    public buyProduct(productId: string) {\n        // \n        const item = ShopManager.instance.getItem(productId);\n        if (!item) {\n            console.error(`: ${productId}`);\n            return;\n        }\n        \n        // \n        const currentCoin = CoinManager.getInstance().getCurrentCoin();\n        \n        // \n        const specialItem = ShopManager.instance.getSpecialItems().find(specialItem => specialItem.id === productId);\n        const price = specialItem ? specialItem.specialPrice! : item.price;\n        \n        // \n        if (currentCoin < price) {\n            // \n            this.showInsufficientBalanceTips(price);\n            return;\n        }\n        \n        // ShopManager\n        ShopManager.instance.purchaseItem(productId, (success, purchasedItem, error) => {\n            if (success) {\n                console.log(`: ${purchasedItem?.name}`);\n                AudioManager.ins.playSound(createBundleObject(\"Res/Audio/buy\", \"LoginBN\"));\n                // \n                this.initShopUI();\n            } else {\n                console.error(`: ${error}`);\n                \n                // \n                this.showPurchaseErrorTips(error || '');\n            }\n        });\n    }\n    \n    /**\n     * \n     * @param requiredPrice \n     */\n    private showInsufficientBalanceTips(requiredPrice: number): void {\n        if (this.tipsLabel) {\n            const currentCoin = CoinManager.getInstance().getCurrentCoin();\n            this.tipsLabel.string = ` ${requiredPrice}  ${currentCoin} `;\n            this.tipsLabel.node.active = true;\n            \n            // 3\n            this.scheduleOnce(() => {\n                if (this.tipsLabel) {\n                    this.tipsLabel.node.active = false;\n                }\n            }, 3);\n        }\n    }\n    \n    /**\n     * \n     * @param errorMessage \n     */\n    private showPurchaseErrorTips(errorMessage: string): void {\n        if (this.tipsLabel) {\n            this.tipsLabel.string = errorMessage;\n            this.tipsLabel.node.active = true;\n            \n            // 3\n            this.scheduleOnce(() => {\n                if (this.tipsLabel) {\n                    this.tipsLabel.node.active = false;\n                }\n            }, 3);\n        }\n    }\n\n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('SHOP_CLOSED');\n            console.log('ShopUI: SHOP_CLOSED');\n        } else {\n            console.warn('ShopUI: SHOP_CLOSED');\n        }\n        \n        // \n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('ShopUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('ShopUI: BACK_TO_MAIN_SCENE');\n        }\n        \n        // \n        this.hide();\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        CoinManager.getInstance().removeEventListener(CoinManager.getInstance().constructor['CoinEventType'].COIN_ADD, this.onCoinChanged.bind(this));\n        CoinManager.getInstance().removeEventListener(CoinManager.getInstance().constructor['CoinEventType'].COIN_SUBTRACT, this.onCoinChanged.bind(this));\n        \n        // \n        this.clearShopItems();\n        \n        super.onDestroy();\n    }\n}\n","import { _decorator, Component, Node } from 'cc';\nimport { GameDataManager } from '../data/GameDataManager';\nimport CoinManager from '../coin/CoinManager';\n\nimport { sys } from 'cc';\nimport { GCtrl } from '../../../GCtrl';\nimport { ToastManager } from './ToastManager';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n * \n */\n@ccclass('SignManager')\nexport class SignManager extends Component {\n    private static _instance: SignManager = null;\n    \n    // \n    private static readonly SIGN_DATA_KEY = 'sign_data';\n    \n    // 1-7\n    private static readonly BASE_REWARDS = [10, 20, 30, 40, 50, 60, 70];\n    \n    // 7\n    private static readonly EXTRA_REWARD = 50;\n    \n    // \n    private signData: {\n        lastSignDate: string;       // YYYY-MM-DD\n        consecutiveDays: number;    // \n        signHistory: boolean[];     // 7true\n        totalSignDays: number;      // \n    } = null;\n    \n    public static get instance(): SignManager {\n        if (!this._instance) {\n            this._instance = new SignManager();\n            this._instance.init();\n        }\n        return this._instance;\n    }\n    \n    private init(): void {\n        this.loadSignData();\n    }\n    \n    /**\n     * \n     */\n    private loadSignData(): void {\n        try {\n            const dataStr = sys.localStorage.getItem(SignManager.SIGN_DATA_KEY);\n            if (dataStr) {\n                this.signData = JSON.parse(dataStr);\n            } else {\n                // \n                this.signData = {\n                    lastSignDate: '',\n                    consecutiveDays: 0,\n                    signHistory: [false, false, false, false, false, false, false],\n                    totalSignDays: 0\n                };\n                this.saveSignData();\n            }\n        } catch (error) {\n            console.error(':', error);\n            // \n            this.signData = {\n                lastSignDate: '',\n                consecutiveDays: 0,\n                signHistory: [false, false, false, false, false, false, false],\n                totalSignDays: 0\n            };\n            this.saveSignData();\n        }\n    }\n    \n    /**\n     * \n     */\n    private saveSignData(): void {\n        try {\n            sys.localStorage.setItem(SignManager.SIGN_DATA_KEY, JSON.stringify(this.signData));\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public canSign(): boolean {\n        const today = this.getTodayDateString();\n        return this.signData.lastSignDate !== today;\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public doSign(): { coins: number, consecutiveDays: number } {\n        if (!this.canSign()) {\n            return { coins: 0, consecutiveDays: this.signData.consecutiveDays };\n        }\n        \n        const today = this.getTodayDateString();\n        const yesterday = this.getYesterdayDateString();\n        \n        // \n        if (this.signData.lastSignDate === yesterday) {\n            // \n            this.signData.consecutiveDays++;\n        } else {\n            // \n            this.signData.consecutiveDays = 1;\n        }\n        \n        // \n        let reward = 0;\n        const dayIndex = (this.signData.consecutiveDays - 1) % 7;\n        \n        if (this.signData.consecutiveDays > 7) {\n            // 750\n            reward = SignManager.BASE_REWARDS[dayIndex] + SignManager.EXTRA_REWARD;\n        } else {\n            // 1-7\n            reward = SignManager.BASE_REWARDS[dayIndex];\n        }\n        \n        // \n        this.signData.lastSignDate = today;\n        this.signData.totalSignDays++;\n        \n        // 7\n        this.updateSignHistory(dayIndex);\n        \n        // \n        this.saveSignData();\n        \n        // \n        CoinManager.getInstance().addCoin(reward, '');\n        \n        return { coins: reward, consecutiveDays: this.signData.consecutiveDays };\n    }\n    \n    /**\n     * 7\n     * @param dayIndex 0-6\n     */\n    private updateSignHistory(dayIndex: number): void {\n        // const today = new Date();\n        // const todayIndex = today.getDay(); // 01...6\n        \n        // \n        const newHistory = [false, false, false, false, false, false, false];\n        newHistory[dayIndex] = true;\n        \n        // \n        for (let i = 0; i <= dayIndex; i++) {\n            newHistory[i] = true;\n        }\n        \n        this.signData.signHistory = newHistory;\n    }\n    \n    /**\n     * 7\n     * @returns 7\n     */\n    public getRecentSignHistory(): boolean[] {\n        return [...this.signData.signHistory];\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getDailyRewards(): number[] {\n        const rewards = [...SignManager.BASE_REWARDS];\n        \n        // 7\n        if (this.signData.consecutiveDays > 7) {\n            for (let i = 0; i < rewards.length; i++) {\n                rewards[i] += SignManager.EXTRA_REWARD;\n            }\n        }\n        \n        return rewards;\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getConsecutiveDays(): number {\n        return this.signData.consecutiveDays;\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getTotalSignDays(): number {\n        return this.signData.totalSignDays;\n    }\n    \n    /**\n     * \n     * \n     */\n    public autoSign(): void {\n        if (this.canSign()) {\n            const result = this.doSign();\n            if (result.coins > 0) {\n                // \n                try {\n                    ToastManager.getInstance().showMessage(`${result.consecutiveDays}${result.coins}`, 5);\n                } catch (error) {\n                    console.error(':', error);\n                    // Toast\n                    console.log(`${result.consecutiveDays}${result.coins}`);\n                }\n            }\n        }\n    }\n\n    /**\n     * padStart\n     */\n    private padStart(str: string, targetLength: number, padString: string): string {\n        targetLength = targetLength >> 0; // \n        str = String(str);\n        if (str.length >= targetLength) {\n            return str;\n        }\n        targetLength = targetLength - str.length;\n        if (targetLength > padString.length) {\n            padString += padString.repeat(Math.ceil(targetLength / padString.length));\n        }\n        return padString.slice(0, targetLength) + str;\n    }\n\n    /**\n     * YYYY-MM-DD\n     */\n    private formatDate(date: Date): string {\n        const year = date.getFullYear();\n        const month = this.padStart(String(date.getMonth() + 1), 2, '0');\n        const day = this.padStart(String(date.getDate()), 2, '0');\n        return `${year}-${month}-${day}`;\n    }\n\n    /**\n     * \n     * @returns YYYY-MM-DD\n     */\n    private getTodayDateString(): string {\n        const today = new Date();\n        return this.formatDate(today);\n    }\n    \n    /**\n     * \n     * @returns YYYY-MM-DD\n     */\n    private getYesterdayDateString(): string {\n        const yesterday = new Date();\n        yesterday.setDate(yesterday.getDate() - 1);\n        return this.formatDate(yesterday);\n    }\n}","import { _decorator, Component, Node, Label, Button } from 'cc';\nimport { BaseUI } from './BaseUI';\nimport { SignManager } from './SignManager';\nimport { ToastManager } from './ToastManager';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n * 7\n */\n@ccclass('SignUI')\nexport class SignUI extends BaseUI {\n    @property(Node)\n    ruleNode: Node = null;  // \n    \n    @property(Button)\n    closeButton: Button = null;  // \n    \n    @property(Button)\n    ruleButton: Button = null;  // \n    \n    @property([Label])\n    rewardLabels: Label[] = [];  // SignItem-001007\n    \n    @property(Label)\n    continusDayLabel: Label = null;  // \n    \n    private signItems: Node[] = [];  // \n    \n    protected onLoad(): void {\n        // \n        this.initSignItems();\n        \n        // \n        this.bindButtonEvents();\n        \n        // \n        this.updateSignUI();\n    }\n    \n    /**\n     * padStart\n     */\n    private padStart(str: string, targetLength: number, padString: string): string {\n        targetLength = targetLength >> 0; // \n        str = String(str);\n        if (str.length >= targetLength) {\n            return str;\n        }\n        targetLength = targetLength - str.length;\n        if (targetLength > padString.length) {\n            padString += padString.repeat(Math.ceil(targetLength / padString.length));\n        }\n        return padString.slice(0, targetLength) + str;\n    }\n    \n    /**\n     * \n     */\n    private initSignItems(): void {\n        // SignItem\n        for (let i = 1; i <= 7; i++) {\n            const itemName = `SignItem-${this.padStart(String(i), 3, '0')}`;\n            const itemNode = this.node.getChildByName('itemNode').getChildByName(itemName);\n            if (itemNode) {\n                this.signItems.push(itemNode);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    private bindButtonEvents(): void {\n        if (this.closeButton) {\n            this.closeButton.node.on(Button.EventType.CLICK, this.onCloseClick, this);\n        }\n        \n        if (this.ruleButton) {\n            this.ruleButton.node.on(Button.EventType.CLICK, this.onRuleClick, this);\n        }\n        \n        if (this.ruleNode) {\n            // \n            this.ruleNode.on(Node.EventType.TOUCH_END, this.onRuleNodeClick, this);\n        }\n    }\n    \n    /**\n     * \n     */\n    private updateSignUI(): void {\n        // \n        const signHistory = SignManager.instance.getRecentSignHistory();\n        \n        // \n        const dailyRewards = SignManager.instance.getDailyRewards();\n        \n        // \n        const consecutiveDays = SignManager.instance.getConsecutiveDays();\n        \n        // \n        if (this.continusDayLabel) {\n            this.continusDayLabel.string = `${consecutiveDays}`;\n        }\n        \n        // \n        for (let i = 0; i < 7; i++) {\n            if (i < this.signItems.length && i < this.rewardLabels.length) {\n                const label = this.rewardLabels[i];\n                const isSigned = signHistory[i];\n                const reward = dailyRewards[i];\n                \n                if (label) {\n                    // \n                    label.string = `${reward}`;\n                    \n                    // \"\\n\"\n                    if (isSigned) {\n                        label.string += \"\\n\";\n                    }\n                }\n                console.log(`SignUI: ${i}${reward}${isSigned} ${label.string}`);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('ShopUI: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('ShopUI: ');\n        }\n        this.hide();\n    }\n    \n    /**\n     * \n     */\n    private onRuleClick(): void {\n        if (this.ruleNode) {\n            this.ruleNode.active = true;\n        }\n    }\n    \n    /**\n     * \n     */\n    private onRuleNodeClick(): void {\n        if (this.ruleNode) {\n            this.ruleNode.active = false;\n        }\n    }\n    \n    /**\n     * \n     */\n    public show(): void {\n        super.show();\n        // \n        console.log('SignUI: ', this.node);\n        console.log('SignUI: ', this.node.name);\n        console.log('SignUI: ', this.node.position);\n        console.log('SignUI: ', this.node.active);\n        // \n        this.updateSignUI();\n    }\n    \n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.node.off(Button.EventType.CLICK, this.onCloseClick, this);\n        }\n        \n        if (this.ruleButton) {\n            this.ruleButton.node.off(Button.EventType.CLICK, this.onRuleClick, this);\n        }\n        \n        if (this.ruleNode) {\n            this.ruleNode.off(Node.EventType.TOUCH_END, this.onRuleNodeClick, this);\n        }\n        \n        super.onDestroy();\n    }\n}","import { _decorator, Color, Component, Node } from 'cc';\nimport { BagItem } from '../bag/BagManager';\nimport { ToastManager } from '../ui/ToastManager';\n\n/**\n * \n */\nexport enum SkillType {\n    TUO_DAO_HUI_MA = 'tuo_dao_hui_ma',     // \n    CAO_CHUAN_JIE_JIAN = 'cao_chuan_jie_jian', // \n    QIAN_KUN_NUO_YI = 'qian_kun_nuo_yi'     // \n}\n\n/**\n * \n */\nexport enum SkillState {\n    READY = 'ready',       // \n    ACTIVE = 'active',     // \n    COOLDOWN = 'cooldown', // \n    DISABLED = 'disabled'  // \n}\n\n/**\n * \n */\nexport interface SkillConfig {\n    id: string;            // ID\n    name: string;          // \n    type: SkillType;       // \n    description: string;   // \n    icon: string;          // \n    cooldown: number;      // \n    duration: number;      // \n    itemId: string;        // ID\n    targetType: string;    // \n    effectParams: any;     // \n}\n\n/**\n * \n */\nexport interface SkillData {\n    id: string;            // ID\n    configId: string;      // ID\n    state: SkillState;     // \n    lastUsedTime: number;  // \n    useCount: number;      // \n}\n\n/**\n * \n */\nexport enum SkillEventType {\n    SKILL_ACTIVATED = 'skill_activated',     // \n    SKILL_EXECUTED = 'skill_executed',       // \n    SKILL_COOLDOWN = 'skill_cooldown',       // \n    SKILL_READY = 'skill_ready',             // \n    SKILL_ERROR = 'skill_error'              // \n}\n\n/**\n * \n */\nexport interface SkillEvent {\n    type: SkillEventType;\n    skillId?: string;\n    data?: any;\n}\n\n/**\n * \n */\nexport abstract class BaseSkill {\n    protected id: string;\n    protected config: SkillConfig;\n    protected data: SkillData;\n    \n    \n    constructor(config: SkillConfig) {\n        this.config = config;\n        this.data = {\n            id: this.generateSkillId(),\n            configId: config.id,\n            state: SkillState.READY,\n            lastUsedTime: 0,\n            useCount: 0\n        };\n    }\n    \n    /**\n     * ID\n     */\n    public getId(): string {\n        return this.id;\n    }\n    \n    /**\n     * \n     */\n    public getConfig(): SkillConfig {\n        return this.config;\n    }\n    \n    /**\n     * \n     */\n    public getData(): SkillData {\n        return this.data;\n    }\n    \n    /**\n     * \n     */\n    public getState(): SkillState {\n        return this.data.state;\n    }\n    \n    /**\n     * \n     */\n    public canUse(): boolean {\n        const now = Date.now();\n        // const cooldownMs = this.config.cooldown * 1000;\n        const timeSinceLastUse = now - this.data.lastUsedTime;\n        return this.onBeforeActivate({timeSinceLastUse: timeSinceLastUse});\n        // return this.data.state === SkillState.READY && timeSinceLastUse >= cooldownMs;\n    }\n    \n    /**\n     * \n     */\n    public getRemainingCooldown(): number {\n        const now = Date.now();\n        const cooldownMs = this.config.cooldown * 1000;\n        const timeSinceLastUse = now - this.data.lastUsedTime;\n        const remainingMs = Math.max(0, cooldownMs - timeSinceLastUse);\n        \n        return remainingMs / 1000;\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    public async use(params?: any): Promise<boolean> {\n        if (!this.canUse()) {\n            console.warn(` ${this.config.name} : ${this.data.state}`);\n            return false;\n        }\n        \n        try {\n            // \n            this.data.state = SkillState.ACTIVE;\n            \n            // \n            const result = await this.onExecute(params);\n            \n            if (result) {\n                // \n                this.data.lastUsedTime = Date.now();\n                this.data.useCount++;\n                \n                // \n                this.data.state = SkillState.COOLDOWN;\n                \n                console.log(` ${this.config.name} `);\n                return true;\n            } else {\n                // \n                this.data.state = SkillState.READY;\n                console.warn(` ${this.config.name} `);\n                return false;\n            }\n        } catch (error) {\n            // \n            this.data.state = SkillState.READY;\n            console.error(` ${this.config.name} `, error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param deltaTime \n     */\n    public update(deltaTime: number): void {\n        if (this.data.state === SkillState.COOLDOWN) {\n            const remainingCooldown = this.getRemainingCooldown();\n            \n            if (remainingCooldown <= 0) {\n                this.data.state = SkillState.READY;\n                console.log(` ${this.config.name} `);\n            }\n        }\n    }\n    \n    /**\n     * ID\n     */\n    private generateSkillId(): string {\n        return `skill_${this.config.id}_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected abstract onExecute(params?: any): Promise<boolean>;\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected onBeforeActivate(params?: any): boolean {\n        return true;\n    }\n    \n    /**\n     * \n     * @param params \n     * @param result \n     */\n    protected onAfterExecute(params?: any): void {\n        // \n    }\n\n    protected sendToast(message: string, duration: number = 3): void {\n        console.log('ToastManager Skill:', message);\n        \n        // \n        const fontColor = new Color(255, 0, 0, 255); // \n        const outlineColor = new Color(255, 255, 0, 255); // \n        \n        // UIManageropenUIToast\n        ToastManager.getInstance().showToastWithUIManagerAndStyle(message, duration, 45, fontColor, outlineColor, 3);\n    }\n}","import { _decorator, sys } from 'cc';\nimport { BaseSkill } from './SkillBase';\nimport { TuoDaoHuiMaSkill } from './TuoDaoHuiMaSkill';\nimport { CaoChuanJieJianSkill } from './CaoChuanJieJianSkill';\nimport { QianKunNuoYiSkill } from './QianKunNuoYiSkill';\nimport { SkillConfig, SkillData, SkillEventType, SkillEvent, SkillType } from './SkillBase';\nimport { BagManager, BagItem, ItemType } from '../bag/BagManager';\n\n/**\n * \n * \n */\nexport class SkillManager {\n    private static _instance: SkillManager;\n    private _skills: Map<string, BaseSkill> = new Map<string, BaseSkill>(); // ID\n    private _skillConfigs: Map<string, SkillConfig> = new Map<string, SkillConfig>(); // ID\n    private _skillData: Map<string, SkillData> = new Map<string, SkillData>(); // ID\n    private _eventListeners: Map<SkillEventType, Function[]> = new Map<SkillEventType, Function[]>(); // \n    private _gameUI: any; // UI\n    \n    /**\n     * SkillManager\n     */\n    public static getInstance(): SkillManager {\n        if (!this._instance) {\n            this._instance = new SkillManager();\n        }\n        return this._instance;\n    }\n\n    /**\n     * \n     */\n    private constructor() {\n        // \n        Object.keys(SkillEventType).forEach((key: string) => {\n            const type = SkillEventType[key as keyof typeof SkillEventType];\n            this._eventListeners.set(type, []);\n        });\n        \n        // \n        this.initSkillConfigs();\n    }\n\n    /**\n     * \n     * @param gameUI UI\n     */\n    public init(gameUI?: any): void {\n        console.log('SkillManager: ');\n        \n        // gameUIGCtrl\n        if (!gameUI) {\n            try {\n                // gCtrlUI\n                this._gameUI = (globalThis as any).gCtrl?.getCurrentGameUI();\n                if (!this._gameUI) {\n                    console.warn('SkillManager: GCtrlUI');\n                }\n            } catch (error) {\n                console.error('SkillManager: UI', error);\n            }\n        } else {\n            this._gameUI = gameUI;\n        }\n        \n        this.loadSkillData();\n        this.initSkills();\n    }\n\n    /**\n     * \n     */\n    private initSkillConfigs(): void {\n        // \n        const tuoDaoHuiMaConfig: SkillConfig = {\n            id: 'tuo_dao_hui_ma',\n            name: '',\n            type: SkillType.TUO_DAO_HUI_MA,\n            description: '',\n            icon: 'textures/skills/tuo_dao_hui_ma',\n            cooldown: 0, // 30\n            duration: 0,   // \n            itemId: 'item_tdhm_001', // ID\n            targetType: 'collection',\n            effectParams: {}\n        };\n        \n        // \n        const caoChuanJieJianConfig: SkillConfig = {\n            id: 'cao_chuan_jie_jian',\n            name: '',\n            type: SkillType.CAO_CHUAN_JIE_JIAN,\n            description: '3',\n            icon: 'textures/skills/cao_chuan_jie_jian',\n            cooldown: 45, // 45\n            duration: 0,  // \n            itemId: 'item_ccjj_001', // ID\n            targetType: 'board',\n            effectParams: { count: 3 }\n        };\n        \n        // \n        const qianKunNuoYiConfig: SkillConfig = {\n            id: 'qian_kun_nuo_yi',\n            name: '',\n            type: SkillType.QIAN_KUN_NUO_YI,\n            description: '',\n            icon: 'textures/skills/qian_kun_nuo_yi',\n            cooldown: 60, // 60\n            duration: 0,  // \n            itemId: 'item_qkny_001', // ID\n            targetType: 'board',\n            effectParams: {}\n        };\n        \n        // \n        this._skillConfigs.set(tuoDaoHuiMaConfig.id, tuoDaoHuiMaConfig);\n        this._skillConfigs.set(caoChuanJieJianConfig.id, caoChuanJieJianConfig);\n        this._skillConfigs.set(qianKunNuoYiConfig.id, qianKunNuoYiConfig);\n    }\n\n    /**\n     * \n     */\n    private initSkills(): void {\n        if (!this._gameUI) {\n            console.error('SkillManager: UI');\n            return;\n        }\n        \n        // \n        this._skills.clear();\n        \n        // \n        const tuoDaoHuiMaConfig = this._skillConfigs.get('tuo_dao_hui_ma');\n        if (tuoDaoHuiMaConfig) {\n            const tuoDaoHuiMaSkill = new TuoDaoHuiMaSkill(tuoDaoHuiMaConfig, this._gameUI);\n            this._skills.set(tuoDaoHuiMaSkill.getConfig().id, tuoDaoHuiMaSkill);\n        }\n        \n        // \n        const caoChuanJieJianConfig = this._skillConfigs.get('cao_chuan_jie_jian');\n        if (caoChuanJieJianConfig) {\n            const caoChuanJieJianSkill = new CaoChuanJieJianSkill(caoChuanJieJianConfig, this._gameUI);\n            this._skills.set(caoChuanJieJianSkill.getConfig().id, caoChuanJieJianSkill);\n        }\n        \n        // \n        const qianKunNuoYiConfig = this._skillConfigs.get('qian_kun_nuo_yi');\n        if (qianKunNuoYiConfig) {\n            const qianKunNuoYiSkill = new QianKunNuoYiSkill(qianKunNuoYiConfig, this._gameUI);\n            this._skills.set(qianKunNuoYiSkill.getConfig().id, qianKunNuoYiSkill);\n        }\n        \n        console.log(`SkillManager: ${this._skills.size}`);\n    }\n\n    /**\n     * \n     */\n    private loadSkillData(): void {\n        try {\n            const data = sys.localStorage.getItem('skill_data');\n            if (data) {\n                const parsedData = JSON.parse(data);\n                // Map\n                this._skillData = new Map<string, SkillData>();\n                if (parsedData.data) {\n                    Object.keys(parsedData.data).forEach(key => {\n                        this._skillData.set(key, parsedData.data[key]);\n                    });\n                }\n                console.log('SkillManager: ');\n            } else {\n                console.log('SkillManager: ');\n            }\n        } catch (error) {\n            console.error('SkillManager: ', error);\n            this._skillData = new Map<string, SkillData>();\n        }\n    }\n\n    /**\n     * \n     */\n    private saveSkillData(): void {\n        try {\n            // Map\n            const dataObj: { [key: string]: SkillData } = {};\n            this._skillData.forEach((value, key) => {\n                dataObj[key] = value;\n            });\n            \n            const data = {\n                data: dataObj\n            };\n            sys.localStorage.setItem('skill_data', JSON.stringify(data));\n        } catch (error) {\n            console.error('SkillManager: ', error);\n        }\n    }\n\n    /**\n     * \n     * @param itemId ID\n     * @returns \n     */\n    public async useSkillByItem(itemId: string): Promise<boolean> {\n        // \n        let targetConfig: SkillConfig | null = null;\n        \n        for (const config of this._skillConfigs.values()) {\n            if (config.itemId === itemId) {\n                targetConfig = config;\n                break;\n            }\n        }\n        \n        if (!targetConfig) {\n            console.warn(`SkillManager: ID${itemId}`);\n            return false;\n        }\n        \n        // \n        let targetSkill: BaseSkill | null = null;\n        \n        for (const skill of this._skills.values()) {\n            if (skill.getConfig().id === targetConfig.id) {\n                targetSkill = skill;\n                break;\n            }\n        }\n        \n        if (!targetSkill) {\n            console.warn(`SkillManager: ID${targetConfig.id}`, targetConfig, this._skills);\n            return false;\n        }\n        \n        // \n        if (!targetSkill.canUse()) {\n            console.warn(`SkillManager: ${targetConfig.name}`);\n            return false;\n        }\n        \n        // \n        const result = await targetSkill.use();\n        \n        if (result) {\n            // \n            const skillData = targetSkill.getData();\n            this._skillData.set(targetSkill.getId(), skillData);\n            this.saveSkillData();\n            \n            // \n            this.triggerEvent({ type: SkillEventType.SKILL_EXECUTED, skillId: targetSkill.getId() });\n            \n            console.log(`SkillManager: ${targetConfig.name}`);\n            return true;\n        } else {\n            // \n            this.triggerEvent({ type: SkillEventType.SKILL_ERROR, skillId: targetSkill.getId() });\n            \n            console.warn(`SkillManager: ${targetConfig.name}`);\n            return false;\n        }\n    }\n\n    /**\n     * \n     * @param configId ID\n     * @returns null\n     */\n    public getSkillConfig(configId: string): SkillConfig | null {\n        return this._skillConfigs.get(configId) || null;\n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getAllSkillConfigs(): SkillConfig[] {\n        const configs: SkillConfig[] = [];\n        this._skillConfigs.forEach(value => {\n            configs.push(value);\n        });\n        return configs;\n    }\n\n    /**\n     * \n     * @param skillId ID\n     * @returns null\n     */\n    public getSkill(skillId: string): BaseSkill | null {\n        return this._skills.get(skillId) || null;\n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getAllSkills(): BaseSkill[] {\n        const skills: BaseSkill[] = [];\n        this._skills.forEach(value => {\n            skills.push(value);\n        });\n        return skills;\n    }\n\n    /**\n     * \n     * @param deltaTime \n     */\n    public update(deltaTime: number): void {\n        this._skills.forEach(skill => {\n            skill.update(deltaTime);\n        });\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param callback \n     */\n    public addEventListener(eventType: SkillEventType, callback: Function): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            listeners.push(callback);\n        }\n    }\n\n    /**\n     * \n     * @param eventType \n     * @param callback \n     */\n    public removeEventListener(eventType: SkillEventType, callback: Function): void {\n        const listeners = this._eventListeners.get(eventType);\n        if (listeners) {\n            const index = listeners.indexOf(callback);\n            if (index !== -1) {\n                listeners.splice(index, 1);\n            }\n        }\n    }\n\n    /**\n     * \n     * @param event \n     */\n    private triggerEvent(event: SkillEvent): void {\n        const listeners = this._eventListeners.get(event.type);\n        if (listeners) {\n            listeners.forEach(callback => {\n                try {\n                    callback(event);\n                } catch (error) {\n                    console.error(`SkillManager: `, error);\n                }\n            });\n        }\n    }\n}","import { SpriteFrame, Texture2D, Rect, Vec2 } from \"cc\";\nimport { createBundleObject } from \"../core/modules/res/ResConst\";\nimport { ResManager } from \"../core/modules/res/ResManager\";\n\nexport class SpriteFramesCfg {\n    private static _charactersTexture: Texture2D = null;\n    private static _charactersSpriteFrames: Map<number, SpriteFrame> = new Map();\n    private static _isInitialized: boolean = false;\n    private static _initPromise: Promise<void> | null = null;\n\n    /**\n     * characters\n     */\n    public static initCharactersTexture(): Promise<void> {\n        if (this._isInitialized) {\n            return Promise.resolve();\n        }\n\n        if (this._initPromise) {\n            return this._initPromise;\n        }\n\n        this._initPromise = this._doInitCharactersTexture();\n        return this._initPromise;\n    }\n\n    private static async _doInitCharactersTexture(): Promise<void> {\n        const resManager = new ResManager();\n\n        try {\n            // spriteFrametexture\n            const textureUrl = createBundleObject(\"yang/SpriteFrames/characters/characters/texture\", \"Match3BN\");\n            const texture = await resManager.loadAssetAsync<Texture2D>(textureUrl, Texture2D);\n            if (texture) {\n                this.setCharactersTexture(texture);\n                this._isInitialized = true;\n                console.log(\"Characters texture loaded directly\");\n                return;\n            }\n        } catch (error) {\n            console.error(\"Error loading characters texture:\", error);\n        }\n\n        console.error(\"Failed to load characters texture through all methods\");\n    }\n\n    /**\n     * charactersSpriteFrame\n     * @param index  (0-44, 59)\n     * @returns SpriteFrame\n     */\n    private static createCharacterSpriteFrame(index: number): SpriteFrame {\n        if (!this._charactersTexture) {\n            console.error(\"Characters texture not loaded, call initCharactersTexture() first\");\n            return null;\n        }\n\n        // 5945\n        const cols = 10;\n        const rows = 12;\n        const totalCount = cols * rows;\n\n        if (index < 0 || index >= totalCount) {\n            console.error(`Character index out of range: ${index}, should be 0-${totalCount - 1}`);\n            return null;\n        }\n\n        // \n        const textureWidth = this._charactersTexture.width;\n        const textureHeight = this._charactersTexture.height;\n        const cellWidth = textureWidth / cols;\n        const cellHeight = textureHeight / rows;\n\n        // \n        const col = index % cols;\n        const row = Math.floor(index / cols);\n\n        //  (Cocos CreatorY)\n        const x = col * cellWidth;\n        const y = row * cellHeight; // Y\n\n        // SpriteFrame\n        const spriteFrame = new SpriteFrame();\n        spriteFrame.texture = this._charactersTexture;\n        spriteFrame.rect = new Rect(x, y, cellWidth, cellHeight);\n        spriteFrame.offset = new Vec2(0, 0);\n\n        return spriteFrame;\n    }\n\n    /**\n     * SpriteFrame ()\n     * @param index  (0-44)\n     * @returns SpriteFrame | null\n     */\n    public static getCharacterSpriteFrame(index: number): SpriteFrame | null {\n        // null\n        if (!this._isInitialized) {\n            console.warn(\"Characters texture not initialized. Call initCharactersTexture() first.\");\n            return null;\n        }\n\n        // \n        if (this._charactersSpriteFrames.has(index)) {\n            return this._charactersSpriteFrames.get(index);\n        }\n\n        // SpriteFrame\n        const spriteFrame = this.createCharacterSpriteFrame(index);\n        if (spriteFrame) {\n            this._charactersSpriteFrames.set(index, spriteFrame);\n        }\n\n        return spriteFrame;\n    }\n\n    /**\n     * SpriteFrame\n     * @param index  (0-44)\n     * @returns Promise<SpriteFrame | null>\n     */\n    public static async getCharacterSpriteFrameAsync(index: number): Promise<SpriteFrame | null> {\n        await this.initCharactersTexture();\n        return this.getCharacterSpriteFrame(index);\n    }\n\n    /**\n     * characters\n     * @param texture Texture2D\n     */\n    public static setCharactersTexture(texture: Texture2D) {\n        this._charactersTexture = texture;\n        // \n        this._charactersSpriteFrames.clear();\n    }\n\n    //-----------Match3BN---------\n    // characterskey0-4459\n    // initCharactersTexture()\n    static pai = (key: string | number) => {\n        const index = typeof key === 'string' ? parseInt(key) : key;\n        return this.getCharacterSpriteFrame(index);\n    };\n\n    // pai\n    static async paiAsync(key: string | number): Promise<SpriteFrame | null> {\n        const index = typeof key === 'string' ? parseInt(key) : key;\n        return await this.getCharacterSpriteFrameAsync(index);\n    }\n}","/**\n * \n */\nexport interface Task {\n    /** ID */\n    id: string;\n    /**  */\n    type: 'daily' | 'achievement';\n    /**  */\n    title: string;\n    /**  */\n    description: string;\n    /**  */\n    target: number;\n    /**  */\n    progress: number;\n    /**  */\n    status: 'unaccepted' | 'accepted' | 'completed' | 'rewarded';\n    /**  */\n    rewards: Reward[];\n    /**  */\n    unlocked?: boolean;\n    /**  */\n    unlockCondition?: {\n        type: string;\n        value: any;\n        taskId?: string;  // IDtype'previous_task'\n    };\n    /**  */\n    condition?: string;\n    /**  */\n    triggerEvent?: string;\n}\n\n/**\n * \n */\nexport interface Reward {\n    /**  */\n    type: 'coin' | 'item' | 'hero' | 'exp' | 'vip_exp';\n    /** ID */\n    itemId: string;\n    /**  */\n    count: number;\n    /** IDtype'hero' */\n    heroId?: string;\n}\n\n/**\n * \n */\nexport class TaskConfig {\n    private static _instance: TaskConfig = null;\n    private _taskConfigs: { [key: string]: Task } = {};\n    \n    /**\n     * \n     */\n    public static getInstance(): TaskConfig {\n        if (!TaskConfig._instance) {\n            TaskConfig._instance = new TaskConfig();\n        }\n        return TaskConfig._instance;\n    }\n    \n    /**\n     * \n     */\n    private constructor() {\n        this.init();\n    }\n    \n    /**\n     * \n     */\n    private init(): void {\n        this.loadTaskConfigs();\n    }\n    \n    /**\n     * \n     */\n    private loadTaskConfigs(): void {\n        // \n        this._taskConfigs['daily_001'] = {\n            id: 'daily_001',\n            type: 'daily',\n            title: '',\n            description: '',\n            target: 1,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 100 }\n            ]\n        };\n        \n        this._taskConfigs['daily_002'] = {\n            id: 'daily_002',\n            type: 'daily',\n            title: '',\n            description: '',\n            target: 1,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 200 }\n            ]\n        };\n        \n        this._taskConfigs['daily_003'] = {\n            id: 'daily_003',\n            type: 'daily',\n            title: '',\n            description: '',\n            target: 1,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 50 }\n            ]\n        };\n        \n        this._taskConfigs['daily_004'] = {\n            id: 'daily_004',\n            type: 'daily',\n            title: '',\n            description: '',\n            target: 1,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'item', itemId: 'item_001', count: 1 }\n            ]\n        };\n        \n        // \n        this._taskConfigs['achievement_001'] = {\n            id: 'achievement_001',\n            type: 'achievement',\n            title: '',\n            description: '10',\n            target: 10,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'item', itemId: 'item_001', count: 1 }\n            ],\n            unlocked: true\n        };\n        \n        this._taskConfigs['achievement_002'] = {\n            id: 'achievement_002',\n            type: 'achievement',\n            title: '',\n            description: '50',\n            target: 50,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 1000 },\n                { type: 'item', itemId: 'item_002', count: 1 }\n            ],\n            unlocked: true\n        };\n        \n        this._taskConfigs['achievement_003'] = {\n            id: 'achievement_003',\n            type: 'achievement',\n            title: '',\n            description: '1000',\n            target: 1000,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 500 }\n            ],\n            unlocked: true\n        };\n        \n        this._taskConfigs['achievement_004'] = {\n            id: 'achievement_004',\n            type: 'achievement',\n            title: '',\n            description: '5000',\n            target: 5000,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 2000 },\n                { type: 'item', itemId: 'item_003', count: 1 }\n            ],\n            unlocked: true\n        };\n        \n        this._taskConfigs['achievement_005'] = {\n            id: 'achievement_005',\n            type: 'achievement',\n            title: '',\n            description: '10',\n            target: 10,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'item', itemId: 'item_004', count: 1 }\n            ],\n            unlocked: true\n        };\n        \n        this._taskConfigs['achievement_006'] = {\n            id: 'achievement_006',\n            type: 'achievement',\n            title: '',\n            description: '20',\n            target: 20,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 800 }\n            ],\n            unlocked: true\n        };\n        \n        // \n        this._taskConfigs['achievement_007'] = {\n            id: 'achievement_007',\n            type: 'achievement',\n            title: '',\n            description: '100',\n            target: 100,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 3000 },\n                { type: 'item', itemId: 'item_005', count: 1 }\n            ],\n            unlocked: false,\n            unlockCondition: {\n                type: 'achievement_completed',\n                value: 'achievement_002'\n            }\n        };\n        \n        this._taskConfigs['achievement_008'] = {\n            id: 'achievement_008',\n            type: 'achievement',\n            title: '',\n            description: '10000',\n            target: 10000,\n            progress: 0,\n            status: 'unaccepted',\n            rewards: [\n                { type: 'coin', itemId: 'coin', count: 5000 },\n                { type: 'item', itemId: 'item_006', count: 1 }\n            ],\n            unlocked: false,\n            unlockCondition: {\n                type: 'achievement_completed',\n                value: 'achievement_004'\n            }\n        };\n    }\n    \n    /**\n     * \n     */\n    public getTaskConfig(taskId: string): Task | null {\n        return this._taskConfigs[taskId] || null;\n    }\n    \n    /**\n     * \n     */\n    public getAllTaskConfigs(): { [key: string]: Task } {\n        return { ...this._taskConfigs };\n    }\n    \n    /**\n     * \n     */\n    public getDailyTaskConfigs(): { [key: string]: Task } {\n        const dailyTasks: { [key: string]: Task } = {};\n        for (const taskId in this._taskConfigs) {\n            if (this._taskConfigs[taskId].type === 'daily') {\n                dailyTasks[taskId] = this._taskConfigs[taskId];\n            }\n        }\n        return dailyTasks;\n    }\n    \n    /**\n     * \n     */\n    public getAchievementTaskConfigs(): { [key: string]: Task } {\n        const achievementTasks: { [key: string]: Task } = {};\n        for (const taskId in this._taskConfigs) {\n            if (this._taskConfigs[taskId].type === 'achievement') {\n                achievementTasks[taskId] = this._taskConfigs[taskId];\n            }\n        }\n        return achievementTasks;\n    }\n    \n    /**\n     * \n     */\n    public getUnlockedAchievementTaskConfigs(): { [key: string]: Task } {\n        const unlockedTasks: { [key: string]: Task } = {};\n        for (const taskId in this._taskConfigs) {\n            if (this._taskConfigs[taskId].type === 'achievement' && this._taskConfigs[taskId].unlocked) {\n                unlockedTasks[taskId] = this._taskConfigs[taskId];\n            }\n        }\n        return unlockedTasks;\n    }\n    \n    /**\n     * \n     */\n    public isTaskUnlocked(taskId: string): boolean {\n        const task = this._taskConfigs[taskId];\n        if (!task) {\n            return false;\n        }\n        \n        // \n        if (!task.unlockCondition) {\n            return true;\n        }\n        \n        // TODO: \n        // unlocked\n        return task.unlocked || false;\n    }\n    \n    /**\n     * \n     */\n    public unlockTask(taskId: string): boolean {\n        const task = this._taskConfigs[taskId];\n        if (!task) {\n            console.error('', taskId);\n            return false;\n        }\n        \n        if (task.unlocked) {\n            console.warn('', taskId);\n            return true;\n        }\n        \n        // \n        if (task.unlockCondition) {\n            // TODO: \n            // \n            task.unlocked = true;\n            return true;\n        }\n        \n        return false;\n    }\n}","/**\n * \n * \n */\nimport { TaskConfig, Task, Reward } from './TaskConfig';\nimport CoinManager from '../coin/CoinManager';\n\nexport class TaskManager {\n    private static _instance: TaskManager = null;\n    \n    // \n    public static readonly TaskType = {\n        DAILY: 'daily',      // \n        ACHIEVEMENT: 'achievement'  // \n    };\n    \n    // \n    public static readonly TaskStatus = {\n        UNACCEPTED: 'unaccepted' as 'unaccepted',    // \n        ACCEPTED: 'accepted' as 'accepted',            // \n        COMPLETED: 'completed' as 'completed',        // \n        REWARDED: 'rewarded' as 'rewarded'            // \n    };\n    \n    // \n    private _dailyTasks: Task[] = [];          // \n    private _achievementTasks: Task[] = [];    // \n    private _taskRecords: { [key: string]: any } = {};           // \n    \n    // \n    private _taskUpdateCallbacks: Function[] = [];    // \n    private _taskCompleteCallbacks: Function[] = [];  // \n    private _taskRewardClaimedCallbacks: Function[] = [];  // \n    private _onDailyTasksRefreshed: Function = null;  // \n    \n    /**\n     * \n     */\n    public static getInstance(): TaskManager {\n        if (!TaskManager._instance) {\n            TaskManager._instance = new TaskManager();\n        }\n        return TaskManager._instance;\n    }\n    \n    /**\n     * \n     */\n    private constructor() {\n        // init\n    }\n    \n    /**\n     * \n     */\n    public init(): void {\n        this.loadTaskData();\n        this.loadTaskRecords();\n        this.checkDailyTasksRefresh();\n    }\n    \n    /**\n     * \n     */\n    private loadTaskData(): void {\n        const taskConfig = TaskConfig.getInstance();\n        \n        // \n        const dailyTaskConfigs = taskConfig.getDailyTaskConfigs();\n        this._dailyTasks = [];\n        for (const taskId in dailyTaskConfigs) {\n            // \n            const task = JSON.parse(JSON.stringify(dailyTaskConfigs[taskId]));\n            this._dailyTasks.push(task);\n        }\n        \n        // \n        const achievementTaskConfigs = taskConfig.getAchievementTaskConfigs();\n        this._achievementTasks = [];\n        for (const taskId in achievementTaskConfigs) {\n            // \n            const task = JSON.parse(JSON.stringify(achievementTaskConfigs[taskId]));\n            this._achievementTasks.push(task);\n        }\n    }\n    \n    /**\n     * \n     */\n    private checkDailyTasksRefresh(): void {\n        const today = new Date().toDateString();\n        const lastRefreshDate = this._taskRecords['lastDailyRefresh'] || '';\n        \n        // \n        if (lastRefreshDate !== today) {\n            this.refreshDailyTasks();\n        }\n    }\n    \n    /**\n     * \n     */\n    private loadTaskRecords(): void {\n        // TODO: \n        // \n        this._taskRecords = {};\n    }\n    \n    /**\n     * \n     */\n    private saveTaskRecords(): void {\n        // TODO: \n        console.log('', this._taskRecords);\n    }\n    \n    /**\n     * \n     * @param taskId ID\n     * @param record \n     */\n    private saveTaskRecord(taskId: string, record: any): void {\n        this._taskRecords[taskId] = { ...this._taskRecords[taskId], ...record };\n        this.saveTaskRecords();\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public getDailyTasks(): Task[] {\n        return [...this._dailyTasks]; // \n    }\n\n    /**\n     * \n     * @returns \n     */\n    public getAchievementTasks(): Task[] {\n        return [...this._achievementTasks]; // \n    }\n    \n    /**\n     * \n     */\n    public getAllTasks(): Task[] {\n        return [...this._dailyTasks, ...this._achievementTasks];\n    }\n    \n    /**\n     * ID\n     */\n    public getTaskById(taskId: string): Task {\n        const task = this._dailyTasks.find(t => t.id === taskId);\n        if (task) {\n            return task;\n        }\n        return this._achievementTasks.find(t => t.id === taskId);\n    }\n    \n    /**\n     * \n     * @param taskId ID\n     * @returns \n     */\n    public acceptTask(taskId: string): boolean {\n        // \n        let task: Task = null;\n        for (const t of this._dailyTasks) {\n            if (t.id === taskId) {\n                task = t;\n                break;\n            }\n        }\n        \n        if (!task) {\n            for (const t of this._achievementTasks) {\n                if (t.id === taskId) {\n                    task = t;\n                    break;\n                }\n            }\n        }\n        \n        if (!task) {\n            console.error(`Task not found: ${taskId}`);\n            return false;\n        }\n        \n        // \n        if (task.status !== TaskManager.TaskStatus.UNACCEPTED) {\n            console.error(`Task cannot be accepted, current status: ${task.status}`);\n            return false;\n        }\n        \n        // \n        task.status = TaskManager.TaskStatus.ACCEPTED;\n        \n        // \n        this.saveTaskRecord(taskId, {\n            status: task.status,\n            progress: task.progress,\n            acceptTime: Date.now()\n        });\n        \n        // \n        this.triggerTaskUpdateCallbacks(task);\n        \n        return true;\n    }\n    \n    /**\n     * \n     * @param taskId ID\n     * @param progress \n     * @returns \n     */\n    public updateTaskProgress(taskId: string, progress: number): boolean {\n        // \n        let task: Task = null;\n        for (const t of this._dailyTasks) {\n            if (t.id === taskId) {\n                task = t;\n                break;\n            }\n        }\n        \n        if (!task) {\n            for (const t of this._achievementTasks) {\n                if (t.id === taskId) {\n                    task = t;\n                    break;\n                }\n            }\n        }\n        \n        if (!task) {\n            console.error(`Task not found: ${taskId}`);\n            return false;\n        }\n        \n        // \n        if (task.status !== TaskManager.TaskStatus.ACCEPTED) {\n            console.error(`Task cannot be updated, current status: ${task.status}`);\n            return false;\n        }\n        \n        // \n        task.progress = Math.min(progress, task.target);\n        \n        // \n        this.saveTaskRecord(taskId, {\n            status: task.status,\n            progress: task.progress\n        });\n        \n        // \n        if (task.progress >= task.target) {\n            task.status = TaskManager.TaskStatus.COMPLETED;\n            \n            // \n            this.saveTaskRecord(taskId, {\n                status: task.status,\n                progress: task.progress,\n                completeTime: Date.now()\n            });\n            \n            // \n            this.triggerTaskCompleteCallbacks(task);\n        }\n        \n        // \n        this.triggerTaskRewardClaimedCallbacks(task);\n        \n        return true;\n    }\n    \n    /**\n     * \n     * @param taskId ID\n     * @returns \n     */\n    public claimTaskReward(taskId: string): boolean {\n        const task = this.getTaskById(taskId);\n        if (!task) {\n            console.error('', taskId);\n            return false;\n        }\n        \n        if (task.status !== TaskManager.TaskStatus.COMPLETED) {\n            console.error('', taskId, task.status);\n            return false;\n        }\n        \n        // \n        const rewardResults = [];\n        for (const reward of task.rewards) {\n            const result = this.grantReward(reward);\n            rewardResults.push({\n                type: reward.type,\n                success: result.success,\n                data: result.data\n            });\n            \n            if (!result.success) {\n                console.error(`: ${reward.type}`, result.error);\n            }\n        }\n        \n        // \n        const allRewardsGranted = rewardResults.every(r => r.success);\n        \n        if (allRewardsGranted) {\n            task.status = TaskManager.TaskStatus.REWARDED;\n            \n            // \n            this.saveTaskRecord(taskId, {\n                status: task.status,\n                progress: task.progress,\n                claimTime: Date.now()\n            });\n            \n            // \n            this.triggerTaskRewardClaimedCallbacks(task);\n            \n            return true;\n        } else {\n            // \n            this.rollbackRewards(rewardResults.filter(r => r.success));\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param reward \n     * @returns \n     */\n    private grantReward(reward: Reward): { success: boolean; data?: any; error?: string } {\n        try {\n            switch (reward.type) {\n                case 'coin':\n                    // CoinManager\n                    const coinManager = CoinManager.getInstance();\n                    coinManager.addCoin(reward.count, '');\n                    console.log(` ${reward.count}`);\n                    return { success: true, data: { coin: reward.count } };\n                    \n                case 'item':\n                    // \n                    // TODO: BagManager\n                    console.log('', reward.itemId, reward.count);\n                    // BagManager\n                    return { success: true, data: { item: reward.itemId, count: reward.count } };\n                    \n                case 'hero':\n                    // \n                    // TODO: HeroManager\n                    console.log('', reward.heroId);\n                    // HeroManager\n                    return { success: true, data: { hero: reward.heroId } };\n                    \n                case 'exp':\n                    // \n                    // TODO: PlayerManager\n                    console.log('', reward.count);\n                    // PlayerManager\n                    return { success: true, data: { exp: reward.count } };\n                    \n                case 'vip_exp':\n                    // VIP\n                    // TODO: VIPManagerVIP\n                    console.log('VIP', reward.count);\n                    // VIPManager\n                    return { success: true, data: { vipExp: reward.count } };\n                    \n                default:\n                    console.error('', reward.type);\n                    return { success: false, error: `: ${reward.type}` };\n            }\n        } catch (e) {\n            console.error('', e);\n            return { success: false, error: e.message };\n        }\n    }\n    \n    /**\n     * \n     * @param grantedRewards \n     */\n    private rollbackRewards(grantedRewards: any[]): void {\n        for (const reward of grantedRewards) {\n            try {\n                switch (reward.type) {\n                    case 'coin':\n                        // CoinManager\n                        const coinManager = CoinManager.getInstance();\n                        coinManager.subtractCoin(reward.data.coin, `: ${reward.data.coin}`);\n                        console.log('', reward.data.coin);\n                        break;\n                        \n                    case 'item':\n                        // TODO: BagManager\n                        console.log('', reward.data.item, reward.data.count);\n                        break;\n                        \n                    case 'hero':\n                        // TODO: HeroManager\n                        console.log('', reward.data.hero);\n                        break;\n                        \n                    case 'exp':\n                        // TODO: PlayerManager\n                        console.log('', reward.data.exp);\n                        break;\n                        \n                    case 'vip_exp':\n                        // TODO: VIPManagerVIP\n                        console.log('VIP', reward.data.vipExp);\n                        break;\n                }\n            } catch (e) {\n                console.error('', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param taskIds ID\n     * @returns \n     */\n    public claimMultipleTaskRewards(taskIds: string[]): { [taskId: string]: boolean } {\n        const results: { [taskId: string]: boolean } = {};\n        \n        for (const taskId of taskIds) {\n            results[taskId] = this.claimTaskReward(taskId);\n        }\n        \n        return results;\n    }\n    \n    /**\n     * \n     * @returns ID\n     */\n    public getClaimableTasks(): string[] {\n        const allTasks = this.getAllTasks();\n        return allTasks\n            .filter(task => task.status === TaskManager.TaskStatus.COMPLETED)\n            .map(task => task.id);\n    }\n    \n    /**\n     * \n     * \n     * @param eventType \n     * @param eventData \n     */\n    public checkAchievementProgress(eventType: string, eventData: any): void {\n        const taskConfig = TaskConfig.getInstance();\n        const achievementConfigs = taskConfig.getAchievementTaskConfigs();\n        \n        for (const taskId in achievementConfigs) {\n            const config = achievementConfigs[taskId];\n            \n            // \n            if (config.triggerEvent === eventType) {\n                let task = this._achievementTasks.find(t => t.id === taskId);\n                \n                // \n                if (!task) {\n                    task = JSON.parse(JSON.stringify(config));\n                    this._achievementTasks.push(task);\n                }\n                \n                // \n                if (task.status === TaskManager.TaskStatus.UNACCEPTED) {\n                    this.acceptTask(taskId);\n                }\n                \n                // \n                let newProgress = task.progress;\n                \n                switch (eventType) {\n                    case 'login':\n                        // \n                        if (config.condition === 'login_days') {\n                            // TODO: \n                            newProgress = (this._taskRecords[`${taskId}_loginDays`] || 0) + 1;\n                            this._taskRecords[`${taskId}_loginDays`] = newProgress;\n                        }\n                        break;\n                        \n                    case 'battle_win':\n                        // \n                        if (config.condition === 'battle_wins') {\n                            newProgress = (this._taskRecords[`${taskId}_battleWins`] || 0) + 1;\n                            this._taskRecords[`${taskId}_battleWins`] = newProgress;\n                        }\n                        break;\n                        \n                    case 'hero_collect':\n                        // \n                        if (config.condition === 'hero_count') {\n                            // eventData\n                            newProgress = eventData.heroCount || 0;\n                        }\n                        break;\n                        \n                    case 'level_up':\n                        // \n                        if (config.condition === 'player_level') {\n                            // eventData\n                            newProgress = eventData.playerLevel || 0;\n                        }\n                        break;\n                        \n                    // \n                }\n                \n                // \n                if (newProgress > task.progress) {\n                    this.updateTaskProgress(taskId, newProgress);\n                }\n            }\n        }\n        \n        // \n        this.saveTaskRecords();\n    }\n    \n    /**\n     * \n     * \n     * @param taskId ID\n     * @returns \n     */\n    public unlockAchievementTask(taskId: string): boolean {\n        const task = this._achievementTasks.find(t => t.id === taskId);\n        if (!task) {\n            console.error(`Achievement task not found: ${taskId}`);\n            return false;\n        }\n        \n        // \n        if (task.status !== TaskManager.TaskStatus.UNACCEPTED) {\n            return false;\n        }\n        \n        const taskConfig = TaskConfig.getInstance();\n        const config = taskConfig.getAchievementTaskConfigs()[taskId];\n        \n        if (!config || !config.unlockCondition) {\n            // \n            return this.acceptTask(taskId);\n        }\n        \n        // \n        let canUnlock = false;\n        \n        switch (config.unlockCondition.type) {\n            case 'player_level':\n                // \n                // TODO: PlayerManager\n                const playerLevel = 1; // PlayerManager\n                canUnlock = playerLevel >= config.unlockCondition.value;\n                break;\n                \n            case 'previous_task':\n                // \n                const previousTask = this._achievementTasks.find(t => t.id === config.unlockCondition.taskId);\n                canUnlock = previousTask && previousTask.status === TaskManager.TaskStatus.REWARDED;\n                break;\n                \n            case 'game_progress':\n                // \n                // TODO: GameManager\n                const gameProgress = 0; // GameManager\n                canUnlock = gameProgress >= config.unlockCondition.value;\n                break;\n                \n            // \n        }\n        \n        // \n        if (canUnlock) {\n            return this.acceptTask(taskId);\n        }\n        \n        return false;\n    }\n    \n    /**\n     * \n     */\n    public checkAllAchievementUnlockConditions(): void {\n        const taskConfig = TaskConfig.getInstance();\n        const achievementConfigs = taskConfig.getAchievementTaskConfigs();\n        \n        for (const taskId in achievementConfigs) {\n            const config = achievementConfigs[taskId];\n            \n            // \n            const task = this._achievementTasks.find(t => t.id === taskId);\n            if (!task || task.status === TaskManager.TaskStatus.UNACCEPTED) {\n                this.unlockAchievementTask(taskId);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @returns \n     */\n    public refreshDailyTasks(): boolean {\n        // \n        const today = new Date().toDateString();\n        const lastRefreshDate = this._taskRecords['lastDailyRefresh'] || '';\n        \n        // \n        if (lastRefreshDate === today) {\n            console.log('Daily tasks already refreshed today');\n            return false;\n        }\n        \n        // \n        const taskConfig = TaskConfig.getInstance();\n        const dailyTaskConfigs = taskConfig.getDailyTaskConfigs();\n        this._dailyTasks = [];\n        \n        for (const taskId in dailyTaskConfigs) {\n            // \n            const task = JSON.parse(JSON.stringify(dailyTaskConfigs[taskId]));\n            this._dailyTasks.push(task);\n        }\n        \n        // \n        this._taskRecords['lastDailyRefresh'] = today;\n        this.saveTaskRecords();\n        \n        // \n        if (this._onDailyTasksRefreshed) {\n            this._onDailyTasksRefreshed(this._dailyTasks);\n        }\n        \n        return true;\n    }\n    \n    /**\n     * \n     * @param callback \n     */\n    public registerDailyTasksRefreshedCallback(callback: Function): void {\n        this._onDailyTasksRefreshed = callback;\n    }\n    \n    /**\n     * \n     * @param callback \n     */\n    public registerTaskUpdateCallback(callback: Function): void {\n        if (this._taskUpdateCallbacks.indexOf(callback) === -1) {\n            this._taskUpdateCallbacks.push(callback);\n        }\n    }\n    \n    /**\n     * \n     */\n    public unregisterTaskUpdateCallback(callback: Function): void {\n        const index = this._taskUpdateCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this._taskUpdateCallbacks.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     * @param callback \n     */\n    public registerTaskCompleteCallback(callback: Function): void {\n        if (this._taskCompleteCallbacks.indexOf(callback) === -1) {\n            this._taskCompleteCallbacks.push(callback);\n        }\n    }\n    \n    /**\n     * \n     * @param callback \n     */\n    public registerTaskRewardClaimedCallback(callback: Function): void {\n        if (this._taskRewardClaimedCallbacks.indexOf(callback) === -1) {\n            this._taskRewardClaimedCallbacks.push(callback);\n        }\n    }\n    \n    /**\n     * \n     */\n    public unregisterTaskRewardClaimedCallback(callback: Function): void {\n        const index = this._taskRewardClaimedCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this._taskRewardClaimedCallbacks.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     */\n    public unregisterTaskCompleteCallback(callback: Function): void {\n        const index = this._taskCompleteCallbacks.indexOf(callback);\n        if (index !== -1) {\n            this._taskCompleteCallbacks.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     */\n    private triggerTaskUpdateCallbacks(task: Task): void {\n        for (const callback of this._taskUpdateCallbacks) {\n            try {\n                callback(task);\n            } catch (e) {\n                console.error('', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    private triggerTaskCompleteCallbacks(task: Task): void {\n        for (const callback of this._taskCompleteCallbacks) {\n            try {\n                callback(task);\n            } catch (e) {\n                console.error('', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    private triggerTaskRewardClaimedCallbacks(task: Task): void {\n        for (const callback of this._taskRewardClaimedCallbacks) {\n            try {\n                callback(task);\n            } catch (e) {\n                console.error('', e);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    public clearData(): void {\n        this._dailyTasks = [];\n        this._achievementTasks = [];\n        this._taskRecords = {};\n        this._taskUpdateCallbacks = [];\n        this._taskCompleteCallbacks = [];\n        this._taskRewardClaimedCallbacks = [];\n        this._onDailyTasksRefreshed = null;\n    }\n}","import { _decorator, Component, Node, ToggleContainer, Toggle } from 'cc';\nimport { BaseUI } from './BaseUI';\nconst { ccclass, property } = _decorator;\n\n/**\n * UI\n * \n */\n@ccclass('TaskUI')\nexport class TaskUI extends BaseUI {\n    // \n    @property(ToggleContainer)\n    tabContainer: ToggleContainer = null;\n\n    // \n    @property(Node)\n    dailyTaskList: Node = null;\n\n    // \n    @property(Node)\n    achievementTaskList: Node = null;\n\n    // \n    @property(Node)\n    detailPopup: Node = null;\n\n    // \n    @property(Node)\n    closeButton: Node = null;\n\n    protected onLoad(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.on(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        if (this.tabContainer) {\n            this.tabContainer.node.on('toggle', this.onTabSwitch, this);\n        }\n        \n        // \n        this.initTaskUI();\n    }\n\n    /**\n     * \n     */\n    private initTaskUI() {\n        // TODO: TaskManager\n        // TODO: \n        // TODO: \n        console.log('TaskUI initialized');\n    }\n\n    /**\n     * \n     */\n    private onTabSwitch() {\n        if (!this.tabContainer) return;\n        \n        const toggles = this.tabContainer.getComponentsInChildren(Toggle);\n        if (toggles.length >= 2) {\n            // /\n            if (toggles[0].isChecked) {\n                // \n                if (this.dailyTaskList) this.dailyTaskList.active = true;\n                if (this.achievementTaskList) this.achievementTaskList.active = false;\n            } else if (toggles[1].isChecked) {\n                // \n                if (this.dailyTaskList) this.dailyTaskList.active = false;\n                if (this.achievementTaskList) this.achievementTaskList.active = true;\n            }\n        }\n    }\n\n    /**\n     * \n     * @param taskId ID\n     */\n    public showTaskDetail(taskId: string) {\n        if (this.detailPopup) {\n            // TODO: ID\n            this.detailPopup.active = true;\n        }\n    }\n\n    /**\n     * \n     * @param taskId ID\n     */\n    public claimReward(taskId: string) {\n        // TODO: TaskManager\n        console.log(`Claim reward for task: ${taskId}`);\n        \n        // \n        this.initTaskUI();\n    }\n\n    /**\n     * \n     */\n    private onCloseClick(): void {\n        // \n        this.hide();\n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.off(Node.EventType.TOUCH_END, this.onCloseClick, this);\n        }\n        \n        // \n        if (this.tabContainer) {\n            this.tabContainer.node.off('toggle', this.onTabSwitch, this);\n        }\n        \n        super.onDestroy();\n    }\n}","import { _decorator, Component, Node, Color } from 'cc';\nimport { ToastUI } from './ToastUI';\nimport { GCtrl } from '../../../GCtrl';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ToastManager')\nexport class ToastManager {\n\n    // UI\n    public static readonly viewLayer = ToastUI.viewLayer;\n    private static instance: ToastManager = null;\n    \n    public static getInstance(): ToastManager {\n        if (!ToastManager.instance) {\n            ToastManager.instance = new ToastManager();\n        }\n        return ToastManager.instance;\n    }\n    \n    /**\n     * \n     * @param message \n     * @param duration \n     */\n    public showMessage(message: string, duration: number = 3): void {\n        console.log('ToastManager:', message);\n        \n        // UIManageropenUIToast\n        this.showToastWithUIManager(message, duration);\n    }\n    \n    /**\n     * \n     * @param message \n     * @param duration \n     * @param fontSize \n     * @param fontColor \n     * @param outlineColor \n     * @param outlineWidth \n     */\n    public showMessageWithStyle(\n        message: string, \n        duration: number = 3,\n        fontSize: number = 40,\n        fontColor: Color = new Color(255, 255, 255, 255),\n        outlineColor: Color = null,\n        outlineWidth: number = 2\n    ): void {\n        console.log('ToastManager:', message);\n        \n        // UIManageropenUIToast\n        this.showToastWithUIManagerAndStyle(message, duration, fontSize, fontColor, outlineColor, outlineWidth);\n    }\n    \n    \n    \n    /**\n     * UIManageropenUIToast\n     * @param message \n     * @param duration \n     */\n    private async showToastWithUIManager(message: string, duration: number = 3): Promise<void> {\n        try {\n            // UIManagerToastUI\n            const toastUI = await gCtrl.ui.openUI(ToastUI);\n            \n            // ToastUI\n            toastUI.init(message, duration, () => {\n                console.log('ToastUI: Toast');\n            });\n            \n            console.log('ToastManager: ToastUI');\n        } catch (error) {\n            console.error('ToastManager: ToastUI', error);\n            // UIManager\n            this.showToastFallback(message, duration);\n        }\n    }\n    \n    /**\n     * UIManageropenUIToast\n     * @param message \n     * @param duration \n     * @param fontSize \n     * @param fontColor \n     * @param outlineColor \n     * @param outlineWidth \n     */\n    public async showToastWithUIManagerAndStyle(\n        message: string, \n        duration: number = 3,\n        fontSize: number = 40,\n        fontColor: Color = new Color(255, 255, 255, 255),\n        outlineColor: Color = null,\n        outlineWidth: number = 2\n    ): Promise<void> {\n        try {\n            // UIManagerToastUI\n            const toastUI = await gCtrl.ui.openUI(ToastUI);\n            \n            // ToastUI\n            toastUI.init(message, duration, () => {\n                console.log('ToastUI: Toast');\n            }, fontSize, fontColor, outlineColor, outlineWidth);\n            \n            console.log('ToastManager: ToastUI');\n        } catch (error) {\n            console.error('ToastManager: ToastUI', error);\n            // UIManager\n            this.showToastFallback(message, duration);\n        }\n    }\n    \n    /**\n     * Toast\n     * @param message \n     * @param duration \n     */\n    private showToastFallback(message: string, duration: number = 3): void {\n        console.warn('ToastManager: Toast');\n        \n        // \n        // console.log\n        console.log('Toast Fallback:', message);\n    }\n}","import { _decorator, Component, Node, UITransform, Label, Color, Vec3, Layers, tween, Sprite } from 'cc';\nimport { UILayer } from './UILayer';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ToastUI')\nexport class ToastUI extends Component {\n\n    // UI\n    public static readonly viewLayer = UILayer.Toast;\n    \n    private message: string = '';\n    private duration: number = 3;\n    private callback: Function = null;\n    private fontSize: number = 40;\n    private fontColor: Color = new Color(255, 255, 255, 255); // \n    private outlineColor: Color = null; // \n    private outlineWidth: number = 2; // \n    \n    /**\n     * Toast\n     * @param message \n     * @param duration \n     * @param callback \n     * @param fontSize \n     * @param fontColor \n     * @param outlineColor \n     * @param outlineWidth \n     */\n    public init(\n        message: string, \n        duration: number = 3, \n        callback: Function = null,\n        fontSize: number = 40,\n        fontColor: Color = new Color(255, 255, 255, 255),\n        outlineColor: Color = null,\n        outlineWidth: number = 2\n    ): void {\n        this.message = message;\n        this.duration = duration;\n        this.callback = callback;\n        this.fontSize = fontSize;\n        this.fontColor = fontColor;\n        this.outlineColor = outlineColor;\n        this.outlineWidth = outlineWidth;\n        this.setupToast();\n    }\n    \n    /**\n     * Toast UI\n     */\n    private setupToast(): void {\n        console.log('ToastUI: Toast UI', this.message);\n        \n        // UITransform\n        const uiTransform = this.node.addComponent(UITransform);\n        uiTransform.setContentSize(700, 200); // \n        \n        // \n        const bgNode = new Node('Background');\n        bgNode.layer = Layers.Enum.UI_2D;\n        this.node.addChild(bgNode);\n        \n        const bgTransform = bgNode.addComponent(UITransform);\n        bgTransform.setContentSize(720, 220); // \n        bgNode.position = new Vec3(0, 0, 0);\n        \n        // Sprite\n        const bgSprite = bgNode.addComponent(Sprite);\n        bgSprite.color = new Color(0, 0, 0, 200); // \n        \n        // \n        const label = new Node('Label');\n        label.layer = Layers.Enum.UI_2D;\n        this.node.addChild(label);\n        \n        const labelComponent = label.addComponent(Label);\n        labelComponent.string = this.message;\n        labelComponent.fontSize = this.fontSize;\n        labelComponent.color = this.fontColor;\n        labelComponent.horizontalAlign = 1; // CENTER\n        labelComponent.verticalAlign = 1; // CENTER\n        labelComponent.overflow = 2; // RESIZE_HEIGHT - \n        \n        // \n        if (this.outlineColor) {\n            labelComponent.enableOutline = true;\n            labelComponent.outlineColor = this.outlineColor;\n            labelComponent.outlineWidth = this.outlineWidth;\n        }\n        \n        const labelTransform = label.addComponent(UITransform);\n        labelTransform.setContentSize(700, 100); // \n        \n        //  - Canvas\n        this.node.position = new Vec3(0, -400, 0);\n        \n        // \n        this.playAnimation();\n    }\n    \n    /**\n     * \n     */\n    private playAnimation(): void {\n        this.node.setScale(0, 0, 0);\n        tween(this.node)\n            .to(0.3, { scale: new Vec3(1, 1, 1) }, { easing: 'backOut' })\n            .delay(Math.max(0, this.duration - 0.6))\n            .to(0.3, { scale: new Vec3(0, 0, 0) }, { easing: 'backIn' })\n            .call(() => {\n                if (this.callback) {\n                    this.callback();\n                }\n                this.node.destroy();\n            })\n            .start();\n    }\n}","import { AudioManager } from '../audio/AudioManager';\nimport { createBundleObject } from '../res/ResConst';\nimport { BaseSkill, SkillConfig, SkillType, SkillState } from './SkillBase';\nimport { Vec3, tween } from 'cc';\n\n/**\n * \n * \n */\nexport class TuoDaoHuiMaSkill extends BaseSkill {\n    private gameUI: any;\n    \n    constructor(config: SkillConfig, gameUI: any) {\n        super(config);\n        this.gameUI = gameUI;\n    }\n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    public async onExecute(params?: any): Promise<boolean> {\n        try {\n            console.log(`: ${this.config.name}`);\n            \n            // \n            const lastZi = this.getLastZiFromCollection();\n            \n            if (!lastZi) {\n                console.warn('');\n                return false;\n            }\n            \n            // \n            const success = await this.returnZiToBoard(lastZi);\n            \n            if (success) {\n                console.log(``);\n                return true;\n            } else {\n                console.warn('');\n                return false;\n            }\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @returns null\n     */\n    private getLastZiFromCollection(): any {\n        // Match3UI\n        const collectionZiList = this.gameUI.m_PlaceHolders;\n        \n        if (!collectionZiList || collectionZiList.length === 0) {\n            return null;\n        }\n        \n        // \n        return collectionZiList[collectionZiList.length - 1];\n    }\n    \n    /**\n     * \n     * @param zi \n     * @returns \n     */\n    private async returnZiToBoard(zi: any): Promise<boolean> {\n        try {\n            // \n            const index = this.gameUI.m_PlaceHolders.indexOf(zi);\n            if (index !== -1) {\n                this.gameUI.m_PlaceHolders.splice(index, 1);\n            }\n            \n            // \n            if (zi.row === undefined || zi.col === undefined) {\n                console.warn('');\n                return false;\n            }\n            \n            // \n            zi.isCollected = false;\n            \n            // \n            zi.node.parent = this.gameUI.board;\n            \n            // z-index\n            zi.node.setSiblingIndex(this.gameUI.board.children.length - 1);\n            \n            // \n            // Match3UIcol * 17, row * 20\n            const targetX = zi.col * 17;\n            const targetY = zi.row * 20;\n            \n            AudioManager.ins.playSound(createBundleObject(\"Res/Audio/stop_horse\", \"LoginBN\"));\n\n            // \n            await new Promise<void>((resolve) => {\n                tween(zi.node)\n                    .to(0.3, { position: new Vec3(targetX, targetY, 0) })\n                    .call(() => {\n                        // Match3UIaddZi\n                        this.gameUI.addZi(zi);\n                        \n                        // \n                        if (zi && zi.setClickable) {\n                            zi.setClickable(this.gameUI.calcClickable(zi));\n                        }\n                        \n                        // \n                        this.updateAffectedZisClickable(zi);\n                        \n                        // UI\n                        this.gameUI.updateUI();\n                        \n                        resolve();\n                    })\n                    .start();\n            });\n            \n            return true;\n        } catch (error) {\n            console.error('', error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param returnedZi \n     */\n    private updateAffectedZisClickable(returnedZi: any): void {\n        // \n        let stack: any = null;\n        for (let r = 0; r < 6; r++) {\n            for (let c = 0; c < 6; c++) {\n                stack = this.gameUI.stacks[returnedZi.row + r][returnedZi.col + c];\n                if (!stack.empty && stack.top && stack.top !== returnedZi) {\n                    // \n                    if (stack.top.setClickable) {\n                        stack.top.setClickable(this.gameUI.calcClickable(stack.top));\n                    }\n                }\n            }\n        }\n        \n        // \n        this.gameUI.m_ZiList.forEach(zi => {\n            if (zi !== returnedZi && zi.setClickable) {\n                zi.setClickable(this.gameUI.calcClickable(zi));\n            }\n        });\n    }\n    \n    \n    /**\n     * \n     * @param params \n     * @returns \n     */\n    protected onBeforeActivate(params?: any): boolean {\n        // \n        const collectionZiList = this.gameUI.m_PlaceHolders;\n        \n        if (!collectionZiList || collectionZiList.length === 0) {\n            console.warn('');\n            this.sendToast('');\n            return false;\n        }\n        \n        return true;\n    }\n}","/**\n * UI\n */\nexport enum UILayer {\n    /** */\n    Scene,\n    /** */\n    UI,\n    /** */\n    Guide,\n    /** */\n    Anim,\n    /** */\n    Transform,\n    /** */\n    Loading,\n    /** */\n    Modal,\n    /** */\n    Toast\n}","import { Burst, Canvas, Color, Component, Constructor, Label, Layers, Node, Prefab, ResolutionPolicy, Size, UITransform, assetManager, instantiate, js, screen, view } from \"cc\";\nimport { UILayer } from \"./UILayer\";\nimport { ResLoader } from \"../res/ResLoader\";\n\nconst g_KeyCls2BUrl = new Map<string, IBundleUrl>();\n/**UI */\nexport function registerBUrlByCfg(cfg: { [uiClassName: string]: IBundleUrl }) {\n    for (let uiClassName in cfg) {\n        g_KeyCls2BUrl.set(uiClassName, cfg[uiClassName]);\n    }\n}\n\n\nconst g_UICls2BUrl = new Map<any, IBundleUrl>();\n\n/** \n * \n * iPad  = 1001 x 1334 ( 1001  1668/1.6672)\n * iPhone16 = 750 x1626 1626 = 2556/1.572\n */\nexport const G_VIEW_SIZE = new Size(0, 0);\n/**\n* \n*/\nfunction adapterScreen(): void {\n    //\n    let resolutionPolicy: ResolutionPolicy = view.getResolutionPolicy();\n    //\n    let designSize: Size = view.getDesignResolutionSize();\n    //\n    let frameSize = screen.windowSize;\n    let frameW = frameSize.width;\n    let frameH = frameSize.height;\n    //\n    const isScreenWidthLarger = (frameW / frameH) > (designSize.width / designSize.height);\n    //\n    let targetResolutionPolicy = isScreenWidthLarger ? ResolutionPolicy.FIXED_HEIGHT : ResolutionPolicy.FIXED_WIDTH;\n    if (targetResolutionPolicy != resolutionPolicy.getContentStrategy().strategy) {\n        //\n        view.setDesignResolutionSize(designSize.width, designSize.height, targetResolutionPolicy);\n        view.emit(\"canvas-resize\");\n    }\n\n    /** */\n    if (isScreenWidthLarger) {\n        G_VIEW_SIZE.width = Math.ceil(designSize.height * frameSize.width / frameSize.height);\n        G_VIEW_SIZE.height = designSize.height;\n    } else {\n        G_VIEW_SIZE.width = designSize.width;\n        G_VIEW_SIZE.height = Math.ceil(designSize.width * frameSize.height / frameSize.width);\n    }\n    console.log(`${isScreenWidthLarger ? \", \" : \", \"}: ${G_VIEW_SIZE.width}x${G_VIEW_SIZE.height}`);\n}\n\n/** */\nexport function setUIClassBUrl(uiClass: any, bUrl: IBundleUrl): void {\n    g_UICls2BUrl.set(uiClass, bUrl);\n}\n\n/** */\nexport function getUIClassBUrl(uiClass: any): IBundleUrl {\n    //->BUrl\n    if (g_UICls2BUrl.has(uiClass)) {\n        return g_UICls2BUrl.get(uiClass);\n    }\n    //\n    let uiClassName = js.getClassName(uiClass);\n    let bUrl = g_KeyCls2BUrl.get(uiClassName);\n    if (!bUrl) {\n        //IBundleUrl\n        console.warn(\"\", uiClassName);\n        return { bundleName: \"\", url: \"\", id: \"\" };\n    }\n    //\n    g_UICls2BUrl.set(uiClass, bUrl);\n    return bUrl;\n}\n\n// g_UICls2BUrl.set(Match3UI, createBundleObject(\"Match3UI\", \"Match3BN\"));\n\nclass MyLayer {\n    public readonly node: Node;\n    constructor(public readonly layer: UILayer, public readonly canvas: Canvas, name: string) {\n        const node = this.node = new Node(name);\n        node.layer = layer;\n        if (!node.layer) {\n            node.layer = Layers.Enum.UI_2D;\n        }\n        node.addComponent(UITransform);\n        canvas.node.addChild(node);\n    }\n}\n\n/**\n * UI\n */\nexport default class UIManager {\n\n    private m_Canvas: Canvas = null;\n\n    private m_Layers: MyLayer[] = [];\n\n    // private constructor() {\n    //     //\n    // }\n\n    init(canvas: Canvas) {\n        this.m_Canvas = canvas;\n        adapterScreen();\n        for (let layer = UILayer.Scene, maxLayer = UILayer.Toast; layer <= maxLayer; ++layer) {\n            this.m_Layers.push(new MyLayer(layer, canvas, UILayer[layer]));\n        }\n    }\n\n    /**\n     * \n     * @param uiClass \n     */\n    /**\n     * UI\n     * @param uiClass UI\n     * @returns UI\n     */\n    public async openUI<UI extends Component>(uiClass: Constructor<UI> & { readonly viewLayer?: UILayer }): Promise<UI> {\n        console.log('UIManager: UI', js.getClassName(uiClass));\n        \n        //\n        const viewLayer: UILayer = typeof (uiClass.viewLayer) == 'number' ? uiClass.viewLayer : UILayer.UI;\n        if (!viewLayer) {\n            console.error('UIManager: UIviewLayer', js.getClassName(uiClass));\n            throw new Error(`UI ${js.getClassName(uiClass)} viewLayer`);\n        }\n        \n        // UI\n        const config = getUIClassBUrl(uiClass);\n        if (!config) {\n            console.error('UIManager: UIPrefabCfg', js.getClassName(uiClass));\n            throw new Error(`UI ${js.getClassName(uiClass)} PrefabCfg`);\n        }\n        \n        console.log('UIManager: UI', config);\n        \n        const resLoader = new ResLoader();\n        resLoader.addUI(uiClass);\n        \n        // bundleURL\n        if (config.bundleName && config.url) {\n            console.log('UIManager: UI', { bundleName: config.bundleName, url: config.url });\n            \n            try {\n                await resLoader.load();\n            } catch (error) {\n                console.error('UIManager: UI', error);\n                throw new Error(`UI: ${js.getClassName(uiClass)}`);\n            }\n            \n            console.log('UIManager: UI');\n        } else {\n            console.log('UIManager: ');\n        }\n        \n        let ui = this.instantiate(uiClass);\n        \n        if (!ui) {\n            console.error('UIManager: UI', js.getClassName(uiClass));\n            throw new Error(`UI: ${js.getClassName(uiClass)}`);\n        }\n        \n        console.log('UIManager: UI');\n        \n        this.m_Layers[viewLayer].node.addChild(ui.node);\n        \n        // ToastUIUITransformUITransform\n        if (js.getClassName(uiClass) === 'ToastUI') {\n            // UITransform\n            let uiTransform = ui.getComponent(UITransform);\n            if (!uiTransform) {\n                uiTransform = ui.node.addComponent(UITransform);\n            }\n            uiTransform.setContentSize(G_VIEW_SIZE.clone());\n        } else {\n            // UI\n            ui.getComponent(UITransform).setContentSize(G_VIEW_SIZE.clone());\n        }\n        \n        resLoader.autoRelease(ui);\n        \n        console.log('UIManager: UI', js.getClassName(uiClass));\n        return ui;\n    }\n\n\n    /** */\n    public instantiate<UE extends Component>(ueClass: Constructor<UE>): UE {\n        let bUrl = getUIClassBUrl(ueClass);\n        // bundleURL\n        if (!bUrl.bundleName || !bUrl.url) {\n            let node: Node = new Node(js.getClassName(ueClass));\n            return (node.getComponent(ueClass as any) || node.addComponent(ueClass as any)) as any as UE;\n        }\n        // \n        let bundle = assetManager.getBundle(bUrl.bundleName);\n        let prefab: Prefab = bundle.get(bUrl.url, Prefab);\n        let node: Node = instantiate(prefab);\n        return (node.getComponent(ueClass as any) || node.addComponent(ueClass as any)) as any as UE;\n    }\n}","import { AdType, AdEventType, AdEventParam } from './AdManager';\nimport { IAdAdapter, AdLoadState, AdEventListener } from './IAdAdapter';\n\n/**\n * \n * \n */\nexport class WechatAdAdapter implements IAdAdapter {\n    /**\n     * \n     */\n    private eventListeners: AdEventListener[] = [];\n    \n    /**\n     * \n     */\n    private adLoadStates: Map<AdType, AdLoadState> = new Map();\n    \n    /**\n     * ID\n     */\n    private adUnitIds: Map<AdType, string> = new Map();\n    \n    /**\n     * \n     */\n    private rewardVideoAd: any = null;\n    \n    /**\n     * \n     */\n    private interstitialAd: any = null;\n    \n    /**\n     * \n     */\n    constructor() {\n        // \n        this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.NOT_LOADED);\n        this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.NOT_LOADED);\n    }\n    \n    /**\n     * \n     * @param adUnitIds ID\n     */\n    public init(adUnitIds: { [key in AdType]?: string }): void {\n        console.log('WechatAdAdapter: ');\n        \n        // \n        if (typeof window === 'undefined' || !window['wx']) {\n            console.error('WechatAdAdapter: ');\n            return;\n        }\n        \n        // ID\n        for (const adType in adUnitIds) {\n            if (adUnitIds[adType as AdType]) {\n                this.adUnitIds.set(adType as AdType, adUnitIds[adType as AdType]!);\n                console.log(`WechatAdAdapter: ${adType}ID${adUnitIds[adType as AdType]}`);\n            }\n        }\n        \n        // \n        this.initRewardVideoAd();\n        \n        // \n        this.initInterstitialAd();\n    }\n    \n    /**\n     * \n     */\n    private initRewardVideoAd(): void {\n        const adUnitId = this.adUnitIds.get(AdType.REWARD_VIDEO);\n        if (!adUnitId) {\n            console.error('WechatAdAdapter: ID');\n            return;\n        }\n        \n        try {\n            // \n            this.rewardVideoAd = window['wx'].createRewardedVideoAd({\n                adUnitId: adUnitId\n            });\n            \n            // \n            this.rewardVideoAd.onLoad(() => {\n                console.log('WechatAdAdapter: ');\n                this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.LOADED);\n                this.triggerEvent({\n                    type: AdEventType.LOAD_SUCCESS,\n                    adType: AdType.REWARD_VIDEO,\n                    adUnitId: adUnitId,\n                });\n            });\n            \n            // \n            this.rewardVideoAd.onError((err: any) => {\n                // \n                const errorDetails = {\n                    errCode: err.errCode || '',\n                    errMsg: err.errMsg || '',\n                    errDetail: err.errDetail || '',\n                    fullError: JSON.stringify(err)\n                };\n                \n                console.error('WechatAdAdapter: ', errorDetails);\n                this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.FAILED);\n                this.triggerEvent({\n                    type: AdEventType.LOAD_FAILED,\n                    adType: AdType.REWARD_VIDEO,\n                    adUnitId: adUnitId,\n                    error: err.errMsg || '',\n                });\n                \n                // \n                // \n                if (err.errCode === 2004 || err.errCode === 2005) {\n                    console.log('WechatAdAdapter: ');\n                } else {\n                    // \n                    setTimeout(() => {\n                        this.loadAd(AdType.REWARD_VIDEO);\n                    }, 3000);\n                }\n            });\n            \n            // \n            this.rewardVideoAd.onClose((res: any) => {\n                console.log('WechatAdAdapter: ', res);\n                this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.NOT_LOADED);\n                \n                // \n                const rewardKey = this.rewardVideoAd['rewardKey'] || 'reward_video_default';\n                \n                // \n                if (res && res.isEnded || res === undefined) {\n                    console.log('WechatAdAdapter: ');\n                    // \n                    this.triggerEvent({\n                        type: AdEventType.REWARDED,\n                        adType: AdType.REWARD_VIDEO,\n                        adUnitId: adUnitId,\n                        rewardKey: rewardKey,\n                        reward: { type: 'coin', amount: 100 }, // AdManager\n                    });\n                } else {\n                    console.log('WechatAdAdapter: ');\n                    this.triggerEvent({\n                        type: AdEventType.CLOSED,\n                        adType: AdType.REWARD_VIDEO,\n                        adUnitId: adUnitId,\n                        rewardKey: rewardKey,\n                    });\n                }\n                \n                // \n                this.rewardVideoAd['rewardKey'] = undefined;\n                \n                // \n                this.loadAd(AdType.REWARD_VIDEO);\n            });\n            \n            // \n            this.loadAd(AdType.REWARD_VIDEO);\n        } catch (error) {\n            console.error('WechatAdAdapter: ', error);\n            this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.FAILED);\n        }\n    }\n    \n    /**\n     * \n     */\n    private initInterstitialAd(): void {\n        const adUnitId = this.adUnitIds.get(AdType.INTERSTITIAL);\n        if (!adUnitId) {\n            console.error('WechatAdAdapter: ID');\n            return;\n        }\n        \n        try {\n            // \n            this.interstitialAd = window['wx'].createInterstitialAd({\n                adUnitId: adUnitId\n            });\n            \n            // \n            this.interstitialAd.onLoad(() => {\n                console.log('WechatAdAdapter: ');\n                this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.LOADED);\n                this.triggerEvent({\n                    type: AdEventType.LOAD_SUCCESS,\n                    adType: AdType.INTERSTITIAL,\n                    adUnitId: adUnitId,\n                });\n            });\n            \n            // \n            this.interstitialAd.onError((err: any) => {\n                // \n                const errorDetails = {\n                    errCode: err.errCode || '',\n                    errMsg: err.errMsg || '',\n                    errDetail: err.errDetail || '',\n                    fullError: JSON.stringify(err)\n                };\n                \n                console.error('WechatAdAdapter: ', errorDetails);\n                this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.FAILED);\n                this.triggerEvent({\n                    type: AdEventType.LOAD_FAILED,\n                    adType: AdType.INTERSTITIAL,\n                    adUnitId: adUnitId,\n                    error: err.errMsg || '',\n                });\n                \n                // \n                // \n                if (err.errCode === 2004 || err.errCode === 2005) {\n                    console.log('WechatAdAdapter: ');\n                } else {\n                    // \n                    setTimeout(() => {\n                        this.loadAd(AdType.INTERSTITIAL);\n                    }, 3000);\n                }\n            });\n            \n            // \n            this.interstitialAd.onClose(() => {\n                console.log('WechatAdAdapter: ');\n                this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.NOT_LOADED);\n                \n                this.triggerEvent({\n                    type: AdEventType.CLOSED,\n                    adType: AdType.INTERSTITIAL,\n                    adUnitId: adUnitId,\n                });\n                \n                // \n                this.loadAd(AdType.INTERSTITIAL);\n            });\n            \n            // \n            this.loadAd(AdType.INTERSTITIAL);\n        } catch (error) {\n            console.error('WechatAdAdapter: ', error);\n            this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.FAILED);\n        }\n    }\n    \n    /**\n     * \n     * @param adType \n     */\n    public loadAd(adType: AdType): void {\n        if (this.getAdLoadState(adType) === AdLoadState.LOADING) {\n            console.log(`WechatAdAdapter: ${adType}`);\n            return;\n        }\n        \n        console.log(`WechatAdAdapter: ${adType}`);\n        this.adLoadStates.set(adType, AdLoadState.LOADING);\n        \n        try {\n            if (adType === AdType.REWARD_VIDEO && this.rewardVideoAd) {\n                this.rewardVideoAd.load()\n                    .then(() => {\n                        console.log(`WechatAdAdapter: ${adType}`);\n                    })\n                    .catch((err: any) => {\n                        // \n                        const errorDetails = {\n                            errCode: err.errCode || '',\n                            errMsg: err.errMsg || '',\n                            errDetail: err.errDetail || '',\n                            fullError: JSON.stringify(err)\n                        };\n                        \n                        console.error(`WechatAdAdapter: ${adType}`, errorDetails);\n                        this.adLoadStates.set(adType, AdLoadState.FAILED);\n                        this.triggerEvent({\n                            type: AdEventType.LOAD_FAILED,\n                            adType: adType,\n                            adUnitId: this.adUnitIds.get(adType),\n                            error: err.errMsg || '',\n                        });\n                    });\n            } else if (adType === AdType.INTERSTITIAL && this.interstitialAd) {\n                this.interstitialAd.load()\n                    .then(() => {\n                        console.log(`WechatAdAdapter: ${adType}`);\n                    })\n                    .catch((err: any) => {\n                        // \n                        const errorDetails = {\n                            errCode: err.errCode || '',\n                            errMsg: err.errMsg || '',\n                            errDetail: err.errDetail || '',\n                            fullError: JSON.stringify(err)\n                        };\n                        \n                        console.error(`WechatAdAdapter: ${adType}`, errorDetails);\n                        this.adLoadStates.set(adType, AdLoadState.FAILED);\n                        this.triggerEvent({\n                            type: AdEventType.LOAD_FAILED,\n                            adType: adType,\n                            adUnitId: this.adUnitIds.get(adType),\n                            error: err.errMsg || '',\n                        });\n                    });\n            } else {\n                console.error(`WechatAdAdapter: ${adType}`);\n                this.adLoadStates.set(adType, AdLoadState.FAILED);\n            }\n        } catch (error) {\n            console.error(`WechatAdAdapter: ${adType}`, error);\n            this.adLoadStates.set(adType, AdLoadState.FAILED);\n        }\n    }\n    \n    /**\n     * \n     * @param adType \n     * @param rewardKey \n     * @returns \n     */\n    public showAd(adType: AdType, rewardKey?: string, customParams: any = {}): boolean {\n        if (!this.isAdLoaded(adType)) {\n            console.log(`WechatAdAdapter: ${adType}`);\n            this.loadAd(adType);\n            return false;\n        }\n        \n        console.log(`WechatAdAdapter: ${adType}`);\n        try {\n            if (adType === AdType.REWARD_VIDEO && this.rewardVideoAd) {\n                // onClose\n                if (rewardKey) {\n                    this.rewardVideoAd['rewardKey'] = rewardKey;\n                }\n                \n                this.rewardVideoAd.show()\n                    .then(() => {\n                        console.log(`WechatAdAdapter: ${adType}`);\n                        this.triggerEvent({\n                            type: AdEventType.SHOW_SUCCESS,\n                            adType: adType,\n                            rewardKey: rewardKey,\n                            adUnitId: this.adUnitIds.get(adType),\n                            customParams: customParams\n                        });\n                    })\n                    .catch((err: any) => {\n                        // \n                        const errorDetails = {\n                            errCode: err.errCode || '',\n                            errMsg: err.errMsg || '',\n                            errDetail: err.errDetail || '',\n                            fullError: JSON.stringify(err)\n                        };\n                        \n                        console.error(`WechatAdAdapter: ${adType}`, errorDetails);\n                        this.triggerEvent({\n                            type: AdEventType.SHOW_FAILED,\n                            adType: adType,\n                            rewardKey: rewardKey,\n                            adUnitId: this.adUnitIds.get(adType),\n                            error: err.errMsg || '',\n                            customParams: customParams\n                        });\n                        \n                        // \n                        // \n                        if (err.errCode === 2004 || err.errCode === 2005) {\n                            console.log('WechatAdAdapter: ');\n                            this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.FAILED);\n                        } else {\n                            // \n                            this.loadAd(AdType.REWARD_VIDEO);\n                        }\n                    });\n                return true;\n            } else if (adType === AdType.INTERSTITIAL && this.interstitialAd) {\n                this.interstitialAd.show()\n                    .then(() => {\n                        console.log(`WechatAdAdapter: ${adType}`);\n                        this.adLoadStates.set(adType, AdLoadState.NOT_LOADED);\n                        this.triggerEvent({\n                            type: AdEventType.SHOW_SUCCESS,\n                            adType: adType,\n                            rewardKey: rewardKey,\n                            adUnitId: this.adUnitIds.get(adType),\n                            customParams: customParams\n                        });\n                    })\n                    .catch((err: any) => {\n                        // \n                        const errorDetails = {\n                            errCode: err.errCode || '',\n                            errMsg: err.errMsg || '',\n                            errDetail: err.errDetail || '',\n                            fullError: JSON.stringify(err)\n                        };\n                        \n                        console.error(`WechatAdAdapter: ${adType}`, errorDetails);\n                        this.triggerEvent({\n                            type: AdEventType.SHOW_FAILED,\n                            adType: adType,\n                            rewardKey: rewardKey,\n                            adUnitId: this.adUnitIds.get(adType),\n                            error: err.errMsg || '',\n                            customParams: customParams\n                        });\n                        \n                        // \n                        this.loadAd(adType);\n                    });\n                return true;\n            } else {\n                console.error(`WechatAdAdapter: ${adType}`);\n                return false;\n            }\n        } catch (error) {\n            console.error(`WechatAdAdapter: ${adType}`, error);\n            return false;\n        }\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public getAdLoadState(adType: AdType): AdLoadState {\n        return this.adLoadStates.get(adType) || AdLoadState.NOT_LOADED;\n    }\n    \n    /**\n     * \n     * @param adType \n     * @returns \n     */\n    public isAdLoaded(adType: AdType): boolean {\n        return this.getAdLoadState(adType) === AdLoadState.LOADED;\n    }\n    \n    /**\n     * \n     * @param listener \n     */\n    public addEventListener(listener: AdEventListener): void {\n        if (this.eventListeners.indexOf(listener) === -1) {\n            this.eventListeners.push(listener);\n        }\n    }\n    \n    /**\n     * \n     * @param listener \n     */\n    public removeEventListener(listener: AdEventListener): void {\n        const index = this.eventListeners.indexOf(listener);\n        if (index !== -1) {\n            this.eventListeners.splice(index, 1);\n        }\n    }\n    \n    /**\n     * \n     * @param param \n     */\n    private triggerEvent(param: AdEventParam): void {\n        for (const listener of this.eventListeners) {\n            try {\n                listener(param);\n            } catch (error) {\n                console.error('WechatAdAdapter: ', error);\n            }\n        }\n    }\n    \n    /**\n     * \n     */\n    public destroy(): void {\n        console.log('WechatAdAdapter: ');\n        \n        // \n        if (this.rewardVideoAd) {\n            this.rewardVideoAd.offLoad();\n            this.rewardVideoAd.offError();\n            this.rewardVideoAd.offClose();\n            this.rewardVideoAd = null;\n        }\n        \n        // \n        if (this.interstitialAd) {\n            this.interstitialAd.offLoad();\n            this.interstitialAd.offError();\n            this.interstitialAd.offClose();\n            this.interstitialAd = null;\n        }\n        \n        // \n        this.eventListeners = [];\n        \n        // \n        this.adLoadStates.set(AdType.REWARD_VIDEO, AdLoadState.NOT_LOADED);\n        this.adLoadStates.set(AdType.INTERSTITIAL, AdLoadState.NOT_LOADED);\n    }\n}","import { _decorator, sys } from 'cc';\nimport { RankManager, RankType, RankData } from './RankManager';\nimport { GameDataManager } from '../data/GameDataManager';\n\n/**\n * \n * \n */\nexport class WechatOpenDataContext {\n    private static instance: WechatOpenDataContext;\n    \n    // \n    private rankManager: RankManager = null;\n    \n    // \n    public static getInstance(): WechatOpenDataContext {\n        if (!WechatOpenDataContext.instance) {\n            WechatOpenDataContext.instance = new WechatOpenDataContext();\n        }\n        return WechatOpenDataContext.instance;\n    }\n    \n    // \n    private constructor() {\n        // RankManager\n        // this.rankManager = RankManager.getInstance();\n    }\n    \n    // \n    private getRankManager(): RankManager {\n        if (!this.rankManager) {\n            this.rankManager = RankManager.getInstance();\n        }\n        return this.rankManager;\n    }\n    \n    /**\n     * \n     */\n    public isWechatEnvironment(): boolean {\n        return typeof window !== 'undefined' && window['wx'];\n    }\n    \n    /**\n     * \n     */\n    public init(): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // \n            wx.createOpenDataContext({\n                success: () => {\n                    console.log('');\n                },\n                fail: (err) => {\n                    console.error(':', err);\n                }\n            });\n            \n            // \n            wx.getUserInfo({\n                success: (res) => {\n                    console.log(':', res);\n                    // \n                    this.updateLocalUserInfo(res.userInfo);\n                },\n                fail: (err) => {\n                    console.error(':', err);\n                }\n            });\n            \n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     * @param userInfo \n     */\n    private updateLocalUserInfo(userInfo: any): void {\n        try {\n            const gameDataManager = GameDataManager.getInstance();\n            const currentUserInfo = gameDataManager.getUserInfo();\n            \n            // \n            currentUserInfo.username = userInfo.nickName;\n            currentUserInfo.avatar = userInfo.avatarUrl;\n            \n            // \n            gameDataManager.saveUserInfo();\n            \n            console.log(':', userInfo.nickName);\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     * @param coin \n     * @param level \n     */\n    public uploadUserData(coin: number, level: number): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // \n            wx.setUserCloudStorage({\n                KVDataList: [\n                    { key: 'coin', value: coin.toString() },\n                    { key: 'level', value: level.toString() }\n                ],\n                success: () => {\n                    console.log('');\n                },\n                fail: (err) => {\n                    console.error(':', err);\n                }\n            });\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     * @param rankType \n     * @param successCallback \n     * @param failCallback \n     */\n    public getFriendRankData(rankType: RankType, successCallback?: (data: RankData[]) => void, failCallback?: (err: any) => void): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            if (failCallback) {\n                failCallback({ errMsg: '' });\n            }\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // getFriendCloudStorage\n            // \n            if (typeof wx.getOpenDataContext === 'function') {\n                const openDataContext = wx.getOpenDataContext();\n                \n                // \n                openDataContext.postMessage({\n                    type: 'getFriendRankData',\n                    rankType: rankType === RankType.COIN ? 'coin' : 'level'\n                });\n                \n                // \n                let messageHandled = false;\n                \n                // \n                const globalHandlerName = 'handleFriendRankMessage_' + Date.now();\n                window[globalHandlerName] = (message: any) => {\n                    if (!messageHandled && message.type === 'friendRankDataResponse') {\n                        messageHandled = true;\n                        // \n                        delete window[globalHandlerName];\n                        \n                        if (message.success && message.data) {\n                            console.log(':', message.data);\n                            \n                            // \n                            const rankData = this.processWechatRankData(message.data, rankType);\n                            \n                            // \n                            const rankManager = this.getRankManager();\n                            if (rankType === RankType.COIN) {\n                                // \n                                rankManager['coinRankData'] = rankData;\n                            } else if (rankType === RankType.LEVEL) {\n                                // \n                                rankManager['levelRankData'] = rankData;\n                            }\n                            \n                            // \n                            rankManager['saveLocalData']();\n                            \n                            // \n                            rankManager['triggerEvent'](\n                                rankManager.constructor['RankEventType'].DATA_UPDATED,\n                                rankType,\n                                rankData\n                            );\n                            \n                            // \n                            if (successCallback) {\n                                successCallback(rankData);\n                            }\n                        } else {\n                            console.error(':', message.error);\n                            \n                            // \n                            const rankManager = this.getRankManager();\n                            rankManager['triggerEvent'](\n                                rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                                rankType,\n                                undefined,\n                                ''\n                            );\n                            \n                            // \n                            if (failCallback) {\n                                failCallback(message.error || { errMsg: '' });\n                            }\n                        }\n                    }\n                };\n                \n                // onMessage\n                try {\n                    wx.onMessage(window[globalHandlerName]);\n                } catch (e) {\n                    console.error('wx.onMessage', e);\n                    // \n                    delete window[globalHandlerName];\n                    \n                    // \n                    const rankManager = this.getRankManager();\n                    rankManager['triggerEvent'](\n                        rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                        rankType,\n                        undefined,\n                        'wx.onMessage'\n                    );\n                    \n                    // \n                    if (failCallback) {\n                        failCallback({ errMsg: 'wx.onMessage' });\n                    }\n                    return;\n                }\n                \n                // \n                setTimeout(() => {\n                    if (!messageHandled) {\n                        // \n                        delete window[globalHandlerName];\n                        console.error('');\n                        \n                        // \n                        const rankManager = this.getRankManager();\n                        rankManager['triggerEvent'](\n                            rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                            rankType,\n                            undefined,\n                            ''\n                        );\n                        \n                        // \n                        if (failCallback) {\n                            failCallback({ errMsg: '' });\n                        }\n                    }\n                }, 5000);\n            } else {\n                // \n                if (failCallback) {\n                    failCallback({ errMsg: '' });\n                }\n            }\n        } catch (error) {\n            console.error(':', error);\n            \n            // \n            const rankManager = this.getRankManager();\n            rankManager['triggerEvent'](\n                rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                rankType,\n                undefined,\n                ''\n            );\n            \n            // \n            if (failCallback) {\n                failCallback(error);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param shareTicket \n     * @param rankType \n     * @param successCallback \n     * @param failCallback \n     */\n    public getGroupRankData(shareTicket: string, rankType: RankType, successCallback?: (data: RankData[]) => void, failCallback?: (err: any) => void): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            if (failCallback) {\n                failCallback({ errMsg: '' });\n            }\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // getGroupCloudStorage\n            // \n            if (typeof wx.getOpenDataContext === 'function') {\n                const openDataContext = wx.getOpenDataContext();\n                \n                // \n                openDataContext.postMessage({\n                    type: 'getGroupRankData',\n                    shareTicket: shareTicket,\n                    rankType: rankType === RankType.COIN ? 'coin' : 'level'\n                });\n                \n                // \n                let messageHandled = false;\n                \n                // \n                const globalHandlerName = 'handleGroupRankMessage_' + Date.now();\n                window[globalHandlerName] = (message: any) => {\n                    if (!messageHandled && message.type === 'groupRankDataResponse') {\n                        messageHandled = true;\n                        // \n                        delete window[globalHandlerName];\n                        \n                        if (message.success && message.data) {\n                            console.log(':', message.data);\n                            \n                            // \n                            const rankData = this.processWechatRankData(message.data, rankType);\n                            \n                            // \n                            const rankManager = this.getRankManager();\n                            if (rankType === RankType.COIN) {\n                                // \n                                rankManager['coinRankData'] = rankData;\n                            } else if (rankType === RankType.LEVEL) {\n                                // \n                                rankManager['levelRankData'] = rankData;\n                            }\n                            \n                            // \n                            rankManager['saveLocalData']();\n                            \n                            // \n                            rankManager['triggerEvent'](\n                                rankManager.constructor['RankEventType'].DATA_UPDATED,\n                                rankType,\n                                rankData\n                            );\n                            \n                            // \n                            if (successCallback) {\n                                successCallback(rankData);\n                            }\n                        } else {\n                            console.error(':', message.error);\n                            \n                            // \n                            const rankManager = this.getRankManager();\n                            rankManager['triggerEvent'](\n                                rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                                rankType,\n                                undefined,\n                                ''\n                            );\n                            \n                            // \n                            if (failCallback) {\n                                failCallback(message.error || { errMsg: '' });\n                            }\n                        }\n                    }\n                };\n                \n                // onMessage\n                try {\n                    wx.onMessage(window[globalHandlerName]);\n                } catch (e) {\n                    console.error('wx.onMessage', e);\n                    // \n                    delete window[globalHandlerName];\n                    \n                    // \n                    const rankManager = this.getRankManager();\n                    rankManager['triggerEvent'](\n                        rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                        rankType,\n                        undefined,\n                        'wx.onMessage'\n                    );\n                    \n                    // \n                    if (failCallback) {\n                        failCallback({ errMsg: 'wx.onMessage' });\n                    }\n                    return;\n                }\n                \n                // \n                setTimeout(() => {\n                    if (!messageHandled) {\n                        // \n                        delete window[globalHandlerName];\n                        console.error('');\n                        \n                        // \n                        const rankManager = this.getRankManager();\n                        rankManager['triggerEvent'](\n                            rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                            rankType,\n                            undefined,\n                            ''\n                        );\n                        \n                        // \n                        if (failCallback) {\n                            failCallback({ errMsg: '' });\n                        }\n                    }\n                }, 5000);\n            } else {\n                // \n                if (failCallback) {\n                    failCallback({ errMsg: '' });\n                }\n            }\n        } catch (error) {\n            console.error(':', error);\n            \n            // \n            const rankManager = this.getRankManager();\n            rankManager['triggerEvent'](\n                rankManager.constructor['RankEventType'].REFRESH_FAILED,\n                rankType,\n                undefined,\n                ''\n            );\n            \n            // \n            if (failCallback) {\n                failCallback(error);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param data \n     * @param rankType \n     * @returns \n     */\n    private processWechatRankData(data: any[], rankType: RankType): RankData[] {\n        const rankData: RankData[] = [];\n        \n        data.forEach(item => {\n            // KVData\n            const coinData = item.KVDataList.find((kv: any) => kv.key === 'coin');\n            const levelData = item.KVDataList.find((kv: any) => kv.key === 'level');\n            \n            const coin = coinData ? parseInt(coinData.value, 10) || 0 : 0;\n            const level = levelData ? parseInt(levelData.value, 10) || 1 : 1;\n            \n            rankData.push({\n                openid: item.openid,\n                nickname: item.nickname,\n                avatarUrl: item.avatarUrl,\n                coin,\n                level,\n                timestamp: Date.now()\n            });\n        });\n        \n        // \n        this.sortRankData(rankData, rankType);\n        \n        // \n        if (rankData.length > 100) {\n            rankData.length = 100;\n        }\n        \n        console.log(`${rankType === RankType.COIN ? '' : ''}: ${rankData.length}`);\n        \n        return rankData;\n    }\n    \n    /**\n     * \n     * @param rankData \n     * @param rankType \n     */\n    private sortRankData(rankData: RankData[], rankType: RankType): void {\n        if (rankType === RankType.COIN) {\n            // \n            rankData.sort((a, b) => b.coin - a.coin);\n        } else if (rankType === RankType.LEVEL) {\n            // \n            rankData.sort((a, b) => {\n                if (a.level !== b.level) {\n                    return b.level - a.level;\n                }\n                return a.timestamp - b.timestamp;\n            });\n        }\n    }\n    \n    /**\n     * \n     * @param buttonNode \n     * @param successCallback \n     * @param failCallback \n     */\n    public createShareButton(buttonNode: any, successCallback?: (shareTicket: string) => void, failCallback?: (err: any) => void): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // \n            wx.createShareButton({\n                style: {\n                    left: buttonNode.x,\n                    top: buttonNode.y,\n                    width: buttonNode.width,\n                    height: buttonNode.height,\n                },\n                success: (res) => {\n                    console.log(':', res);\n                    if (successCallback) {\n                        successCallback(res.shareTickets[0]);\n                    }\n                },\n                fail: (err) => {\n                    console.error(':', err);\n                    if (failCallback) {\n                        failCallback(err);\n                    }\n                }\n            });\n        } catch (error) {\n            console.error(':', error);\n            if (failCallback) {\n                failCallback(error);\n            }\n        }\n    }\n    \n    /**\n     * \n     * @param rankType \n     * @param shareTicket \n     */\n    public showOpenDataRank(rankType: RankType, shareTicket?: string): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // \n            const openDataContext = wx.getOpenDataContext();\n            \n            // \n            openDataContext.postMessage({\n                type: 'showRank',\n                rankType: rankType,\n                shareTicket: shareTicket\n            });\n            \n            console.log('');\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n    \n    /**\n     * \n     */\n    public hideOpenDataRank(): void {\n        if (!this.isWechatEnvironment()) {\n            console.log('');\n            return;\n        }\n        \n        try {\n            const wx = window['wx'];\n            \n            // \n            const openDataContext = wx.getOpenDataContext();\n            \n            // \n            openDataContext.postMessage({\n                type: 'hideRank'\n            });\n            \n            console.log('');\n        } catch (error) {\n            console.error(':', error);\n        }\n    }\n}","import { Match3ZiUE } from \"./Match3ZiUE\";\n\nexport class ZiStack {\n\n    /** */\n    private m_Stack: Match3ZiUE[] = [];\n\n    /** */\n    public get empty(): boolean {\n        return this.m_Stack.length == 0;\n    }\n\n    /** */\n    public get top(): Match3ZiUE | null {\n        if (this.empty) {\n            return null;\n        }\n        return this.m_Stack[this.m_Stack.length - 1];\n    }\n\n    /** */\n    public push(zi: Match3ZiUE) {\n        this.m_Stack.push(zi);\n    }\n\n    /** */\n    public pop(): Match3ZiUE {\n        return this.m_Stack.pop();\n    }\n}","import { _decorator, Component, Node, Button, Label, UITransform, tween, Vec3 } from 'cc';\nimport { UILayer } from '../../../core/modules/ui/UILayer';\nimport { ResLoader } from '../../../core/modules/res/ResLoader';\n\nconst { ccclass, property } = _decorator;\n\n/**\n * \n */\n@ccclass('ZouZouEntry')\nexport class ZouZouEntry extends Component {\n    // UI\n    public static readonly viewLayer = UILayer.UI;\n\n    @property(Node)\n    private contentNode: Node = null; // \n\n    @property(Label)\n    private titleLabel: Label = null; // \n\n    @property(Label)\n    private descLabel: Label = null; // \n\n    @property(Button)\n    private closeButton: Button = null; // \n\n    private resLoader: ResLoader = null; // \n\n    /**\n     * UI\n     * @param loader \n     */\n    static R(loader: ResLoader) {\n        // \n        console.log(\"ZouZouEntry: UI\");\n    }\n\n    protected onLoad(): void {\n        // \n        this.resLoader = new ResLoader();\n    }\n\n    protected start(): void {\n        // UI\n        this.initUI();\n        \n        // \n        this.registerButtonEvents();\n        \n        // \n        this.addEnterAnimation();\n    }\n\n    /**\n     * UI\n     */\n    private initUI(): void {\n        // \n        if (this.titleLabel) {\n            this.titleLabel.string = '';\n        }\n        \n        // \n        if (this.descLabel) {\n            this.descLabel.string = '';\n        }\n    }\n\n    /**\n     * \n     */\n    private registerButtonEvents(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.node.on(Button.EventType.CLICK, this.onCloseButtonClick, this);\n        }\n    }\n\n    /**\n     * \n     */\n    private addEnterAnimation(): void {\n        if (this.contentNode) {\n            // 0\n            this.contentNode.setScale(new Vec3(0, 0, 1));\n            \n            // \n            tween(this.contentNode)\n                .to(0.3, { scale: new Vec3(1.1, 1.1, 1) })\n                .to(0.1, { scale: new Vec3(1, 1, 1) })\n                .start();\n        }\n    }\n\n    /**\n     * \n     */\n    private addExitAnimation(): Promise<void> {\n        return new Promise<void>((resolve) => {\n            if (this.contentNode) {\n                tween(this.contentNode)\n                    .to(0.2, { scale: new Vec3(0.8, 0.8, 1) })\n                    .to(0.1, { scale: new Vec3(0, 0, 1) })\n                    .call(() => {\n                        resolve();\n                    })\n                    .start();\n            } else {\n                resolve();\n            }\n        });\n    }\n\n    /**\n     * \n     */\n    private async onCloseButtonClick(): Promise<void> {\n        // \n        const scene = this.node.scene;\n        if (scene) {\n            scene.emit('BACK_TO_MAIN_SCENE');\n            console.log('ZouZouEntry: BACK_TO_MAIN_SCENE');\n        } else {\n            console.warn('ZouZouEntry: ');\n        }\n        \n        // \n        await this.addExitAnimation();\n        \n        // \n        this.close();\n    }\n\n    /**\n     * \n     */\n    private close(): void {\n        // \n        this.node.destroy();\n    }\n\n    /**\n     * \n     */\n    public startGame(): void {\n        console.log('...');\n        // TODO: \n    }\n\n    protected onDestroy(): void {\n        // \n        if (this.closeButton) {\n            this.closeButton.node.off(Button.EventType.CLICK, this.onCloseButtonClick, this);\n        }\n        \n        // \n        if (this.resLoader) {\n            this.resLoader.releaseResRef();\n            this.resLoader = null;\n        }\n    }\n}"]}